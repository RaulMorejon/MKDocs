{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Documentaci\u00f3 de Sistemes inform\u00e0tics Benvinguts, soc Ra\u00fal Morej\u00f3n i en aquesta web trobareu tota la documentaci\u00f3 relacionada amb sistemes inform\u00e0tics. Descripci\u00f3 de l'assignatura En aquesta assignatura, explorarem diversos aspectes dels sistemes inform\u00e0tics, incloent-hi la teoria i la pr\u00e0ctica necess\u00e0ries per al seu bon funcionament. A m\u00e9s, es presentaran diferents projectes que he desenvolupat. \u00a9 Ra\u00fal Morej\u00f3n. Aquest treball est\u00e0 llicenciat sota una Llic\u00e8ncia Creative Commons Atribuci\u00f3 4.0 Internacional . Contacte","title":"Inici"},{"location":"#documentacio-de-sistemes-informatics","text":"Benvinguts, soc Ra\u00fal Morej\u00f3n i en aquesta web trobareu tota la documentaci\u00f3 relacionada amb sistemes inform\u00e0tics.","title":"Documentaci\u00f3 de Sistemes inform\u00e0tics"},{"location":"#descripcio-de-lassignatura","text":"En aquesta assignatura, explorarem diversos aspectes dels sistemes inform\u00e0tics, incloent-hi la teoria i la pr\u00e0ctica necess\u00e0ries per al seu bon funcionament. A m\u00e9s, es presentaran diferents projectes que he desenvolupat. \u00a9 Ra\u00fal Morej\u00f3n. Aquest treball est\u00e0 llicenciat sota una Llic\u00e8ncia Creative Commons Atribuci\u00f3 4.0 Internacional . Contacte","title":"Descripci\u00f3 de l'assignatura"},{"location":"permisos/","text":"Permisos La informaci\u00f3 continguda en aquest lloc web est\u00e0 subjecta a certes condicions d\u00fas i permisos. A continuaci\u00f3, es detallen els aspectes clau relacionats amb l\u00fas de la informaci\u00f3 d'aquest projecte: \u00das Perm\u00e8s \u2705 Consulta: Pots consultar la documentaci\u00f3 per aprendre. Copiar: Podeu copiar parts de la documentaci\u00f3 sempre que s'inclogui l'atribuci\u00f3 corresponent. Modificar: Pots modificar la documentaci\u00f3 per a \u00fas personal o educatiu, per\u00f2 no has de redistribuir les versions modificades sense perm\u00eds. \u00das Prohibit \ud83d\udeab Distribuci\u00f3 Comercial: No es permet la venda de la documentaci\u00f3 o el seu \u00fas en productes comercials. Alteracions Malintencionades: No pots alterar el contingut de la documentaci\u00f3 per difondre informaci\u00f3 incorrecta o maliciosa. Contacte \ud83d\udce8 Si vols obtenir m\u00e9s informaci\u00f3 sobre els permisos no dubtis en contactar per correu: raulmorejon@iesebre.com","title":"Pol\u00edtiques d'\u00fas i contacte"},{"location":"permisos/#permisos","text":"La informaci\u00f3 continguda en aquest lloc web est\u00e0 subjecta a certes condicions d\u00fas i permisos. A continuaci\u00f3, es detallen els aspectes clau relacionats amb l\u00fas de la informaci\u00f3 d'aquest projecte:","title":"Permisos"},{"location":"permisos/#us-permes","text":"Consulta: Pots consultar la documentaci\u00f3 per aprendre. Copiar: Podeu copiar parts de la documentaci\u00f3 sempre que s'inclogui l'atribuci\u00f3 corresponent. Modificar: Pots modificar la documentaci\u00f3 per a \u00fas personal o educatiu, per\u00f2 no has de redistribuir les versions modificades sense perm\u00eds.","title":"\u00das Perm\u00e8s \u2705"},{"location":"permisos/#us-prohibit","text":"Distribuci\u00f3 Comercial: No es permet la venda de la documentaci\u00f3 o el seu \u00fas en productes comercials. Alteracions Malintencionades: No pots alterar el contingut de la documentaci\u00f3 per difondre informaci\u00f3 incorrecta o maliciosa.","title":"\u00das Prohibit \ud83d\udeab"},{"location":"permisos/#contacte","text":"Si vols obtenir m\u00e9s informaci\u00f3 sobre els permisos no dubtis en contactar per correu: raulmorejon@iesebre.com","title":"Contacte \ud83d\udce8"},{"location":"sprint1/","text":"Sprint 1","title":"Sprint 1"},{"location":"sprint1/#sprint-1","text":"","title":"Sprint 1"},{"location":"sprint2/","text":"Gesti\u00f3 de la Informaci\u00f3 del Sistema i Administraci\u00f3 1. Configuraci\u00f3 inicial Primer de tot, s'ha d'instal\u00b7lar Ubuntu Linux en una m\u00e0quina virtual. Per fer la instal\u00b7laci\u00f3, s'ha d'anar a la p\u00e0gina oficial d'Ubuntu per descarregar l'arxiu .ISO . Aquest fitxer cont\u00e9 la imatge necess\u00e0ria per poder instal\u00b7lar Ubuntu en la m\u00e0quina virtual. Descarregar Ubuntu Per descarregar Ubuntu, clica l'enlla\u00e7 i espera que es faci la desc\u00e0rrega autom\u00e0tica de Ubuntu Desktop 24.04.1 LTS . Un cop finalitzada la desc\u00e0rrega, tindr\u00e0s el fitxer .ISO llest per ser utilitzat. Crear la m\u00e0quina virtual amb VirtualBox Despr\u00e9s de la desc\u00e0rrega, cal obrir un programa per crear m\u00e0quines virtuals. En aquest cas, s'utilitzar\u00e0 VirtualBox . Aquesta eina ens permetr\u00e0 crear i gestionar la m\u00e0quina virtual en qu\u00e8 instal\u00b7larem Ubuntu. Un cop instal\u00b7lat VirtualBox al teu ordinador, pots comen\u00e7ar a crear la m\u00e0quina virtual seguint els passos necessaris. Afegir i configurar la m\u00e0quina En aquest apartat es comen\u00e7ar\u00e0 amb la creaci\u00f3 d'una m\u00e0quina virtual utilitzant l'arxiu .ISO descarregat en l'apartat anterior. Tamb\u00e9 es far\u00e0 la configuraci\u00f3 de l'entorn necessari per posar la m\u00e0quina en funcionament. Passos a seguir: Obrim VirtualBox i busquem a la part superior el bot\u00f3 \"Nova\" per comen\u00e7ar el proc\u00e9s de creaci\u00f3 de la m\u00e0quina virtual. En la finestra seg\u00fcent, cal posar el nom de la m\u00e0quina virtual. A la secci\u00f3 \"ISO image\" , seleccionarem ISO descarregat al principi de l'article per configurar la imatge d'instal\u00b7laci\u00f3 de la m\u00e0quina virtual. Un cop seleccionat el fitxer, fem clic a Endavant per continuar. A continuaci\u00f3, cal introduir un nom d'usuari i una contrasenya que compleixi els requisits m\u00ednims de seguretat. Aquesta informaci\u00f3 ser\u00e0 necess\u00e0ria per accedir al sistema operatiu un cop estigui instal\u00b7lat. Ara s'ha de configurar la quantitat de mem\u00f2ria RAM que es vol assignar a la m\u00e0quina virtual. Tamb\u00e9 cal especificar la quantitat de processos de la CPU que es volen utilitzar. Finalment, cal determinar la mida del disc dur virtual per emmagatzemar els fitxers del sistema operatiu i altres dades. Crear i gestionar comptes d'usuari locals Passarem a veure la creaci\u00f3 d'usuaris locals. Per crear-lo s'utilitzar\u00e0 la comanda adduser : Introdu\u00efm una S o premem enter per seguir amb la creaci\u00f3: 2. Processos Els processos en Linux poden ser de dos tipus: en primer pla o en segon pla . Els processos en primer pla interactuen amb l'usuari i bloquegen la terminal fins que finalitzen, mentre que els processos en segon pla poden continuar executant-se mentre l'usuari segueix utilitzant la terminal. A m\u00e9s, els processos poden tenir una prioritat alta o baixa, depenent de la seva import\u00e0ncia o de la configuraci\u00f3 del sistema. Els processos poden estar en diversos estats: Running : El proc\u00e9s s'est\u00e0 executant. Sleeping : El proc\u00e9s est\u00e0 inactiu, esperant una acci\u00f3 externa. Stopped : El proc\u00e9s est\u00e0 aturat. Zombie : El proc\u00e9s ha acabat, per\u00f2 encara apareix a la taula de processos perqu\u00e8 el proc\u00e9s pare no ha llegit el seu estat de sortida. Comandes b\u00e0siques per gestionar els processos A continuaci\u00f3, es mostren algunes de les comandes m\u00e9s utilitzades per gestionar els processos en Linux: ps : Mostra una llista de processos en execuci\u00f3. Per exemple, amb ps aux es mostra una llista completa de tots els processos en execuci\u00f3 amb informaci\u00f3 detallada. top : Mostra informaci\u00f3 en temps real sobre els processos i l'\u00fas de recursos del sistema. Aquesta comanda mostra els processos m\u00e9s pesats en termes d'\u00fas de recursos. kill : Permet enviar una senyal a un proc\u00e9s, habitualment per aturar-lo. Per obtenir el PID (Process ID) del proc\u00e9s que vols aturar, primer pots utilitzar la comanda top . Un cop obtingut el PID, pots utilitzar kill PID per aturar el proc\u00e9s. Per exemple, si utilitzem el PID = 2463 , podem matar el proc\u00e9s amb la comanda seg\u00fcent, la qual tancar\u00e0 el terminal del sistema. bg i fg : Aquests comandaments permeten moure un proc\u00e9s entre el primer pla i el segon pla. Per fer una prova, crearem un proc\u00e9s d'espera de 1000 segons : Seguidament, utilitzarem CTRL + Z per aturar-lo, per\u00f2 sense matar el proc\u00e9s: La comanda bg envia un proc\u00e9s aturat al segon pla. Llavors, utilitzem bg sleep per passar el proc\u00e9s al segon pla: La comanda fg porta un proc\u00e9s del segon pla al primer pla. Per exemple, utilitzem fg per passar el proc\u00e9s creat abans al primer pla: pstree : Mostra els processos en forma d'arbre, mostrant les relacions entre processos. Per veure-ho, utilitzem la comanda pstree al terminal: 3. Instal\u00b7laci\u00f3 de Serveis Essencials Abans d'instal\u00b7lar qualsevol servei, \u00e9s recomanable assegurar-se que el sistema estigui actualitzat. Per aix\u00f2, es far\u00e0 \u00fas de la comanda sudo apt update : Despr\u00e9s, es realitza la comanda sudo apt upgrade : Gesti\u00f3 de Serveis Un cop instal\u00b7lats els serveis, es poden gestionar amb la comanda systemctl . Aquesta comanda permet iniciar, parar o reiniciar serveis. A continuaci\u00f3 es mostra un exemple d'aquesta comanda amb el servei SSH : Tamb\u00e9 podem editar el fitxer de configuraci\u00f3 de SSH , obrint-lo amb la comanda sudo nano /etc/ssh/sshd_config per fer els seg\u00fcents canvis: Desactivar l'acc\u00e9s del root amb PermitRootLogin no : Permetre l'acc\u00e9s per contrasenya amb PasswordAuthentication yes : Comprovar Processos en Execuci\u00f3 Per veure els processos en execuci\u00f3, podem utilitzar comandes com top , que ens mostra els processos en temps real, o podem obtenir una instant\u00e0nia dels processos amb ps aux , com es veu a la captura: Tamb\u00e9 podem cercar i filtrar un proc\u00e9s espec\u00edfic amb la comanda grep : Una comanda m\u00e9s \u00fatil que les anteriors \u00e9s htop , que mostra tots els processos en execuci\u00f3 en temps real, el seu \u00fas de CPU i mem\u00f2ria. La instal\u00b7larem amb sudo apt install htop i la podrem executar: Optimitzar l'\u00das de Recursos Per comprovar l'\u00fas de la mem\u00f2ria i la CPU en temps real, podem utilitzar la comanda vmstat 1 : Per optimitzar l'espai quan l'equip utilitza un disc SSD, podem fer servir la comanda sudo fstrim -v . I per mantenir el sistema optimitzat, \u00e9s recomanable mantenir-lo actualitzat. Actualitzar amb sudo apt update && sudo apt upgrade : Administrar Serveis Actius Segons les Necessitats del Sistema Per identificar els serveis actius, utilitzarem la comanda systemctl : S'ha de revisar quins serveis s'estan executant i determinar si s\u00f3n necessaris. Per aturar serveis innecessaris, utilitzarem la comanda sudo systemctl stop nom_del_servei . Si un servei no \u00e9s necessari a l'inici del sistema, \u00e9s millor deshabilitar-lo amb sudo systemctl disable nom_del_servei . Si es necessita un servei per a una tasca espec\u00edfica, es pot habilitar temporalment amb la comanda sudo systemctl enable nom_del_servei , de manera que s'iniciar\u00e0 autom\u00e0ticament a l'arrencada. 4. Usuaris i Grups Per revisar la llista d'usuaris creats al sistema, anirem al fitxer /etc/passwd : Per eliminar un usuari de qualsevol grup, podem utilitzar la comanda deluser nom_usuari nom_grup : Per crear un grup , utilitzarem la comanda sudo groupadd nom_grup , i despr\u00e9s comprovarem aquest grup amb la comanda getent group | grep nom_grup : Per afegir un usuari a un grup creat o existent, utilitzarem la comanda sudo usermod -aG nom_grup nom_usuari . Aquesta comanda no retorna cap missatge. Despr\u00e9s, farem una comprovaci\u00f3 dels grups als quals pertany l'usuari amb groups nom_usuari : Tamb\u00e9 podem crear un usuari dins d'un grup amb la comanda adduser nom_usuari nom_grup . Despr\u00e9s, comprovarem que al grup sudo tenim dos usuaris: La primera part de la l\u00ednia \u00e9s el nom del grup, seguida d'una \"X\" que indica que no s'utilitza contrasenya per al grup. Despr\u00e9s ve l'identificador del grup i una llista d'usuaris membres del grup. Per canviar la contrasenya d'un usuari, utilitzarem la comanda passwd nom_usuari . Ens demanar\u00e0 una nova contrasenya, mantenint la privacitat de les dades de l'usuari: Al fitxer /etc/passwd , podem trobar informaci\u00f3 b\u00e0sica sobre els comptes d'usuari, com el nom de l'usuari, l'identificador \u00fanic d'usuari (UID), i el directori personal de l'usuari: Al fitxer /etc/shadow es guarden les contrasenyes encriptades de cada usuari. La l\u00ednia de cada usuari cont\u00e9 informaci\u00f3 sobre quan es va canviar la contrasenya per \u00faltima vegada, els dies d'espera per canviar la contrasenya, i altres par\u00e0metres de seguretat: Per crear un sistema personal d'arxius per a un usuari, utilitzarem la comanda mkdir nom_usuari/carpeta . Per\u00f2, per defecte, el directori ser\u00e0 propietat de l'usuari root . Per canviar el propietari i el grup, utilitzarem la comanda chown nom_usuari:nom_grup directori : Per bloquejar un usuari , utilitzarem la comanda usermod -L nom_usuari . A l'arxiu /etc/shadow , l'usuari apareixer\u00e0 amb un ! , indicant que el compte est\u00e0 bloquejat. Per desbloquejar-lo, utilitzarem usermod -U nom_usuari : Per eliminar un usuari , utilitzarem la comanda deluser nom_usuari , per\u00f2 aquesta comanda no eliminar\u00e0 el directori personal de l'usuari. Si volem eliminar tot, incl\u00f2s el directori personal, utilitzarem userdel -r nom_usuari : Per canviar el nom d'usuari , utilitzarem la comanda usermod -l nom_nou nom_usuari . Aquesta comanda no canvia el nom del directori personal. Per aix\u00f2, haurem de fer servir mv directori_antic/ directori_nou/ : Per\u00f2 encara caldr\u00e0 actualitzar el grup al qual pertany l'usuari. Per canviar el nom del grup, utilitzarem la comanda groupmod -n nom_nou nom_grup : Finalment, el nom de l'usuari i el grup hauran estat canviats correctament. Definir pol\u00edtiques de seguretat per a contrasenyes i accessos Per gestionar les pol\u00edtiques de contrasenyes, hem de modificar el fitxer /etc/login.defs : Obrim el fitxer amb sudo nano /etc/login.defs : Modifiquem la l\u00ednia PASS_MAX_DAYS per establir la durada m\u00e0xima de la contrasenya, i altres par\u00e0metres si cal: Tamb\u00e9 podem configurar la qualitat de les contrasenyes, com la longitud m\u00ednima. Per fer-ho, obrim el fitxer /etc/security/pwquality.conf amb sudo nano /etc/security/pwquality.conf : Busquem la l\u00ednia minlen = i establim el n\u00famero m\u00ednim de car\u00e0cters per a la contrasenya: Configuracions de l'inici de sessi\u00f3 Per configurar els arxius de bash en l'inici de sessi\u00f3 d'un usuari, cal accedir a diversos fitxers en el directori de cada usuari. Aquests fitxers estan ocults, aix\u00ed que utilitzarem la comanda ls -la per veure'ls: El fitxer .bash_logout executa ordres quan es tanca una sessi\u00f3 de Bash. El fitxer .bashrc configura l'entorn cada vegada que s'obre una nova terminal de Bash. El fitxer .profile s'executa quan s'inicia una sessi\u00f3 de login, configurant l'entorn global de l'usuari. Si volem aplicar aquestes configuracions a tots els usuaris que es cre\u00efn, hem de modificar aquests fitxers en el directori /etc/skel : Farem les configuracions pertinents als seg\u00fcents fitxers .bash_logout : .bashrc : .profile : 5. Permisos Permisos normals El primer que farem ser\u00e0 crear els tres usuaris seg\u00fcents: Els permisos en Linux es divideixen en tres grups, que s'assignen de la seg\u00fcent manera: Propietari : Els tres primers permisos. Grup propietari : Els tres permisos seg\u00fcents. Altres : Els tres permisos finals. Quan creem un arxiu, aquest comen\u00e7ar\u00e0 amb - , mentre que si es crea un directori, comen\u00e7ar\u00e0 amb d . Permisos en arxius Lletres dels permisos : r : Lectura w : Escriptura (modificaci\u00f3) x : Execuci\u00f3 Creem un grup anomenat ddam i afegim l'usuari prova2 : A continuaci\u00f3, creem una carpeta a /tmp i un fitxer anomenat hola . Si revisem els permisos d'aquesta carpeta, podem veure el seg\u00fcent: Propietari : Permisos totals (lectura, escriptura i execuci\u00f3). Grup : Permisos totals (lectura, escriptura i execuci\u00f3). Altres : Nom\u00e9s permisos de lectura i execuci\u00f3, sense perm\u00eds d'escriptura. Canviar grup amb chgrp El comandament chgrp s'utilitza per canviar el grup d'un directori o fitxer. Si es fa servir amb l'opci\u00f3 -R , el canvi es realitza de manera recursiva, \u00e9s a dir, no nom\u00e9s sobre el fitxer o directori especificat, sin\u00f3 tamb\u00e9 sobre tots els fitxers i subdirectoris dins d'ell. Creem el directori proves i l'assignem al grup ddam : Ara, el directori pertany al grup ddam : Modificar permisos amb chmod El comandament chmod s'utilitza per modificar els permisos dels fitxers i directoris. Els permisos es representen amb n\u00fameros: 7 : Permisos totals (lectura, escriptura, execuci\u00f3). 5 : Permisos de lectura i execuci\u00f3. 0 : Sense permisos. Exemple de com modificar els permisos d'un fitxer o directori: Tamb\u00e9 podem afegir permisos als grups de la seg\u00fcent manera. Per exemple, g+w afegeix el perm\u00eds d'escriptura al grup propietari, i o+r afegeix el perm\u00eds de lectura als \"altres\" usuaris: Quan s'assignen permisos de modificaci\u00f3 i execuci\u00f3, els arxius o directoris es ressalten en color verd: Permisos especials. Podem assignar permisos diferents a un directori o carpeta per a un usuari. Per exemple, podem configurar-los perqu\u00e8 cadasc\u00fa pugui esborrar nom\u00e9s els fitxers que ha creat, per\u00f2 no els dels altres. Per aconseguir-ho, farem servir el Sticky Bit . Creaci\u00f3 de la carpeta i el fitxer Creem una carpeta anomenada pelis i un fitxer anomenat script.sh dins d'aquesta carpeta: Assignem permisos d'execuci\u00f3 al fitxer script.sh , per tal que sigui executable pels usuaris que tinguin els permisos adequats: Afegim el perm\u00eds setuid (u+s) a l'script. Aquest perm\u00eds fa que l'script sigui executat per diversos usuaris, per\u00f2 amb els permisos del propietari del fitxer. Quan s'aplica aquest perm\u00eds, el fitxer canviar\u00e0 de color a vermell per indicar que el perm\u00eds ha estat afegit: El bit 4 indica que quan s'executi el fitxer, s'executar\u00e0 amb els permisos del propietari i no amb els del usuari que l'est\u00e0 executant. Aix\u00f2 assegura que l'script s'executi amb els privilegis necessaris per dur a terme les accions que requereix: Afegim el Sticky Bit (t) a la carpeta pelis . Aquest perm\u00eds fa que tots els usuaris poden veure el contingut de la carpeta, per\u00f2 nom\u00e9s podran eliminar els fitxers que han creat ells mateixos. Aix\u00f2 evita que un usuari pugui esborrar fitxers creats per altres usuaris dins del mateix directori: Creem dos fitxers dins de la carpeta pelis i comprovem el comportament amb diferents usuaris. Cada usuari nom\u00e9s pot veure els fitxers, per\u00f2 no pot eliminar els fitxers creats per altres usuaris, nom\u00e9s els que ha creat ell mateix: Permisos ACLs Amb l'ordre getfacl podem veure els permisos dividits per grups i si hi ha algun perm\u00eds especial aqu\u00ed el podreu veure: Pr\u00e8viament hem creat l'usuari proves3 i ho hem ficat al grup ddam i l'hi afegim permisos especials amb setfcal , sense permisos en aquest cas, que t\u00e9 m\u00e9s prioritat que el perm\u00eds de l'usuari que ja tenia . Per veure'ls de nou fem servir la comanda getfacl i a la segona l\u00ednia surt aquest perm\u00eds especial. Si teniu permisos especials es mostra amb el + al final dels diversos permisos. setfacl -m user:nom_usuari:--- fixer.txt setfacl -m group:nom_usuari:--- carpeta setfacl -b fitxer/carpeta Confirmem que l'usuari prova3 no t\u00e9 permisos de cap tipus ja que no deixa ni entrar a la carpeta: Restablim els permisos especials: 6. Particions Estructura de l'informaci\u00f3 La estructura de l'informaci\u00f3 es refereix a com es distribueix i s'emmagatzema la informaci\u00f3 dins d'un sistema d'emmagatzematge, com un disc dur o una mem\u00f2ria. En aquest context, hem de tenir en compte dos conceptes importants: la fragmentaci\u00f3 interna i la fragmentaci\u00f3 externa . Mida de sector i mida de bloc Mida de sector : El sector \u00e9s la unitat m\u00e9s petita d'emmagatzematge en un disc o sistema d'arxius. \u00c9s una porci\u00f3 del disc on es poden llegir o escriure dades. Normalment, els sectors tenen una mida de 512 bytes, tot i que tamb\u00e9 poden ser de 4 KB en discs m\u00e9s moderns. Mida de bloc : El bloc \u00e9s una unitat d'emmagatzematge l\u00f2gica utilitzada pel sistema d'arxius. Normalment, un bloc \u00e9s m\u00e9s gran que un sector i la seva mida pot variar depenent del sistema d'arxius (per exemple, 4 KB, 8 KB, etc.). Els arxius es divideixen en blocs per al seu emmagatzematge. Fragmentaci\u00f3 interna La fragmentaci\u00f3 interna es produeix quan un arxiu petit no omple completament el bloc d'emmagatzematge assignat. Per exemple, si un bloc \u00e9s de 4 KB per\u00f2 un arxiu nom\u00e9s ocupa 1 KB, els 3 KB restants del bloc es queden desaprofitats, cosa que provoca un \u00fas ineficient de l'espai. Soluci\u00f3 : Per evitar la fragmentaci\u00f3 interna, es podria fer que els blocs fossin m\u00e9s petits, cosa que permetria aprofitar millor l'espai. Tanmateix, fer els blocs m\u00e9s petits tamb\u00e9 t\u00e9 inconvenients, ja que podria comportar una major quantitat de blocs que cal llegir i escriure, la qual cosa podria fer que el sistema fos m\u00e9s lent. A m\u00e9s, quan es suprimeix un arxiu, els blocs buits s'han de gestionar, la qual cosa pot disminuir l'efici\u00e8ncia general. Fragmentaci\u00f3 externa La fragmentaci\u00f3 externa es produeix quan un arxiu es divideix en diversos blocs dispersos per tot el sistema d'emmagatzematge, en lloc d'emmagatzemar-se de manera contigua. Aix\u00f2 passa quan els arxius es guarden en blocs diferents sense un ordre espec\u00edfic, el que pot alentir l'acc\u00e9s a l'arxiu, ja que el sistema ha de buscar els blocs en diferents parts del disc. Soluci\u00f3 : La desfragmentaci\u00f3 \u00e9s la t\u00e8cnica utilitzada per resoldre aquest problema. Consisteix a reorganitzar els blocs dels arxius de manera que s'emmagatzemin de forma contigua, millorant aix\u00ed la velocitat d'acc\u00e9s. Amb les eines de desfragmentaci\u00f3, es pot analitzar i reorganitzar el disc per minimitzar la fragmentaci\u00f3 externa i millorar el rendiment general. Estructura F\u00edsica Mec\u00e0nica : En discos durs tradicionals (HDD), l'estructura f\u00edsica \u00e9s mec\u00e0nica, amb components m\u00f2bils com discs magn\u00e8tics i bra\u00e7os d'acc\u00e9s que es mouen per llegir i escriure dades. Els HDD solen ser m\u00e9s lents a causa d'aquestes parts m\u00f2bils. S\u00f2lida : En discos de mem\u00f2ria s\u00f2lida (SSD), l'estructura \u00e9s electr\u00f2nica, sense parts m\u00f2bils, utilitzant mem\u00f2ria flash per emmagatzemar dades. Els SSD tenen velocitats d'acc\u00e9s molt m\u00e9s r\u00e0pides que els HDD, ja que no depenen de components mec\u00e0nics. Estructura L\u00f2gica GPT (GUID Partition Table) : \u00c9s un sistema modern per gestionar particions, amb suport per a discos de m\u00e9s de 2 TB i fins a 128 particions. GPT \u00e9s m\u00e9s fiable i flexible que MBR, i \u00e9s \u00e0mpliament utilitzat en sistemes modernes. MBR (Master Boot Record) : \u00c9s un sistema antic de 32 bits, amb limitacions de capacitat i nombre de particions (fins a 2 TB i 4 particions). Tot i que encara es fa servir en alguns sistemes m\u00e9s antics, GPT \u00e9s el sistema preferit en dispositius moderns. Per veure quina estructura l\u00f2gia tenim el que es fara sera executar la comanda gdisk /dev/sda : Per llistar els discs i particions, farem \u00fas de la comanda fdisk . Podrem veure tots els sectors amb un tamany de 512 bytes , que \u00e9s la unitat m\u00ednima f\u00edsica on es guarden les dades. Tamany del Bloc Seguidament, observarem el tamany actual del bloc , que per defecte \u00e9s de 4096 bytes . Aquest tamany es pot canviar depenent de l'\u00fas. Les dades es guarden en 8 sectors . Tamany del Fitxer en el Sistema A continuaci\u00f3, podem veure que un fitxer ocupa m\u00e9s en el sistema operatiu del que pesa el propi fitxer, ja que el bloc t\u00e9 un tamany m\u00ednim assignat. Creem el fitxer hola amb el seu contingut, i amb les opcions -b veiem el tamany del propi document, mentre que amb -sh veiem el que ocupa en el sistema. Visualitzaci\u00f3 de l'\u00das d'Espai Amb la comanda df -T podem veure l'unitat d'emmagatzematge i totes les parts que estan en \u00fas: Llistar Dispositius Connectats Per veure tots els dispositius connectats al teu sistema, incloent discs i particions, farem \u00fas de la comanda lsblk : Primer de tot, per crear una nova partici\u00f3, farem \u00fas de sudo fdisk /dev/sda , sent sda l'identificador del teu disc: Seguidament, haurem d'escriure n i pressionar Enter per crear la nova partici\u00f3. El sistema ens preguntar\u00e0 si volem crear una partici\u00f3 prim\u00e0ria (p) o estesa (e) . En aquest cas, seleccionarem una partici\u00f3 prim\u00e0ria (p) . Ara, especificarem el n\u00famero de partici\u00f3, o podem utilitzar el n\u00famero suggerit per defecte. Premem Enter per acceptar el valor per defecte del primer sector i, tot seguit, definirem la mida de la partici\u00f3 en GB , per exemple, +20GB . Tamb\u00e9 podem pressionar Enter per assignar tota la capacitat disponible al disc. Per verificar la nova partici\u00f3, haurem d'escriure p per llistar les particions i assegurar-nos que la nova partici\u00f3 s'ha creat correctament. Per guardar els canvis, escrivim w i pressionem Enter . Aix\u00f2 escriur\u00e0 la nova taula de particions i sortir\u00e0 de fdisk . Finalment, per crear un sistema d'arxius en la nova partici\u00f3: sudo mkfs.ext4 /dev/sda3 . Tipus de formateig Format de alt nivell (r\u00e0pid) : Elimina el sistema de fitxers existent, per\u00f2 no borra els arxius . Crea una nova estructura del sistema de fitxers, per\u00f2 les dades poden ser recuperades mitjan\u00e7ant eines de recuperaci\u00f3. \u00c9s el m\u00e9s r\u00e0pid i generalment utilitzat quan volem reutilitzar un dispositiu d'emmagatzematge sense perdre dades de manera permanent immediata. Format normal : Elimina el sistema de fitxers i marca els sectors defectuosos . Els arxius desapareixen, per\u00f2 encara poden ser recuperats fins que es sobreescriguin amb nous fitxers. Aquest tipus de format \u00e9s \u00fatil quan el dispositiu pot tenir problemes de seguretat o corrupci\u00f3 i volem netejar la unitat. Format de baix nivell (lent) : Borra totes les dades de manera exhaustiva, incloent-hi l\u2019estructura f\u00edsica del disc. El disc es restaura al seu estat inicial, com si fos nou. \u00c9s el proc\u00e9s m\u00e9s lent i permanent, ja que les dades es perden de forma irreversible. Es recomana per a situacions on la seguretat \u00e9s crucial, ja que assegura la destrucci\u00f3 de dades de manera completa. Qu\u00e8 \u00e9s un sistema de fitxers? Un sistema de fitxers \u00e9s un conjunt de mecanismes que organitza, gestiona i emmagatzema fitxers en un dispositiu d'emmagatzematge com un disc dur, SSD o dispositius de mem\u00f2ria extra\u00efble. Un sistema de fitxers defineix la manera en qu\u00e8 es guarden les dades, com s'hi accedeix, i com es gestionen els noms i permisos dels fitxers. Aquests sistemes determinen com els arxius s\u00f3n organitzats en el disc, com s\u00f3n identificats, llegits, escrits, i gestionats, aix\u00ed com la manera en qu\u00e8 es gestionen els permisos d'acc\u00e9s i la seguretat de les dades. Exemples comuns de sistemes de fitxers : ext4 : Sistema de fitxers usat habitualment en distribucions de Linux, conegut per la seva estabilitat i efici\u00e8ncia. NTFS : Sistema de fitxers propietari de Microsoft, utilitzat en la majoria dels sistemes Windows, amb suport per a arxius grans i seguretat avan\u00e7ada. FAT32 : Un sistema m\u00e9s antic, compatible amb molts dispositius i sistemes operatius, per\u00f2 amb limitacions, com la mida m\u00e0xima d'arxiu de 4 GB. Btrfs : Un sistema de fitxers de nova generaci\u00f3 per a Linux, orientat a la gesti\u00f3 avan\u00e7ada de dades i a la integritat dels arxius. XFS : Un sistema de fitxers altament escalable i de rendiment elevat, utilitzat principalment en entorns de servidor. Apuntadors i gesti\u00f3 dels fitxers Inode : Cada fitxer en un sistema de fitxers t\u00e9 un inode associat. L'inode emmagatzema tota la informaci\u00f3 del fitxer, com ara els permisos, la mida, les dates de creaci\u00f3 i modificaci\u00f3, aix\u00ed com la ubicaci\u00f3 f\u00edsica de les dades en el disc. Important : L'inode no cont\u00e9 el nom del fitxer. El nom del fitxer es guarda en un directori que apunta a un inode espec\u00edfic. Directoris : Els directoris s\u00f3n estructures de dades especials que actuen com a taules de mapeig. Vinculen els noms dels fitxers amb els seus respectius inodes . En lloc de contenir les dades reals dels fitxers, els directoris contenen enlla\u00e7os (apuntadors) als inodes que representen cada fitxer. Aix\u00f2 permet accedir al fitxer a trav\u00e9s del seu nom. Apuntadors a blocs de dades : Els inodes contenen apuntadors que referencien els blocs de dades on es desa el contingut real del fitxer. Els blocs de dades s\u00f3n les unitats f\u00edsiques d'emmagatzematge on es guarden les dades. Quan un fitxer \u00e9s petit, pot ser emmagatzemat en un \u00fanic bloc. Tanmateix, per a fitxers m\u00e9s grans, es poden utilitzar apuntadors dobles o triples : Apuntadors simples : Apunten directament als blocs de dades. Apuntadors dobles : Apunten a blocs que, al seu torn, contenen m\u00e9s apuntadors a blocs de dades. Apuntadors triples : Apunten a blocs que contenen apuntadors dobles, oferint una capa addicional de refer\u00e8ncies per a fitxers molt grans. Creaci\u00f3 de particions Primer de tot, cal saber que EXT4 \u00e9s un sistema de fitxers utilitzat principalment en Linux. Aquest sistema de fitxers millora la gesti\u00f3 de particions mitjan\u00e7ant diverses caracter\u00edstiques importants com ara: seguretat de registres de canvis , que permet mantenir un registre dels canvis realitzats al sistema de fitxers, facilitant la recuperaci\u00f3 en cas de fallades; suport per a fitxers i particions m\u00e9s grans , permetent gestionar volums de dades molt m\u00e9s grans que altres sistemes de fitxers com FAT32; millora de l'organitzaci\u00f3 i reducci\u00f3 de la fragmentaci\u00f3 , la qual cosa redueix la fragmentaci\u00f3 i millora la velocitat d'acc\u00e9s als arxius; m\u00e9s r\u00e0pid i compatible amb versions anteriors , sent m\u00e9s eficient i mantenint compatibilitat amb versions antigues del sistema operatiu Linux; i fiabilitat i adequaci\u00f3 per a grans volums de dades , ja que \u00e9s un sistema robust i ideal per gestionar grans quantitats de dades. Per llistar totes les particions disponibles en el sistema, utilitzarem la comanda fdisk -l . Aquesta comanda mostrar\u00e0 totes les particions creades en els discs del sistema. Haurem de buscar una partici\u00f3 que hem creat pr\u00e8viament amb una mida de 2 GB. Una vegada provat el disc i sabent el seu nom, entrarem dins d'ell amb fdisk /dev/sdb : En aquest punt farem la Creaci\u00f3 d'una partici\u00f3 : Per crear la partici\u00f3, haurem d'introduir la lletra n , de new . Seguidament, el sistema ens far\u00e0 escollir entre una partici\u00f3 prim\u00e0ria o estesa . La difer\u00e8ncia principal \u00e9s la seg\u00fcent: La partici\u00f3 prim\u00e0ria es pot utilitzar directament per emmagatzemar dades o un sistema operatiu. La partici\u00f3 estesa serveix per crear m\u00faltiples particions l\u00f2giques dins d'ella. En el sistema MBR, es poden tenir fins a 4 particions prim\u00e0ries, per\u00f2 nom\u00e9s una partici\u00f3 estesa, que pot contenir diverses particions l\u00f2giques. En aquest cas, farem enter per escollir el valor predeterminat, que ser\u00e0 la partici\u00f3 prim\u00e0ria. En el nombre de particions, farem tamb\u00e9 \u00fas del valor predeterminat, que ser\u00e0 una sola partici\u00f3. Arribem a la part on hem d'escollir la mida de la partici\u00f3. El valor predeterminat \u00e9s una mica m\u00e9s de 4 milions de sectors, aix\u00ed que crearem una partici\u00f3 de la meitat, \u00e9s a dir, 2 milions de sectors . Finalment, introdu\u00efm w per guardar els canvis. Per verificar que la partici\u00f3 s'ha creat correctament, utilitzem fdisk -l i veiem el disc sdb de 2GB i la partici\u00f3 sdb1 : Amb la comanda mkfs.ext4 -b 2048 /dev/sdb1 el que estarem fent \u00e9s especificar la mida del bloc quan es crea un sistema de fitxers EXT4 en la partici\u00f3. En aquest cas, li estem indicant una mida de 2048 bytes , la qual \u00e9s \u00fatil per a arxius petits perqu\u00e8 permet un \u00fas m\u00e9s eficient de l'espai i redueix la fragmentaci\u00f3 interna. No obstant aix\u00f2, per arxius grans, podria ser menys eficient en termes de rendiment, ja que es necessiten m\u00e9s operacions per llegir o escriure els arxius. Comprovem la mida del bloc fent un grep del bloc de la nostra partici\u00f3 i veiem size = 2048 : Muntatge de particions El muntatge de particions \u00e9s el proc\u00e9s mitjan\u00e7ant el qual el sistema operatiu associa una partici\u00f3 o dispositiu d'emmagatzematge a un directori del sistema de fitxers, permetent accedir-hi i gestionar els arxius. Per muntar una partici\u00f3 es fa servir la comanda mount , i per desmuntar-la s'utilitza umount . Muntar una partici\u00f3 \u00e9s necessari abans de poder treballar amb els seus arxius al sistema. Tenim dues maneres de muntar una partici\u00f3: De forma temporal , \u00e9s a dir, que quan l'equip es reinicia, s'ha de tornar a muntar la partici\u00f3. De forma definitiva , una vegada muntada la partici\u00f3 ja no es \"perd\" aquest muntatge ni quan l'equip es reinicia. Muntatge temporal Primer de tot, creem un directori que s'anomenar\u00e0 particio1 . Farem el muntatge de la partici\u00f3 dins del directori que hem creat amb la comanda mount -t ext4 <partici\u00f3> <directori> . Algunes opcions de permisos que accepta aquesta comanda s\u00f3n les seg\u00fcents: -o rw : Muntatge en mode lectura-escriptura. -o ro : Muntatge en mode nom\u00e9s lectura. -o noatime : No actualitza el temps d'acc\u00e9s als fitxers, millorant el rendiment. -o uid=<id_usuari>, gid=<id_grup> : Assigna un usuari i grup espec\u00edfics als fitxers. -o noexec : Impedeix l'execuci\u00f3 de fitxers executables. -o umask=<mascara> : Controla els permisos per defecte dels fitxers creats. Aquestes opcions permeten personalitzar com es muntar\u00e0 la partici\u00f3 segons les necessitats del sistema. Podem veure que, una vegada muntada la partici\u00f3, en el directori creat han aparegut fitxers, i all\u00e0 mateix creem un fitxer de prova . Si la desmuntem amb la comanda umount , tots els fitxers no es mostren. No s'han eliminat, simplement la partici\u00f3 no est\u00e0 muntada i no apareixeran fins que es torni a muntar: Finalment , per veure que aquest muntatge \u00e9s temporal, el que s'ha de fer \u00e9s muntar la partici\u00f3 com ja s'ha explicat a dalt i reiniciar l'equip. Quan es torni a iniciar, hem de fer un ls del directori particio1 i veurem el directori buit, ja que s'ha desmuntat la partici\u00f3: Muntatge definitiu Per muntar la partici\u00f3 de forma definitiva, cal editar el fitxer de configuraci\u00f3 /etc/fstab , que cont\u00e9 informaci\u00f3 sobre les particions i dispositius d'emmagatzematge. Aquest fitxer especifica com i on s'han de muntar autom\u00e0ticament durant l'arrencada del sistema. Fem un nano /etc/fstab per editar aquest fitxer. Exemple d'una l\u00ednia : /dev/sdb1 /home.... ext4 rw 0 1 /dev/sdb1 : Aquesta ser\u00e0 la partici\u00f3 que es vol muntar. /home.... : \u00c9s el directori on es vol muntar el dispositiu. ext4 : \u00c9s el tipus de sistema de fitxers. rw : Indica els permisos que es poden atorgar, com escriptura, lectura o execuci\u00f3. 1 o 0 : Aquest valor especifica en quin ordre el sistema de fitxers ha de ser verificat durant l'inici. El valor 1 indica que aquest sistema de fitxers ha de ser verificat primer. Si fos 0 , el sistema de fitxers NO es verifica durant l'arrencada. Dins del fitxer, afegim la seg\u00fcent l\u00ednia per al nostre cas i la guardem: Reiniciem el sistema. Un cop reiniciat, anem al directori particio1 per comprovar que la partici\u00f3 segueix muntada correctament, ja que podem veure el seu contingut: En aquest punt ja tindrem muntada la partici\u00f3 de forma definitiva. Carpetes Compartides Les carpetes compartides s\u00f3n directoris configurats perqu\u00e8 altres usuaris o dispositius de la xarxa hi puguin accedir, facilitant l'intercanvi de fitxers i la col\u00b7laboraci\u00f3. Proc\u00e9s per compartir una carpeta: Primer de tot, s'ha de crear un disc en la m\u00e0quina virtual que ser\u00e0 de 3 GB. En aquest cas, el disc es dir\u00e0 sdc : Seguidament, amb la comanda fdisk /dev/sdc , crearem la primera partici\u00f3 del disc afegit anteriorment: Disc amb la seva partici\u00f3: EXT4 Seguidament, s'haur\u00e0 de formatejar la partici\u00f3 sdc1 amb el sistema de fitxers ext4 : Comanda: mkfs.ext4 /dev/sdc1 Mirem la IP de la nostra m\u00e0quina virtual i tamb\u00e9 del nostre ordinador f\u00edsic (client) amb la comanda ip a . IP de la m\u00e0quina virtual : 192.168.201.204 IP de l'ordinador f\u00edsic (client) : 192.168.122.1 Veiem que estan connectades a la mateixa xarxa IP, aix\u00ed podrem fer la compartici\u00f3 de carpetes. En aquest punt comprovem que la m\u00e0quina virtual t\u00e9 la xarxa establerta com a Adaptador pont . Seguidament, creem una carpeta al directori /var amb el nom de particio2 i canviem els permisos d'aquesta carpeta a chown nobody:nogroup , que canvia el propietari d'un fitxer o directori a l'usuari nobody i al grup nogroup , utilitzats per recursos sense associaci\u00f3 espec\u00edfica a usuaris o grups. Editarem l'arxiu /etc/fstab per canviar la direcci\u00f3 a /var/particio2 per deixar muntada la partici\u00f3: Quan haguem editat el fitxer, farem un reboot de la m\u00e0quina virtual per assegurar-nos que la partici\u00f3 quedi muntada correctament. Despr\u00e9s, farem la instal\u00b7laci\u00f3 de Samba i Nautilus , tot i que finalment nom\u00e9s farem \u00fas de Samba : Samba \u00e9s un conjunt de programes que permeten compartir arxius i recursos entre sistemes Linux i Windows. Ara farem la instal\u00b7laci\u00f3 de SMB Client , que \u00e9s una eina de l\u00ednia de comandes que permet accedir i gestionar recursos compartits en una xarxa mitjan\u00e7ant el protocol SMB. Instal\u00b7laci\u00f3 de smbclient : Canviarem els permisos per als usuaris de Samba : Donarem perm\u00eds 1777 , que concedeix permisos de lectura, escriptura i execuci\u00f3 per a tots els usuaris, amb la restricci\u00f3 que nom\u00e9s el propietari dels fitxers pot eliminar-los. Afegirem al grup sambashare a l'usuari root , que ser\u00e0 qui pugui accedir a les carpetes configurades al fitxer smb.conf . Creem un usuari de prova anomenat gina : L'afegim al grup de Samba : Ara li posem una contrasenya a l'usuari perqu\u00e8 pugui accedir al Samba . En aquest cas, la contrasenya ser\u00e0 ginagina : Un cop configurat l'usuari i els permisos, anirem al fitxer /etc/samba/smb.conf : Dins del fitxer, afegirem les seg\u00fcents l\u00ednies d'informaci\u00f3 que a continuaci\u00f3 s'explicaran: Explicaci\u00f3 de cada l\u00ednia afegida : path : Defineix la ruta local on es troba el recurs compartit. browseable : Controla si el recurs \u00e9s visible a la xarxa. read only : Permet nom\u00e9s lectura si est\u00e0 configurat com a yes . writeable : Habilita l'escriptura al recurs compartit si est\u00e0 configurat com a yes . guest ok : Permet acc\u00e9s sense autenticaci\u00f3 si est\u00e0 configurat com a yes . read list : Especifica usuaris o grups amb acc\u00e9s de nom\u00e9s lectura. write list : Defineix usuaris o grups amb permisos d'escriptura. create mask : Configura els permisos predeterminats per a fitxers nous. directory mask : Estableix els permisos predeterminats per a directoris nous. Comprovem la IP de la nostra m\u00e0quina virtual: Introdu\u00efm aquesta IP de la m\u00e0quina virtual i ens dirigim a Fitxers del Client . A la barra lateral esquerra, a baix de tot, hi ha una secci\u00f3 on posa Altres ubicacions . Si hi fem clic, apareixer\u00e0 un buscador a la part inferior i hem de posar la seg\u00fcent adre\u00e7a: Un cop fet tot aix\u00f2, el resultat ser\u00e0 que en el Client veurem la carpeta compartida que pertany a la M\u00e0quina Virtual : NTFS NTFS (New Technology File System) \u00e9s un sistema de fitxers desenvolupat per Microsoft per a sistemes operatius Windows. Ofereix suport per a grans volums de dades, alta integritat i seguretat de les dades. Permet una r\u00e0pida cerca de fitxers, compressi\u00f3 de fitxers, i seguretat a nivell de fitxers. NTFS tamb\u00e9 gestiona permisos d'acc\u00e9s i encripta fitxers per protegir dades sensibles. El primer pas ser\u00e0 afegir un nou disc de 3 GB. En aquest cas, ser\u00e0 el disc sdf . Un cop afegit el nou disc a la m\u00e0quina virtual, crearem una partici\u00f3 dins del disc anomenada sdf1 : Comprovaci\u00f3 del disc amb la seva partici\u00f3: Seguidament, farem la instal\u00b7laci\u00f3 de NTFS amb la comanda sudo apt install ntfs-3g : En cas de no tenir instal\u00b7lat Samba , l'instal\u00b7larem amb les seg\u00fcents comandes: sudo apt-get update<br> sudo apt-get install samba En aquest cas, ja el tenim instal\u00b7lat de fer-lo servir abans: Ara crearem una carpeta que volem compartir m\u00e9s endavant. Aquesta carpeta es dir\u00e0 ntfs_l_w . La crearem dins del directori /var : Seguidament, donarem permisos al nou directori: Muntar la partici\u00f3 Primer de tot, amb la seg\u00fcent comanda: sudo mkfs.ntfs -f /dev/sdf1 , el que farem ser\u00e0 formatejar la partici\u00f3 amb el sistema de fitxers NTFS . Despr\u00e9s, muntem la partici\u00f3 de manera temporal per comprovar que funciona correctament: Seguidament, creem un fitxer dins de la partici\u00f3 a /var/ntfs_l_w amb la comanda nano nom_fitxer.txt , que ens servir\u00e0 per veure m\u00e9s f\u00e0cilment si la partici\u00f3 est\u00e0 muntada correctament. En aquest punt, ja muntarem la partici\u00f3 sdf de manera definitiva. Aix\u00ed que editarem el fitxer /etc/fstab amb el sistema de fitxers NTFS : Quan haguem editat el fitxer, farem un reboot de la nostra m\u00e0quina virtual per tal que la partici\u00f3 quedi muntada correctament. Despr\u00e9s, comprovem que a la direcci\u00f3 on s'ha muntat trobem el fitxer creat anteriorment. Un cop configurats l'usuari i els permisos, entrarem al fitxer /etc/samba/smb.conf : Dins del fitxer, afegirem la seg\u00fcent configuraci\u00f3: [ntfs_l_w] path = /var/ntfs_l_w public = yes writable = yes browsable = yes guest ok = yes re ad list = gina write list = gina create mask = 0744 directory mask = 0755 Seguidament reiniciem samba amb sudo systemctl restart smbd i mirem el seu estat amb la comanda sudo systemctl status smbd Accedir Comprovem que els dos dispositius (amb Linux i Windows ) estiguin connectats a la mateixa xarxa. IP de la m\u00e0quina amb Linux : IP del Windows : Finalment, hem d'anar a la nostra m\u00e0quina amb Windows i accedir a l'apartat Este equipo . A dalt al buscador, hem d'introduir la direcci\u00f3 IP seguida del nom de la carpeta, com es mostra a continuaci\u00f3: I finalment, accedirem a la carpeta que hav\u00edem compartit des de la nostra m\u00e0quina Linux, veient el fitxer creat anteriorment. 7. C\u00f2pies de Seguretat Una c\u00f2pia de seguretat \u00e9s una duplicaci\u00f3 dels fitxers o dades importants d\u2019un sistema, amb l'objectiu de protegir-los davant p\u00e8rdues, errors humans, fallades de maquinari o ciberatacs. La c\u00f2pia ha d\u2019estar en almenys dos suports diferents per evitar p\u00e8rdues si un suport falla, per exemple en dos discs. Un RAID combina diverses unitats d'emmagatzematge per augmentar la fiabilitat, el rendiment i la capacitat d'emmagatzematge, proporcionant redund\u00e0ncia contra fallades d'unitats i millorant la velocitat d'acc\u00e9s a les dades. Pol\u00edtiques de c\u00f2pies de seguretat Les pol\u00edtiques estableixen com es realitzaran les c\u00f2pies per garantir la seguretat i efici\u00e8ncia. Les tres t\u00e8cniques m\u00e9s comuns s\u00f3n: Completes Una c\u00f2pia de seguretat Completa crea una c\u00f2pia de tots els fitxers i dades seleccionades. Es sol utilitzar per c\u00f2pies setmanals o mensuals. Avantatges : Cont\u00e9 totes les dades en un sol conjunt i \u00e9s m\u00e9s senzilla i r\u00e0pida de restaurar, ja que nom\u00e9s es necessita la darrera c\u00f2pia completa. Desavantatges : \u00c9s lenta de fer, ja que requereix m\u00e9s temps i espai d'emmagatzematge. Diferencials Una c\u00f2pia Diferencial crea una c\u00f2pia dels canvis efectuats des de l'\u00faltima c\u00f2pia completa realitzada. Es sol utilitzar per c\u00f2pies intermitents, di\u00e0ries o cada pocs dies. Avantatges : M\u00e9s r\u00e0pida i lleugera que una c\u00f2pia completa, i per restaurar, nom\u00e9s cal la darrera c\u00f2pia completa i l'\u00faltima c\u00f2pia diferencial. Desavantatges : Amb el temps, pot augmentar de mida, ja que inclou tots els canvis acumulats des de l'\u00faltima c\u00f2pia completa. Incrementals Una c\u00f2pia Incremental crea una c\u00f2pia dels canvis realitzats des de l\u2019\u00faltima c\u00f2pia (sigui completa o incremental). El seu \u00fas \u00e9s per c\u00f2pies freq\u00fcents en entorns on el temps d'execuci\u00f3 \u00e9s cr\u00edtic. Avantatges : \u00c9s la t\u00e8cnica m\u00e9s r\u00e0pida i requereix menys espai. Desavantatges : La restauraci\u00f3 \u00e9s m\u00e9s lenta i complexa, ja que cal l'\u00faltima c\u00f2pia completa i totes les c\u00f2pies incrementals pr\u00e8vies. En cas que una c\u00f2pia incremental es perdi o es corrompi, pot afectar la restauraci\u00f3. Resum de comparativa Tipus Velocitat de c\u00f2pia Espai requerit Facilitat de restauraci\u00f3 Requisits per restaurar Completa Lenta Alt Alta Nom\u00e9s la darrera c\u00f2pia completa Diferencial Moderada Moderat Mitjana Completa + darrera diferencial Incremental R\u00e0pida Baix Baixa Completa + totes les incrementals pr\u00e8vies Programes amb interf\u00edcie Utilitzarem el programa de c\u00f2pies amb interf\u00edcie gr\u00e0fica D\u00e9j\u00e0 Dup D\u00e9j\u00e0 Dup Primer de tot el descarregarem amb les seguents comandes: sudo apt update sudo apt install deja-dup Comprovaci\u00f3 de la instal\u00b7laci\u00f3 L'aplicaci\u00f3 \"Respaldos\" que es veu al sistema Linux \u00e9s una interf\u00edcie gr\u00e0fica per a Deja Dup , que \u00e9s una eina de c\u00f2pia de seguretat per a sistemes GNOME. Copies En iniciar el programa, primer de tot hem de crear la primera c\u00f2pia, que ser\u00e0 una c\u00f2pia completa de tot all\u00f2 que es vulgui guardar. Per aix\u00f2, seleccionarem la primera opci\u00f3: Cree su primer respaldo . Ens demanar\u00e0 que indiquem quines carpetes volem afegir a la c\u00f2pia de seguretat i quines volen ser ignorades, com podria ser la de la brossa: En la seg\u00fcent finestra, haurem de triar on volem guardar la c\u00f2pia, que pot ser un disc extern, un servidor de xarxa o un servei en n\u00favol com Google Drive. En aquest cas, es guardar\u00e0 en una carpeta local: L'\u00faltim pas abans de fer la c\u00f2pia ser\u00e0 afegir una contrasenya per poder restaurar els arxius: D\u00e9j\u00e0 Dup realitza c\u00f2pies de seguretat autom\u00e0tiques utilitzant c\u00f2pies completes , diferencials i incrementals sense necessitat d'intervenci\u00f3 manual. Quan es fa la primera c\u00f2pia, D\u00e9j\u00e0 Dup realitza una c\u00f2pia completa de tots els fitxers seleccionats. A partir de la segona c\u00f2pia, el programa fa c\u00f2pies incrementals , copiant nom\u00e9s els fitxers que han canviat des de l'\u00faltima c\u00f2pia, ja sigui completa o incremental. Quan es fa una c\u00f2pia diferencial , D\u00e9j\u00e0 Dup copia els fitxers modificats des de la darrera c\u00f2pia completa , ignorant les c\u00f2pies incrementals. Aquest sistema autom\u00e0tic permet optimitzar l'espai, ja que nom\u00e9s es copien els canvis, sense necessitat que l'usuari configuri manualment el tipus de c\u00f2pia. Tamb\u00e9 podrem triar cada quant volem que es realitzi la c\u00f2pia de seguretat, en cas que les tinguem automatitzades. Restaurar Per poder fer una restauraci\u00f3 de les c\u00f2pies de seguretat, el que hem de fer \u00e9s anar a l'apartat Restaurar del men\u00fa superior de l'aplicaci\u00f3. Seguidament, hem de seleccionar les carpetes/arxius que volem restaurar i, una vegada seleccionats, donarem clic al bot\u00f3 de Restaurar . Escollirem on volem fer la restauraci\u00f3, en la ubicaci\u00f3 original o en una altra ubicaci\u00f3. I ja estaria feta; tindr\u00edem de nou tot el contingut de manera correcta. Comandes: CP, RSYNC, DD Per fer les c\u00f2pies de seguretat, el primer que es far\u00e0 ser\u00e0 crear dos discos a la m\u00e0quina virtual que siguin de 1GB cadascun. En el nostre cas, tenim els discos sdd i sde : El que hem de fer seguidament \u00e9s crear una partici\u00f3 per a cada disc del tamany corresponent i, finalment, formatejar les particions amb el sistema de fitxers ext4 : Particions creades: Formateig de sdd1 : Formateig de sde1 Un cop tenim les dues particions, anem a /var i creem una carpeta anomenada copia_dades , que ser\u00e0 on rebrem els fitxers de la c\u00f2pia. Tamb\u00e9 muntarem la partici\u00f3 sdd1 al directori d'aquesta carpeta que acabem de crear: Ara anirem a Documentos i all\u00ed crearem un fitxer de prova i una carpeta com podem veure a continuaci\u00f3: CP En aquest punt, amb CP , farem servir la comanda sudo cp -R /directori_que_volem_copiar /directori_on_copiar . Per\u00f2 en l'exemple ens faltava crear la carpeta raul dins de la carpeta copia_dades . Aix\u00ed que creem aquesta carpeta i despr\u00e9s fem servir la comanda per fer la c\u00f2pia: En aquest moment ja tenim una c\u00f2pia realitzada amb \u00e8xit i de manera correcta. Per\u00f2 si ara creem un fitxer nou i eliminem el que tenim anomenat adeu , el que veurem \u00e9s que, al fer de nou la c\u00f2pia, no s'actualitza. El que passa \u00e9s que amb CP es fa una c\u00f2pia i, en cas que es canvi\u00ef alguna cosa, nom\u00e9s afegir\u00e0 el que \u00e9s nou, per\u00f2 mai eliminar\u00e0 res en el moment de fer la c\u00f2pia, aix\u00ed que la carpeta on s'ha fet la c\u00f2pia quedar\u00e0 desactualitzada: RSYNC Ara provem amb la comanda de c\u00f2pia RSYNC , i el que podem apreciar \u00e9s que s'est\u00e0 eliminant al directori final l'arxiu que hav\u00edem eliminat de la carpeta origen, quedant aix\u00ed actualitzada la c\u00f2pia final: Amb RSYNC aconseguim que es faci una c\u00f2pia de manera intel\u00b7ligent, ja que nom\u00e9s es copiaran les modificacions. Tamb\u00e9 es pot fer entre m\u00e0quines remotes via SSH . La comanda de RSYNC pot portar els seg\u00fcents atributs: -a per mantenir els permisos -v per obtenir informaci\u00f3 dels processos --delete per eliminar els canvis que no hi ha DD Amb DD farem una c\u00f2pia de seguretat, per\u00f2 en aquest cas ser\u00e0 entre particions, entre la partici\u00f3 sdd i sde . Aquesta comanda no est\u00e0 dissenyada per fer c\u00f2pies de fitxers comuns, sin\u00f3 que treballa a nivell de bloc, clonant discs o particions, incloent estructures de metadades. Tamb\u00e9 es pot utilitzar per sobrescriure de manera segura dispositius abans de fer un formateig. Cal fer servir DD amb precauci\u00f3 per evitar la p\u00e8rdua irreparable de dades. La comanda sudo dd if=/dev/sdd1 of=/dev/sde1 ... ens diu que es far\u00e0 una c\u00f2pia de seguretat des de la partici\u00f3 sdd1 cap a la sde1 . Comprovem que els hash siguin iguals en les dues particions per confirmar que la c\u00f2pia s'ha realitzat amb \u00e8xit. I en cas que vulguem borrar una partici\u00f3 de manera segura abans de formatejar-la, el que farem ser\u00e0 sobreescriure la partici\u00f3 amb ceros per borrar el seu contingut: 8. Automatitzaci\u00f3 Introducci\u00f3 En els sistemes operatius amb Linux, l\u2019automatitzaci\u00f3 de tasques \u00e9s essencial per garantir el manteniment del sistema i l'execuci\u00f3 d'accions repetitives. Dues eines destacades per aquest prop\u00f2sit s\u00f3n Cron i Anacron , que permeten programar l'execuci\u00f3 de processos i scripts de manera autom\u00e0tica. Encara que comparteixen la mateixa finalitat, tenen caracter\u00edstiques diferents que les fan adequades per a tasques espec\u00edfics. A continuaci\u00f3 es mostra les difer\u00e8ncies entre Cron i Anacron : Difer\u00e8ncies entre Cron i Anacron Caracter\u00edstica Cron Anacron Funci\u00f3 principal Executar tasques programades a intervals regulars o a hores concretes. Garantir que les tasques pendents s'executin quan el sistema s'enc\u00e9n, encara que estigu\u00e9s apagat. Requisit de sistema Nom\u00e9s funciona si l'ordinador est\u00e0 enc\u00e8s a l'hora programada. Executa tasques programades tan bon punt el sistema es posa en marxa si estaven pendents. Usuaris t\u00edpics Tasques d\u2019usuaris o administradors que necessiten precisi\u00f3 temporal. Tasques d\u2019administradors per al manteniment general del sistema (nivell global). Fitxers de configuraci\u00f3 - /etc/crontab per a tasques globals. - crontab -e per a usuaris espec\u00edfics. - /etc/anacrontab per a configuraci\u00f3 de tasques retardades. Freq\u00fc\u00e8ncia m\u00ednima Minuts (es pot programar per executar-se cada minut). Dies (dissenyat per a tasques amb menys freq\u00fc\u00e8ncia). Flexibilitat amb apagat No pot recuperar tasques perdudes si el sistema estava apagat en el moment previst. Pot detectar tasques no completades i executar-les quan el sistema es reinicia. Cron en detall Execuci\u00f3 precisa : Utilitza un format d\u2019hora i data molt concret (minut, hora, dia del mes, mes, dia de la setmana) per programar tasques. Configuraci\u00f3 : Fitxer global: /etc/crontab . Per a usuaris espec\u00edfics: crontab -e (modifica el crontab de l\u2019usuari que executa la comanda). Ubicaci\u00f3 dels scripts : cron.hourly , cron.daily , cron.weekly , cron.monthly s\u00f3n carpetes dins /etc/cron.* on es poden posar scripts per executar-se a intervals regulars. Anacron en detall Execuci\u00f3 flexible : Ideal per tasques que no necessiten precisi\u00f3 per\u00f2 han de garantir-se (com actualitzacions del sistema o c\u00f2pies de seguretat). Configuraci\u00f3 : Utilitza el fitxer /etc/anacrontab per definir les tasques. Cada tasca especifica: Per\u00edode de temps (en dies). Nom de la tasca . Comanda per executar. Dissenyat per sistemes que no estan sempre encesos : Assegura l'execuci\u00f3 fins i tot en port\u00e0tils o sistemes que s\u2019apaguen amb freq\u00fc\u00e8ncia. Cron \u00e9s perfecte per tasques amb un horari exacte en sistemes que estan sempre operatius. I Anacron \u00e9s ideal per a tasques que no corren presa per\u00f2 han de ser executades en algun moment, independentment de si el sistema estava apagat. Part Pr\u00e0ctica En aquest apartat es posar\u00e0 en pr\u00e0ctica el Cron i l' Anacron per fer l'automatitzaci\u00f3 de la compressi\u00f3 d'un directori i que sigui guardat a l'Escriptori. Creaci\u00f3 i Execuci\u00f3 d'un Script Primer de tot s'ha de crear un script, en aquest cas nano copia.sh , on donarem l'ordre que un directori sigui comprimit i guardat en una ubicaci\u00f3 espec\u00edfica. Dins del fitxer hem de posar la data, que estar\u00e0 a la primera l\u00ednia del codi, i guardar\u00e0 el moment en qu\u00e8 es fa \u00fas del Script . Seguidament introdu\u00efm la comanda que comen\u00e7a amb \"/home/...gz\" , que \u00e9s on es guardar\u00e0 i amb el nom que tindr\u00e0 la compressi\u00f3, seguit del directori que es vol comprimir, \"/home/../Documentos\" . Una vegada configurat el fitxer, sortim i guardem. En aquest moment hem de canviar els permisos del fitxer copia.sh perqu\u00e8 tothom tingui permisos d'execuci\u00f3 amb chmod +x copia.sh : Ara ja es podria executar el Script , aix\u00ed que fem ./copia.sh i observem el seu resultat: Trobem que ha generat el comprimit i l'ha guardat a l' Escriptori . Tamb\u00e9 podem veure que el nom del comprimit \u00e9s el que li hav\u00edem posat, amb, a m\u00e9s, uns n\u00fameros que representen la data del moment de la creaci\u00f3. Automatitzaci\u00f3 amb Cron Per fer una automatitzaci\u00f3 amb Cron el primer que s'ha de fer \u00e9s anar al fitxer /etc/crontab per afegir la nostra tasca de l'Script anterior. Afegirem una l\u00ednia seguint l'ordre de dades establert. Primer de tot s'ha d'introduir Minut i Hora del moment que es vol que s'executi la tasca. Seguidament aniran el Dia i Mes de l'any i el n\u00famero del dia de la setmana, sent Diumenge = 0 . Finalment indiquem el nom de l' Usuari i on es troba l' Script . Una vegada guardats els canvis, esperem que sigui l'hora en qu\u00e8 es realitzar\u00e0 la tasca per comprovar que s'obt\u00e9 el resultat esperat. I finalment obtenim el resultat, creant aix\u00ed el seg\u00fcent comprimit: Ara tornem a modificar el /etc/crontab perqu\u00e8 es torni a executar l'Script, per\u00f2 ara tancant la m\u00e0quina virtual i esperant un minut m\u00e9s de l'hora a qu\u00e8 volem que s'executi l' Script per veure si es far\u00e0 en tornar a iniciar la m\u00e0quina virtual. L\u00ednia modificada: Una vegada iniciada la m\u00e0quina virtual, esperem i veiem que no s'executa res ja que amb el Cron no s'executar\u00e0 si la m\u00e0quina ha estat apagada. Llavors hem de passar al seg\u00fcent m\u00e8tode. Automatitzaci\u00f3 amb Anacron Despr\u00e9s de veure com s'automatitzava amb Cron , passem a veure les automatitzacions amb Anacron , que ens permetran fer tasques malgrat que l'ordinador hagi estat apagat, ja que les executar\u00e0 un cop estigui enc\u00e8s. Si anem al fitxer /etc/anacrontab , podem veure en una l\u00ednia que el que fa \u00e9s executar el cron.daily , que \u00e9s el Cron que s'executar\u00e0 cada dia i s'executar\u00e0 5 minuts despr\u00e9s d'encendre l'ordinador. Llavors, el que farem despr\u00e9s de saber aix\u00f2 ser\u00e0 anar al /etc/crontab i comentar la l\u00ednia que vam afegir en la secci\u00f3 anterior. Ara hem de moure l' Script des del nostre /home fins al cron.daily de la seg\u00fcent manera i comprovar que est\u00e0 en aquest directori: Quan la movem al cron.daily l'hem de cambiar el nom a copia : D'aquesta manera, cada dia quan s'inici\u00ef l'ordinador, s'executar\u00e0 l'automatitzaci\u00f3 quan passi el temps establert al fitxer del Anacron , solucionant aix\u00ed el problema que aportava el Cron . Finalment, per a aquesta prova hem modificat el temps en qu\u00e8 s'executar\u00e0 el Daily una vegada iniciat el sistema. En aquest cas, el baixem a 1 minut: Ara reiniciem la m\u00e0quina i despr\u00e9s comprovem que al minut d'haver-se iniciat s'executa la tasca i apareix el comprimit a l'Escriptori. Per veure si l'automatitzaci\u00f3 s'ha processat, el que hem de fer \u00e9s fer una visualitzaci\u00f3 del fitxer cron.daily . En cas que s'hagi executat, trobarem en n\u00fameros el moment exacte d'aquesta execuci\u00f3. Finalment es crea el nostre comprimit i al cron.daily veiem el moment de l'execuci\u00f3:","title":"Sprint 2"},{"location":"sprint2/#gestio-de-la-informacio-del-sistema-i-administracio","text":"","title":"Gesti\u00f3 de la Informaci\u00f3 del Sistema i Administraci\u00f3"},{"location":"sprint2/#1-configuracio-inicial","text":"Primer de tot, s'ha d'instal\u00b7lar Ubuntu Linux en una m\u00e0quina virtual. Per fer la instal\u00b7laci\u00f3, s'ha d'anar a la p\u00e0gina oficial d'Ubuntu per descarregar l'arxiu .ISO . Aquest fitxer cont\u00e9 la imatge necess\u00e0ria per poder instal\u00b7lar Ubuntu en la m\u00e0quina virtual.","title":"1. Configuraci\u00f3 inicial"},{"location":"sprint2/#descarregar-ubuntu","text":"Per descarregar Ubuntu, clica l'enlla\u00e7 i espera que es faci la desc\u00e0rrega autom\u00e0tica de Ubuntu Desktop 24.04.1 LTS . Un cop finalitzada la desc\u00e0rrega, tindr\u00e0s el fitxer .ISO llest per ser utilitzat.","title":"Descarregar Ubuntu"},{"location":"sprint2/#crear-la-maquina-virtual-amb-virtualbox","text":"Despr\u00e9s de la desc\u00e0rrega, cal obrir un programa per crear m\u00e0quines virtuals. En aquest cas, s'utilitzar\u00e0 VirtualBox . Aquesta eina ens permetr\u00e0 crear i gestionar la m\u00e0quina virtual en qu\u00e8 instal\u00b7larem Ubuntu. Un cop instal\u00b7lat VirtualBox al teu ordinador, pots comen\u00e7ar a crear la m\u00e0quina virtual seguint els passos necessaris.","title":"Crear la m\u00e0quina virtual amb VirtualBox"},{"location":"sprint2/#afegir-i-configurar-la-maquina","text":"En aquest apartat es comen\u00e7ar\u00e0 amb la creaci\u00f3 d'una m\u00e0quina virtual utilitzant l'arxiu .ISO descarregat en l'apartat anterior. Tamb\u00e9 es far\u00e0 la configuraci\u00f3 de l'entorn necessari per posar la m\u00e0quina en funcionament. Passos a seguir: Obrim VirtualBox i busquem a la part superior el bot\u00f3 \"Nova\" per comen\u00e7ar el proc\u00e9s de creaci\u00f3 de la m\u00e0quina virtual. En la finestra seg\u00fcent, cal posar el nom de la m\u00e0quina virtual. A la secci\u00f3 \"ISO image\" , seleccionarem ISO descarregat al principi de l'article per configurar la imatge d'instal\u00b7laci\u00f3 de la m\u00e0quina virtual. Un cop seleccionat el fitxer, fem clic a Endavant per continuar. A continuaci\u00f3, cal introduir un nom d'usuari i una contrasenya que compleixi els requisits m\u00ednims de seguretat. Aquesta informaci\u00f3 ser\u00e0 necess\u00e0ria per accedir al sistema operatiu un cop estigui instal\u00b7lat. Ara s'ha de configurar la quantitat de mem\u00f2ria RAM que es vol assignar a la m\u00e0quina virtual. Tamb\u00e9 cal especificar la quantitat de processos de la CPU que es volen utilitzar. Finalment, cal determinar la mida del disc dur virtual per emmagatzemar els fitxers del sistema operatiu i altres dades.","title":"Afegir i configurar la m\u00e0quina"},{"location":"sprint2/#crear-i-gestionar-comptes-dusuari-locals","text":"Passarem a veure la creaci\u00f3 d'usuaris locals. Per crear-lo s'utilitzar\u00e0 la comanda adduser : Introdu\u00efm una S o premem enter per seguir amb la creaci\u00f3:","title":"Crear i gestionar comptes d'usuari locals"},{"location":"sprint2/#2-processos","text":"Els processos en Linux poden ser de dos tipus: en primer pla o en segon pla . Els processos en primer pla interactuen amb l'usuari i bloquegen la terminal fins que finalitzen, mentre que els processos en segon pla poden continuar executant-se mentre l'usuari segueix utilitzant la terminal. A m\u00e9s, els processos poden tenir una prioritat alta o baixa, depenent de la seva import\u00e0ncia o de la configuraci\u00f3 del sistema. Els processos poden estar en diversos estats: Running : El proc\u00e9s s'est\u00e0 executant. Sleeping : El proc\u00e9s est\u00e0 inactiu, esperant una acci\u00f3 externa. Stopped : El proc\u00e9s est\u00e0 aturat. Zombie : El proc\u00e9s ha acabat, per\u00f2 encara apareix a la taula de processos perqu\u00e8 el proc\u00e9s pare no ha llegit el seu estat de sortida.","title":"2. Processos"},{"location":"sprint2/#comandes-basiques-per-gestionar-els-processos","text":"A continuaci\u00f3, es mostren algunes de les comandes m\u00e9s utilitzades per gestionar els processos en Linux: ps : Mostra una llista de processos en execuci\u00f3. Per exemple, amb ps aux es mostra una llista completa de tots els processos en execuci\u00f3 amb informaci\u00f3 detallada. top : Mostra informaci\u00f3 en temps real sobre els processos i l'\u00fas de recursos del sistema. Aquesta comanda mostra els processos m\u00e9s pesats en termes d'\u00fas de recursos. kill : Permet enviar una senyal a un proc\u00e9s, habitualment per aturar-lo. Per obtenir el PID (Process ID) del proc\u00e9s que vols aturar, primer pots utilitzar la comanda top . Un cop obtingut el PID, pots utilitzar kill PID per aturar el proc\u00e9s. Per exemple, si utilitzem el PID = 2463 , podem matar el proc\u00e9s amb la comanda seg\u00fcent, la qual tancar\u00e0 el terminal del sistema. bg i fg : Aquests comandaments permeten moure un proc\u00e9s entre el primer pla i el segon pla. Per fer una prova, crearem un proc\u00e9s d'espera de 1000 segons : Seguidament, utilitzarem CTRL + Z per aturar-lo, per\u00f2 sense matar el proc\u00e9s: La comanda bg envia un proc\u00e9s aturat al segon pla. Llavors, utilitzem bg sleep per passar el proc\u00e9s al segon pla: La comanda fg porta un proc\u00e9s del segon pla al primer pla. Per exemple, utilitzem fg per passar el proc\u00e9s creat abans al primer pla: pstree : Mostra els processos en forma d'arbre, mostrant les relacions entre processos. Per veure-ho, utilitzem la comanda pstree al terminal:","title":"Comandes b\u00e0siques per gestionar els processos"},{"location":"sprint2/#3-installacio-de-serveis-essencials","text":"Abans d'instal\u00b7lar qualsevol servei, \u00e9s recomanable assegurar-se que el sistema estigui actualitzat. Per aix\u00f2, es far\u00e0 \u00fas de la comanda sudo apt update : Despr\u00e9s, es realitza la comanda sudo apt upgrade :","title":"3. Instal\u00b7laci\u00f3 de Serveis Essencials"},{"location":"sprint2/#gestio-de-serveis","text":"Un cop instal\u00b7lats els serveis, es poden gestionar amb la comanda systemctl . Aquesta comanda permet iniciar, parar o reiniciar serveis. A continuaci\u00f3 es mostra un exemple d'aquesta comanda amb el servei SSH : Tamb\u00e9 podem editar el fitxer de configuraci\u00f3 de SSH , obrint-lo amb la comanda sudo nano /etc/ssh/sshd_config per fer els seg\u00fcents canvis: Desactivar l'acc\u00e9s del root amb PermitRootLogin no : Permetre l'acc\u00e9s per contrasenya amb PasswordAuthentication yes :","title":"Gesti\u00f3 de Serveis"},{"location":"sprint2/#comprovar-processos-en-execucio","text":"Per veure els processos en execuci\u00f3, podem utilitzar comandes com top , que ens mostra els processos en temps real, o podem obtenir una instant\u00e0nia dels processos amb ps aux , com es veu a la captura: Tamb\u00e9 podem cercar i filtrar un proc\u00e9s espec\u00edfic amb la comanda grep : Una comanda m\u00e9s \u00fatil que les anteriors \u00e9s htop , que mostra tots els processos en execuci\u00f3 en temps real, el seu \u00fas de CPU i mem\u00f2ria. La instal\u00b7larem amb sudo apt install htop i la podrem executar:","title":"Comprovar Processos en Execuci\u00f3"},{"location":"sprint2/#optimitzar-lus-de-recursos","text":"Per comprovar l'\u00fas de la mem\u00f2ria i la CPU en temps real, podem utilitzar la comanda vmstat 1 : Per optimitzar l'espai quan l'equip utilitza un disc SSD, podem fer servir la comanda sudo fstrim -v . I per mantenir el sistema optimitzat, \u00e9s recomanable mantenir-lo actualitzat. Actualitzar amb sudo apt update && sudo apt upgrade :","title":"Optimitzar l'\u00das de Recursos"},{"location":"sprint2/#administrar-serveis-actius-segons-les-necessitats-del-sistema","text":"Per identificar els serveis actius, utilitzarem la comanda systemctl : S'ha de revisar quins serveis s'estan executant i determinar si s\u00f3n necessaris. Per aturar serveis innecessaris, utilitzarem la comanda sudo systemctl stop nom_del_servei . Si un servei no \u00e9s necessari a l'inici del sistema, \u00e9s millor deshabilitar-lo amb sudo systemctl disable nom_del_servei . Si es necessita un servei per a una tasca espec\u00edfica, es pot habilitar temporalment amb la comanda sudo systemctl enable nom_del_servei , de manera que s'iniciar\u00e0 autom\u00e0ticament a l'arrencada.","title":"Administrar Serveis Actius Segons les Necessitats del Sistema"},{"location":"sprint2/#4-usuaris-i-grups","text":"Per revisar la llista d'usuaris creats al sistema, anirem al fitxer /etc/passwd : Per eliminar un usuari de qualsevol grup, podem utilitzar la comanda deluser nom_usuari nom_grup : Per crear un grup , utilitzarem la comanda sudo groupadd nom_grup , i despr\u00e9s comprovarem aquest grup amb la comanda getent group | grep nom_grup : Per afegir un usuari a un grup creat o existent, utilitzarem la comanda sudo usermod -aG nom_grup nom_usuari . Aquesta comanda no retorna cap missatge. Despr\u00e9s, farem una comprovaci\u00f3 dels grups als quals pertany l'usuari amb groups nom_usuari : Tamb\u00e9 podem crear un usuari dins d'un grup amb la comanda adduser nom_usuari nom_grup . Despr\u00e9s, comprovarem que al grup sudo tenim dos usuaris: La primera part de la l\u00ednia \u00e9s el nom del grup, seguida d'una \"X\" que indica que no s'utilitza contrasenya per al grup. Despr\u00e9s ve l'identificador del grup i una llista d'usuaris membres del grup. Per canviar la contrasenya d'un usuari, utilitzarem la comanda passwd nom_usuari . Ens demanar\u00e0 una nova contrasenya, mantenint la privacitat de les dades de l'usuari: Al fitxer /etc/passwd , podem trobar informaci\u00f3 b\u00e0sica sobre els comptes d'usuari, com el nom de l'usuari, l'identificador \u00fanic d'usuari (UID), i el directori personal de l'usuari: Al fitxer /etc/shadow es guarden les contrasenyes encriptades de cada usuari. La l\u00ednia de cada usuari cont\u00e9 informaci\u00f3 sobre quan es va canviar la contrasenya per \u00faltima vegada, els dies d'espera per canviar la contrasenya, i altres par\u00e0metres de seguretat: Per crear un sistema personal d'arxius per a un usuari, utilitzarem la comanda mkdir nom_usuari/carpeta . Per\u00f2, per defecte, el directori ser\u00e0 propietat de l'usuari root . Per canviar el propietari i el grup, utilitzarem la comanda chown nom_usuari:nom_grup directori : Per bloquejar un usuari , utilitzarem la comanda usermod -L nom_usuari . A l'arxiu /etc/shadow , l'usuari apareixer\u00e0 amb un ! , indicant que el compte est\u00e0 bloquejat. Per desbloquejar-lo, utilitzarem usermod -U nom_usuari : Per eliminar un usuari , utilitzarem la comanda deluser nom_usuari , per\u00f2 aquesta comanda no eliminar\u00e0 el directori personal de l'usuari. Si volem eliminar tot, incl\u00f2s el directori personal, utilitzarem userdel -r nom_usuari : Per canviar el nom d'usuari , utilitzarem la comanda usermod -l nom_nou nom_usuari . Aquesta comanda no canvia el nom del directori personal. Per aix\u00f2, haurem de fer servir mv directori_antic/ directori_nou/ : Per\u00f2 encara caldr\u00e0 actualitzar el grup al qual pertany l'usuari. Per canviar el nom del grup, utilitzarem la comanda groupmod -n nom_nou nom_grup : Finalment, el nom de l'usuari i el grup hauran estat canviats correctament.","title":"4. Usuaris i Grups"},{"location":"sprint2/#definir-politiques-de-seguretat-per-a-contrasenyes-i-accessos","text":"Per gestionar les pol\u00edtiques de contrasenyes, hem de modificar el fitxer /etc/login.defs : Obrim el fitxer amb sudo nano /etc/login.defs : Modifiquem la l\u00ednia PASS_MAX_DAYS per establir la durada m\u00e0xima de la contrasenya, i altres par\u00e0metres si cal: Tamb\u00e9 podem configurar la qualitat de les contrasenyes, com la longitud m\u00ednima. Per fer-ho, obrim el fitxer /etc/security/pwquality.conf amb sudo nano /etc/security/pwquality.conf : Busquem la l\u00ednia minlen = i establim el n\u00famero m\u00ednim de car\u00e0cters per a la contrasenya:","title":"Definir pol\u00edtiques de seguretat per a contrasenyes i accessos"},{"location":"sprint2/#configuracions-de-linici-de-sessio","text":"Per configurar els arxius de bash en l'inici de sessi\u00f3 d'un usuari, cal accedir a diversos fitxers en el directori de cada usuari. Aquests fitxers estan ocults, aix\u00ed que utilitzarem la comanda ls -la per veure'ls: El fitxer .bash_logout executa ordres quan es tanca una sessi\u00f3 de Bash. El fitxer .bashrc configura l'entorn cada vegada que s'obre una nova terminal de Bash. El fitxer .profile s'executa quan s'inicia una sessi\u00f3 de login, configurant l'entorn global de l'usuari. Si volem aplicar aquestes configuracions a tots els usuaris que es cre\u00efn, hem de modificar aquests fitxers en el directori /etc/skel : Farem les configuracions pertinents als seg\u00fcents fitxers .bash_logout : .bashrc : .profile :","title":"Configuracions de l'inici de sessi\u00f3"},{"location":"sprint2/#5-permisos","text":"","title":"5. Permisos"},{"location":"sprint2/#permisos-normals","text":"El primer que farem ser\u00e0 crear els tres usuaris seg\u00fcents: Els permisos en Linux es divideixen en tres grups, que s'assignen de la seg\u00fcent manera: Propietari : Els tres primers permisos. Grup propietari : Els tres permisos seg\u00fcents. Altres : Els tres permisos finals. Quan creem un arxiu, aquest comen\u00e7ar\u00e0 amb - , mentre que si es crea un directori, comen\u00e7ar\u00e0 amb d .","title":"Permisos normals"},{"location":"sprint2/#permisos-en-arxius","text":"Lletres dels permisos : r : Lectura w : Escriptura (modificaci\u00f3) x : Execuci\u00f3 Creem un grup anomenat ddam i afegim l'usuari prova2 : A continuaci\u00f3, creem una carpeta a /tmp i un fitxer anomenat hola . Si revisem els permisos d'aquesta carpeta, podem veure el seg\u00fcent: Propietari : Permisos totals (lectura, escriptura i execuci\u00f3). Grup : Permisos totals (lectura, escriptura i execuci\u00f3). Altres : Nom\u00e9s permisos de lectura i execuci\u00f3, sense perm\u00eds d'escriptura.","title":"Permisos en arxius"},{"location":"sprint2/#canviar-grup-amb-chgrp","text":"El comandament chgrp s'utilitza per canviar el grup d'un directori o fitxer. Si es fa servir amb l'opci\u00f3 -R , el canvi es realitza de manera recursiva, \u00e9s a dir, no nom\u00e9s sobre el fitxer o directori especificat, sin\u00f3 tamb\u00e9 sobre tots els fitxers i subdirectoris dins d'ell. Creem el directori proves i l'assignem al grup ddam : Ara, el directori pertany al grup ddam :","title":"Canviar grup amb chgrp"},{"location":"sprint2/#modificar-permisos-amb-chmod","text":"El comandament chmod s'utilitza per modificar els permisos dels fitxers i directoris. Els permisos es representen amb n\u00fameros: 7 : Permisos totals (lectura, escriptura, execuci\u00f3). 5 : Permisos de lectura i execuci\u00f3. 0 : Sense permisos. Exemple de com modificar els permisos d'un fitxer o directori: Tamb\u00e9 podem afegir permisos als grups de la seg\u00fcent manera. Per exemple, g+w afegeix el perm\u00eds d'escriptura al grup propietari, i o+r afegeix el perm\u00eds de lectura als \"altres\" usuaris: Quan s'assignen permisos de modificaci\u00f3 i execuci\u00f3, els arxius o directoris es ressalten en color verd:","title":"Modificar permisos amb chmod"},{"location":"sprint2/#permisos-especials","text":"Podem assignar permisos diferents a un directori o carpeta per a un usuari. Per exemple, podem configurar-los perqu\u00e8 cadasc\u00fa pugui esborrar nom\u00e9s els fitxers que ha creat, per\u00f2 no els dels altres. Per aconseguir-ho, farem servir el Sticky Bit .","title":"Permisos especials."},{"location":"sprint2/#creacio-de-la-carpeta-i-el-fitxer","text":"Creem una carpeta anomenada pelis i un fitxer anomenat script.sh dins d'aquesta carpeta: Assignem permisos d'execuci\u00f3 al fitxer script.sh , per tal que sigui executable pels usuaris que tinguin els permisos adequats: Afegim el perm\u00eds setuid (u+s) a l'script. Aquest perm\u00eds fa que l'script sigui executat per diversos usuaris, per\u00f2 amb els permisos del propietari del fitxer. Quan s'aplica aquest perm\u00eds, el fitxer canviar\u00e0 de color a vermell per indicar que el perm\u00eds ha estat afegit: El bit 4 indica que quan s'executi el fitxer, s'executar\u00e0 amb els permisos del propietari i no amb els del usuari que l'est\u00e0 executant. Aix\u00f2 assegura que l'script s'executi amb els privilegis necessaris per dur a terme les accions que requereix: Afegim el Sticky Bit (t) a la carpeta pelis . Aquest perm\u00eds fa que tots els usuaris poden veure el contingut de la carpeta, per\u00f2 nom\u00e9s podran eliminar els fitxers que han creat ells mateixos. Aix\u00f2 evita que un usuari pugui esborrar fitxers creats per altres usuaris dins del mateix directori: Creem dos fitxers dins de la carpeta pelis i comprovem el comportament amb diferents usuaris. Cada usuari nom\u00e9s pot veure els fitxers, per\u00f2 no pot eliminar els fitxers creats per altres usuaris, nom\u00e9s els que ha creat ell mateix:","title":"Creaci\u00f3 de la carpeta i el fitxer"},{"location":"sprint2/#permisos-acls","text":"Amb l'ordre getfacl podem veure els permisos dividits per grups i si hi ha algun perm\u00eds especial aqu\u00ed el podreu veure: Pr\u00e8viament hem creat l'usuari proves3 i ho hem ficat al grup ddam i l'hi afegim permisos especials amb setfcal , sense permisos en aquest cas, que t\u00e9 m\u00e9s prioritat que el perm\u00eds de l'usuari que ja tenia . Per veure'ls de nou fem servir la comanda getfacl i a la segona l\u00ednia surt aquest perm\u00eds especial. Si teniu permisos especials es mostra amb el + al final dels diversos permisos. setfacl -m user:nom_usuari:--- fixer.txt setfacl -m group:nom_usuari:--- carpeta setfacl -b fitxer/carpeta Confirmem que l'usuari prova3 no t\u00e9 permisos de cap tipus ja que no deixa ni entrar a la carpeta: Restablim els permisos especials:","title":"Permisos ACLs"},{"location":"sprint2/#6-particions","text":"","title":"6. Particions"},{"location":"sprint2/#estructura-de-linformacio","text":"La estructura de l'informaci\u00f3 es refereix a com es distribueix i s'emmagatzema la informaci\u00f3 dins d'un sistema d'emmagatzematge, com un disc dur o una mem\u00f2ria. En aquest context, hem de tenir en compte dos conceptes importants: la fragmentaci\u00f3 interna i la fragmentaci\u00f3 externa .","title":"Estructura de l'informaci\u00f3"},{"location":"sprint2/#mida-de-sector-i-mida-de-bloc","text":"Mida de sector : El sector \u00e9s la unitat m\u00e9s petita d'emmagatzematge en un disc o sistema d'arxius. \u00c9s una porci\u00f3 del disc on es poden llegir o escriure dades. Normalment, els sectors tenen una mida de 512 bytes, tot i que tamb\u00e9 poden ser de 4 KB en discs m\u00e9s moderns. Mida de bloc : El bloc \u00e9s una unitat d'emmagatzematge l\u00f2gica utilitzada pel sistema d'arxius. Normalment, un bloc \u00e9s m\u00e9s gran que un sector i la seva mida pot variar depenent del sistema d'arxius (per exemple, 4 KB, 8 KB, etc.). Els arxius es divideixen en blocs per al seu emmagatzematge.","title":"Mida de sector i mida de bloc"},{"location":"sprint2/#fragmentacio-interna","text":"La fragmentaci\u00f3 interna es produeix quan un arxiu petit no omple completament el bloc d'emmagatzematge assignat. Per exemple, si un bloc \u00e9s de 4 KB per\u00f2 un arxiu nom\u00e9s ocupa 1 KB, els 3 KB restants del bloc es queden desaprofitats, cosa que provoca un \u00fas ineficient de l'espai. Soluci\u00f3 : Per evitar la fragmentaci\u00f3 interna, es podria fer que els blocs fossin m\u00e9s petits, cosa que permetria aprofitar millor l'espai. Tanmateix, fer els blocs m\u00e9s petits tamb\u00e9 t\u00e9 inconvenients, ja que podria comportar una major quantitat de blocs que cal llegir i escriure, la qual cosa podria fer que el sistema fos m\u00e9s lent. A m\u00e9s, quan es suprimeix un arxiu, els blocs buits s'han de gestionar, la qual cosa pot disminuir l'efici\u00e8ncia general.","title":"Fragmentaci\u00f3 interna"},{"location":"sprint2/#fragmentacio-externa","text":"La fragmentaci\u00f3 externa es produeix quan un arxiu es divideix en diversos blocs dispersos per tot el sistema d'emmagatzematge, en lloc d'emmagatzemar-se de manera contigua. Aix\u00f2 passa quan els arxius es guarden en blocs diferents sense un ordre espec\u00edfic, el que pot alentir l'acc\u00e9s a l'arxiu, ja que el sistema ha de buscar els blocs en diferents parts del disc. Soluci\u00f3 : La desfragmentaci\u00f3 \u00e9s la t\u00e8cnica utilitzada per resoldre aquest problema. Consisteix a reorganitzar els blocs dels arxius de manera que s'emmagatzemin de forma contigua, millorant aix\u00ed la velocitat d'acc\u00e9s. Amb les eines de desfragmentaci\u00f3, es pot analitzar i reorganitzar el disc per minimitzar la fragmentaci\u00f3 externa i millorar el rendiment general.","title":"Fragmentaci\u00f3 externa"},{"location":"sprint2/#estructura-fisica","text":"Mec\u00e0nica : En discos durs tradicionals (HDD), l'estructura f\u00edsica \u00e9s mec\u00e0nica, amb components m\u00f2bils com discs magn\u00e8tics i bra\u00e7os d'acc\u00e9s que es mouen per llegir i escriure dades. Els HDD solen ser m\u00e9s lents a causa d'aquestes parts m\u00f2bils. S\u00f2lida : En discos de mem\u00f2ria s\u00f2lida (SSD), l'estructura \u00e9s electr\u00f2nica, sense parts m\u00f2bils, utilitzant mem\u00f2ria flash per emmagatzemar dades. Els SSD tenen velocitats d'acc\u00e9s molt m\u00e9s r\u00e0pides que els HDD, ja que no depenen de components mec\u00e0nics.","title":"Estructura F\u00edsica"},{"location":"sprint2/#estructura-logica","text":"GPT (GUID Partition Table) : \u00c9s un sistema modern per gestionar particions, amb suport per a discos de m\u00e9s de 2 TB i fins a 128 particions. GPT \u00e9s m\u00e9s fiable i flexible que MBR, i \u00e9s \u00e0mpliament utilitzat en sistemes modernes. MBR (Master Boot Record) : \u00c9s un sistema antic de 32 bits, amb limitacions de capacitat i nombre de particions (fins a 2 TB i 4 particions). Tot i que encara es fa servir en alguns sistemes m\u00e9s antics, GPT \u00e9s el sistema preferit en dispositius moderns. Per veure quina estructura l\u00f2gia tenim el que es fara sera executar la comanda gdisk /dev/sda : Per llistar els discs i particions, farem \u00fas de la comanda fdisk . Podrem veure tots els sectors amb un tamany de 512 bytes , que \u00e9s la unitat m\u00ednima f\u00edsica on es guarden les dades.","title":"Estructura L\u00f2gica"},{"location":"sprint2/#tamany-del-bloc","text":"Seguidament, observarem el tamany actual del bloc , que per defecte \u00e9s de 4096 bytes . Aquest tamany es pot canviar depenent de l'\u00fas. Les dades es guarden en 8 sectors .","title":"Tamany del Bloc"},{"location":"sprint2/#tamany-del-fitxer-en-el-sistema","text":"A continuaci\u00f3, podem veure que un fitxer ocupa m\u00e9s en el sistema operatiu del que pesa el propi fitxer, ja que el bloc t\u00e9 un tamany m\u00ednim assignat. Creem el fitxer hola amb el seu contingut, i amb les opcions -b veiem el tamany del propi document, mentre que amb -sh veiem el que ocupa en el sistema.","title":"Tamany del Fitxer en el Sistema"},{"location":"sprint2/#visualitzacio-de-lus-despai","text":"Amb la comanda df -T podem veure l'unitat d'emmagatzematge i totes les parts que estan en \u00fas:","title":"Visualitzaci\u00f3 de l'\u00das d'Espai"},{"location":"sprint2/#llistar-dispositius-connectats","text":"Per veure tots els dispositius connectats al teu sistema, incloent discs i particions, farem \u00fas de la comanda lsblk : Primer de tot, per crear una nova partici\u00f3, farem \u00fas de sudo fdisk /dev/sda , sent sda l'identificador del teu disc: Seguidament, haurem d'escriure n i pressionar Enter per crear la nova partici\u00f3. El sistema ens preguntar\u00e0 si volem crear una partici\u00f3 prim\u00e0ria (p) o estesa (e) . En aquest cas, seleccionarem una partici\u00f3 prim\u00e0ria (p) . Ara, especificarem el n\u00famero de partici\u00f3, o podem utilitzar el n\u00famero suggerit per defecte. Premem Enter per acceptar el valor per defecte del primer sector i, tot seguit, definirem la mida de la partici\u00f3 en GB , per exemple, +20GB . Tamb\u00e9 podem pressionar Enter per assignar tota la capacitat disponible al disc. Per verificar la nova partici\u00f3, haurem d'escriure p per llistar les particions i assegurar-nos que la nova partici\u00f3 s'ha creat correctament. Per guardar els canvis, escrivim w i pressionem Enter . Aix\u00f2 escriur\u00e0 la nova taula de particions i sortir\u00e0 de fdisk . Finalment, per crear un sistema d'arxius en la nova partici\u00f3: sudo mkfs.ext4 /dev/sda3 .","title":"Llistar Dispositius Connectats"},{"location":"sprint2/#tipus-de-formateig","text":"Format de alt nivell (r\u00e0pid) : Elimina el sistema de fitxers existent, per\u00f2 no borra els arxius . Crea una nova estructura del sistema de fitxers, per\u00f2 les dades poden ser recuperades mitjan\u00e7ant eines de recuperaci\u00f3. \u00c9s el m\u00e9s r\u00e0pid i generalment utilitzat quan volem reutilitzar un dispositiu d'emmagatzematge sense perdre dades de manera permanent immediata. Format normal : Elimina el sistema de fitxers i marca els sectors defectuosos . Els arxius desapareixen, per\u00f2 encara poden ser recuperats fins que es sobreescriguin amb nous fitxers. Aquest tipus de format \u00e9s \u00fatil quan el dispositiu pot tenir problemes de seguretat o corrupci\u00f3 i volem netejar la unitat. Format de baix nivell (lent) : Borra totes les dades de manera exhaustiva, incloent-hi l\u2019estructura f\u00edsica del disc. El disc es restaura al seu estat inicial, com si fos nou. \u00c9s el proc\u00e9s m\u00e9s lent i permanent, ja que les dades es perden de forma irreversible. Es recomana per a situacions on la seguretat \u00e9s crucial, ja que assegura la destrucci\u00f3 de dades de manera completa.","title":"Tipus de formateig"},{"location":"sprint2/#que-es-un-sistema-de-fitxers","text":"Un sistema de fitxers \u00e9s un conjunt de mecanismes que organitza, gestiona i emmagatzema fitxers en un dispositiu d'emmagatzematge com un disc dur, SSD o dispositius de mem\u00f2ria extra\u00efble. Un sistema de fitxers defineix la manera en qu\u00e8 es guarden les dades, com s'hi accedeix, i com es gestionen els noms i permisos dels fitxers. Aquests sistemes determinen com els arxius s\u00f3n organitzats en el disc, com s\u00f3n identificats, llegits, escrits, i gestionats, aix\u00ed com la manera en qu\u00e8 es gestionen els permisos d'acc\u00e9s i la seguretat de les dades. Exemples comuns de sistemes de fitxers : ext4 : Sistema de fitxers usat habitualment en distribucions de Linux, conegut per la seva estabilitat i efici\u00e8ncia. NTFS : Sistema de fitxers propietari de Microsoft, utilitzat en la majoria dels sistemes Windows, amb suport per a arxius grans i seguretat avan\u00e7ada. FAT32 : Un sistema m\u00e9s antic, compatible amb molts dispositius i sistemes operatius, per\u00f2 amb limitacions, com la mida m\u00e0xima d'arxiu de 4 GB. Btrfs : Un sistema de fitxers de nova generaci\u00f3 per a Linux, orientat a la gesti\u00f3 avan\u00e7ada de dades i a la integritat dels arxius. XFS : Un sistema de fitxers altament escalable i de rendiment elevat, utilitzat principalment en entorns de servidor.","title":"Qu\u00e8 \u00e9s un sistema de fitxers?"},{"location":"sprint2/#apuntadors-i-gestio-dels-fitxers","text":"Inode : Cada fitxer en un sistema de fitxers t\u00e9 un inode associat. L'inode emmagatzema tota la informaci\u00f3 del fitxer, com ara els permisos, la mida, les dates de creaci\u00f3 i modificaci\u00f3, aix\u00ed com la ubicaci\u00f3 f\u00edsica de les dades en el disc. Important : L'inode no cont\u00e9 el nom del fitxer. El nom del fitxer es guarda en un directori que apunta a un inode espec\u00edfic. Directoris : Els directoris s\u00f3n estructures de dades especials que actuen com a taules de mapeig. Vinculen els noms dels fitxers amb els seus respectius inodes . En lloc de contenir les dades reals dels fitxers, els directoris contenen enlla\u00e7os (apuntadors) als inodes que representen cada fitxer. Aix\u00f2 permet accedir al fitxer a trav\u00e9s del seu nom. Apuntadors a blocs de dades : Els inodes contenen apuntadors que referencien els blocs de dades on es desa el contingut real del fitxer. Els blocs de dades s\u00f3n les unitats f\u00edsiques d'emmagatzematge on es guarden les dades. Quan un fitxer \u00e9s petit, pot ser emmagatzemat en un \u00fanic bloc. Tanmateix, per a fitxers m\u00e9s grans, es poden utilitzar apuntadors dobles o triples : Apuntadors simples : Apunten directament als blocs de dades. Apuntadors dobles : Apunten a blocs que, al seu torn, contenen m\u00e9s apuntadors a blocs de dades. Apuntadors triples : Apunten a blocs que contenen apuntadors dobles, oferint una capa addicional de refer\u00e8ncies per a fitxers molt grans.","title":"Apuntadors i gesti\u00f3 dels fitxers"},{"location":"sprint2/#creacio-de-particions","text":"Primer de tot, cal saber que EXT4 \u00e9s un sistema de fitxers utilitzat principalment en Linux. Aquest sistema de fitxers millora la gesti\u00f3 de particions mitjan\u00e7ant diverses caracter\u00edstiques importants com ara: seguretat de registres de canvis , que permet mantenir un registre dels canvis realitzats al sistema de fitxers, facilitant la recuperaci\u00f3 en cas de fallades; suport per a fitxers i particions m\u00e9s grans , permetent gestionar volums de dades molt m\u00e9s grans que altres sistemes de fitxers com FAT32; millora de l'organitzaci\u00f3 i reducci\u00f3 de la fragmentaci\u00f3 , la qual cosa redueix la fragmentaci\u00f3 i millora la velocitat d'acc\u00e9s als arxius; m\u00e9s r\u00e0pid i compatible amb versions anteriors , sent m\u00e9s eficient i mantenint compatibilitat amb versions antigues del sistema operatiu Linux; i fiabilitat i adequaci\u00f3 per a grans volums de dades , ja que \u00e9s un sistema robust i ideal per gestionar grans quantitats de dades. Per llistar totes les particions disponibles en el sistema, utilitzarem la comanda fdisk -l . Aquesta comanda mostrar\u00e0 totes les particions creades en els discs del sistema. Haurem de buscar una partici\u00f3 que hem creat pr\u00e8viament amb una mida de 2 GB. Una vegada provat el disc i sabent el seu nom, entrarem dins d'ell amb fdisk /dev/sdb :","title":"Creaci\u00f3 de particions"},{"location":"sprint2/#en-aquest-punt-farem-la-creacio-duna-particio","text":"Per crear la partici\u00f3, haurem d'introduir la lletra n , de new . Seguidament, el sistema ens far\u00e0 escollir entre una partici\u00f3 prim\u00e0ria o estesa . La difer\u00e8ncia principal \u00e9s la seg\u00fcent: La partici\u00f3 prim\u00e0ria es pot utilitzar directament per emmagatzemar dades o un sistema operatiu. La partici\u00f3 estesa serveix per crear m\u00faltiples particions l\u00f2giques dins d'ella. En el sistema MBR, es poden tenir fins a 4 particions prim\u00e0ries, per\u00f2 nom\u00e9s una partici\u00f3 estesa, que pot contenir diverses particions l\u00f2giques. En aquest cas, farem enter per escollir el valor predeterminat, que ser\u00e0 la partici\u00f3 prim\u00e0ria. En el nombre de particions, farem tamb\u00e9 \u00fas del valor predeterminat, que ser\u00e0 una sola partici\u00f3. Arribem a la part on hem d'escollir la mida de la partici\u00f3. El valor predeterminat \u00e9s una mica m\u00e9s de 4 milions de sectors, aix\u00ed que crearem una partici\u00f3 de la meitat, \u00e9s a dir, 2 milions de sectors . Finalment, introdu\u00efm w per guardar els canvis. Per verificar que la partici\u00f3 s'ha creat correctament, utilitzem fdisk -l i veiem el disc sdb de 2GB i la partici\u00f3 sdb1 : Amb la comanda mkfs.ext4 -b 2048 /dev/sdb1 el que estarem fent \u00e9s especificar la mida del bloc quan es crea un sistema de fitxers EXT4 en la partici\u00f3. En aquest cas, li estem indicant una mida de 2048 bytes , la qual \u00e9s \u00fatil per a arxius petits perqu\u00e8 permet un \u00fas m\u00e9s eficient de l'espai i redueix la fragmentaci\u00f3 interna. No obstant aix\u00f2, per arxius grans, podria ser menys eficient en termes de rendiment, ja que es necessiten m\u00e9s operacions per llegir o escriure els arxius. Comprovem la mida del bloc fent un grep del bloc de la nostra partici\u00f3 i veiem size = 2048 :","title":"En aquest punt farem la Creaci\u00f3 d'una partici\u00f3:"},{"location":"sprint2/#muntatge-de-particions","text":"El muntatge de particions \u00e9s el proc\u00e9s mitjan\u00e7ant el qual el sistema operatiu associa una partici\u00f3 o dispositiu d'emmagatzematge a un directori del sistema de fitxers, permetent accedir-hi i gestionar els arxius. Per muntar una partici\u00f3 es fa servir la comanda mount , i per desmuntar-la s'utilitza umount . Muntar una partici\u00f3 \u00e9s necessari abans de poder treballar amb els seus arxius al sistema. Tenim dues maneres de muntar una partici\u00f3: De forma temporal , \u00e9s a dir, que quan l'equip es reinicia, s'ha de tornar a muntar la partici\u00f3. De forma definitiva , una vegada muntada la partici\u00f3 ja no es \"perd\" aquest muntatge ni quan l'equip es reinicia.","title":"Muntatge de particions"},{"location":"sprint2/#muntatge-temporal","text":"Primer de tot, creem un directori que s'anomenar\u00e0 particio1 . Farem el muntatge de la partici\u00f3 dins del directori que hem creat amb la comanda mount -t ext4 <partici\u00f3> <directori> . Algunes opcions de permisos que accepta aquesta comanda s\u00f3n les seg\u00fcents: -o rw : Muntatge en mode lectura-escriptura. -o ro : Muntatge en mode nom\u00e9s lectura. -o noatime : No actualitza el temps d'acc\u00e9s als fitxers, millorant el rendiment. -o uid=<id_usuari>, gid=<id_grup> : Assigna un usuari i grup espec\u00edfics als fitxers. -o noexec : Impedeix l'execuci\u00f3 de fitxers executables. -o umask=<mascara> : Controla els permisos per defecte dels fitxers creats. Aquestes opcions permeten personalitzar com es muntar\u00e0 la partici\u00f3 segons les necessitats del sistema. Podem veure que, una vegada muntada la partici\u00f3, en el directori creat han aparegut fitxers, i all\u00e0 mateix creem un fitxer de prova . Si la desmuntem amb la comanda umount , tots els fitxers no es mostren. No s'han eliminat, simplement la partici\u00f3 no est\u00e0 muntada i no apareixeran fins que es torni a muntar: Finalment , per veure que aquest muntatge \u00e9s temporal, el que s'ha de fer \u00e9s muntar la partici\u00f3 com ja s'ha explicat a dalt i reiniciar l'equip. Quan es torni a iniciar, hem de fer un ls del directori particio1 i veurem el directori buit, ja que s'ha desmuntat la partici\u00f3:","title":"Muntatge temporal"},{"location":"sprint2/#muntatge-definitiu","text":"Per muntar la partici\u00f3 de forma definitiva, cal editar el fitxer de configuraci\u00f3 /etc/fstab , que cont\u00e9 informaci\u00f3 sobre les particions i dispositius d'emmagatzematge. Aquest fitxer especifica com i on s'han de muntar autom\u00e0ticament durant l'arrencada del sistema. Fem un nano /etc/fstab per editar aquest fitxer. Exemple d'una l\u00ednia : /dev/sdb1 /home.... ext4 rw 0 1 /dev/sdb1 : Aquesta ser\u00e0 la partici\u00f3 que es vol muntar. /home.... : \u00c9s el directori on es vol muntar el dispositiu. ext4 : \u00c9s el tipus de sistema de fitxers. rw : Indica els permisos que es poden atorgar, com escriptura, lectura o execuci\u00f3. 1 o 0 : Aquest valor especifica en quin ordre el sistema de fitxers ha de ser verificat durant l'inici. El valor 1 indica que aquest sistema de fitxers ha de ser verificat primer. Si fos 0 , el sistema de fitxers NO es verifica durant l'arrencada. Dins del fitxer, afegim la seg\u00fcent l\u00ednia per al nostre cas i la guardem: Reiniciem el sistema. Un cop reiniciat, anem al directori particio1 per comprovar que la partici\u00f3 segueix muntada correctament, ja que podem veure el seu contingut: En aquest punt ja tindrem muntada la partici\u00f3 de forma definitiva.","title":"Muntatge definitiu"},{"location":"sprint2/#carpetes-compartides","text":"Les carpetes compartides s\u00f3n directoris configurats perqu\u00e8 altres usuaris o dispositius de la xarxa hi puguin accedir, facilitant l'intercanvi de fitxers i la col\u00b7laboraci\u00f3.","title":"Carpetes Compartides"},{"location":"sprint2/#proces-per-compartir-una-carpeta","text":"Primer de tot, s'ha de crear un disc en la m\u00e0quina virtual que ser\u00e0 de 3 GB. En aquest cas, el disc es dir\u00e0 sdc : Seguidament, amb la comanda fdisk /dev/sdc , crearem la primera partici\u00f3 del disc afegit anteriorment: Disc amb la seva partici\u00f3:","title":"Proc\u00e9s per compartir una carpeta:"},{"location":"sprint2/#ext4","text":"Seguidament, s'haur\u00e0 de formatejar la partici\u00f3 sdc1 amb el sistema de fitxers ext4 : Comanda: mkfs.ext4 /dev/sdc1 Mirem la IP de la nostra m\u00e0quina virtual i tamb\u00e9 del nostre ordinador f\u00edsic (client) amb la comanda ip a . IP de la m\u00e0quina virtual : 192.168.201.204 IP de l'ordinador f\u00edsic (client) : 192.168.122.1 Veiem que estan connectades a la mateixa xarxa IP, aix\u00ed podrem fer la compartici\u00f3 de carpetes. En aquest punt comprovem que la m\u00e0quina virtual t\u00e9 la xarxa establerta com a Adaptador pont . Seguidament, creem una carpeta al directori /var amb el nom de particio2 i canviem els permisos d'aquesta carpeta a chown nobody:nogroup , que canvia el propietari d'un fitxer o directori a l'usuari nobody i al grup nogroup , utilitzats per recursos sense associaci\u00f3 espec\u00edfica a usuaris o grups. Editarem l'arxiu /etc/fstab per canviar la direcci\u00f3 a /var/particio2 per deixar muntada la partici\u00f3: Quan haguem editat el fitxer, farem un reboot de la m\u00e0quina virtual per assegurar-nos que la partici\u00f3 quedi muntada correctament. Despr\u00e9s, farem la instal\u00b7laci\u00f3 de Samba i Nautilus , tot i que finalment nom\u00e9s farem \u00fas de Samba : Samba \u00e9s un conjunt de programes que permeten compartir arxius i recursos entre sistemes Linux i Windows. Ara farem la instal\u00b7laci\u00f3 de SMB Client , que \u00e9s una eina de l\u00ednia de comandes que permet accedir i gestionar recursos compartits en una xarxa mitjan\u00e7ant el protocol SMB. Instal\u00b7laci\u00f3 de smbclient : Canviarem els permisos per als usuaris de Samba : Donarem perm\u00eds 1777 , que concedeix permisos de lectura, escriptura i execuci\u00f3 per a tots els usuaris, amb la restricci\u00f3 que nom\u00e9s el propietari dels fitxers pot eliminar-los. Afegirem al grup sambashare a l'usuari root , que ser\u00e0 qui pugui accedir a les carpetes configurades al fitxer smb.conf . Creem un usuari de prova anomenat gina : L'afegim al grup de Samba : Ara li posem una contrasenya a l'usuari perqu\u00e8 pugui accedir al Samba . En aquest cas, la contrasenya ser\u00e0 ginagina : Un cop configurat l'usuari i els permisos, anirem al fitxer /etc/samba/smb.conf : Dins del fitxer, afegirem les seg\u00fcents l\u00ednies d'informaci\u00f3 que a continuaci\u00f3 s'explicaran: Explicaci\u00f3 de cada l\u00ednia afegida : path : Defineix la ruta local on es troba el recurs compartit. browseable : Controla si el recurs \u00e9s visible a la xarxa. read only : Permet nom\u00e9s lectura si est\u00e0 configurat com a yes . writeable : Habilita l'escriptura al recurs compartit si est\u00e0 configurat com a yes . guest ok : Permet acc\u00e9s sense autenticaci\u00f3 si est\u00e0 configurat com a yes . read list : Especifica usuaris o grups amb acc\u00e9s de nom\u00e9s lectura. write list : Defineix usuaris o grups amb permisos d'escriptura. create mask : Configura els permisos predeterminats per a fitxers nous. directory mask : Estableix els permisos predeterminats per a directoris nous. Comprovem la IP de la nostra m\u00e0quina virtual: Introdu\u00efm aquesta IP de la m\u00e0quina virtual i ens dirigim a Fitxers del Client . A la barra lateral esquerra, a baix de tot, hi ha una secci\u00f3 on posa Altres ubicacions . Si hi fem clic, apareixer\u00e0 un buscador a la part inferior i hem de posar la seg\u00fcent adre\u00e7a: Un cop fet tot aix\u00f2, el resultat ser\u00e0 que en el Client veurem la carpeta compartida que pertany a la M\u00e0quina Virtual :","title":"EXT4"},{"location":"sprint2/#ntfs","text":"NTFS (New Technology File System) \u00e9s un sistema de fitxers desenvolupat per Microsoft per a sistemes operatius Windows. Ofereix suport per a grans volums de dades, alta integritat i seguretat de les dades. Permet una r\u00e0pida cerca de fitxers, compressi\u00f3 de fitxers, i seguretat a nivell de fitxers. NTFS tamb\u00e9 gestiona permisos d'acc\u00e9s i encripta fitxers per protegir dades sensibles. El primer pas ser\u00e0 afegir un nou disc de 3 GB. En aquest cas, ser\u00e0 el disc sdf . Un cop afegit el nou disc a la m\u00e0quina virtual, crearem una partici\u00f3 dins del disc anomenada sdf1 : Comprovaci\u00f3 del disc amb la seva partici\u00f3: Seguidament, farem la instal\u00b7laci\u00f3 de NTFS amb la comanda sudo apt install ntfs-3g : En cas de no tenir instal\u00b7lat Samba , l'instal\u00b7larem amb les seg\u00fcents comandes: sudo apt-get update<br> sudo apt-get install samba En aquest cas, ja el tenim instal\u00b7lat de fer-lo servir abans: Ara crearem una carpeta que volem compartir m\u00e9s endavant. Aquesta carpeta es dir\u00e0 ntfs_l_w . La crearem dins del directori /var : Seguidament, donarem permisos al nou directori:","title":"NTFS"},{"location":"sprint2/#muntar-la-particio","text":"Primer de tot, amb la seg\u00fcent comanda: sudo mkfs.ntfs -f /dev/sdf1 , el que farem ser\u00e0 formatejar la partici\u00f3 amb el sistema de fitxers NTFS . Despr\u00e9s, muntem la partici\u00f3 de manera temporal per comprovar que funciona correctament: Seguidament, creem un fitxer dins de la partici\u00f3 a /var/ntfs_l_w amb la comanda nano nom_fitxer.txt , que ens servir\u00e0 per veure m\u00e9s f\u00e0cilment si la partici\u00f3 est\u00e0 muntada correctament. En aquest punt, ja muntarem la partici\u00f3 sdf de manera definitiva. Aix\u00ed que editarem el fitxer /etc/fstab amb el sistema de fitxers NTFS : Quan haguem editat el fitxer, farem un reboot de la nostra m\u00e0quina virtual per tal que la partici\u00f3 quedi muntada correctament. Despr\u00e9s, comprovem que a la direcci\u00f3 on s'ha muntat trobem el fitxer creat anteriorment. Un cop configurats l'usuari i els permisos, entrarem al fitxer /etc/samba/smb.conf : Dins del fitxer, afegirem la seg\u00fcent configuraci\u00f3: [ntfs_l_w] path = /var/ntfs_l_w public = yes writable = yes browsable = yes guest ok = yes re ad list = gina write list = gina create mask = 0744 directory mask = 0755 Seguidament reiniciem samba amb sudo systemctl restart smbd i mirem el seu estat amb la comanda sudo systemctl status smbd","title":"Muntar la partici\u00f3"},{"location":"sprint2/#accedir","text":"Comprovem que els dos dispositius (amb Linux i Windows ) estiguin connectats a la mateixa xarxa. IP de la m\u00e0quina amb Linux : IP del Windows : Finalment, hem d'anar a la nostra m\u00e0quina amb Windows i accedir a l'apartat Este equipo . A dalt al buscador, hem d'introduir la direcci\u00f3 IP seguida del nom de la carpeta, com es mostra a continuaci\u00f3: I finalment, accedirem a la carpeta que hav\u00edem compartit des de la nostra m\u00e0quina Linux, veient el fitxer creat anteriorment.","title":"Accedir"},{"location":"sprint2/#7-copies-de-seguretat","text":"Una c\u00f2pia de seguretat \u00e9s una duplicaci\u00f3 dels fitxers o dades importants d\u2019un sistema, amb l'objectiu de protegir-los davant p\u00e8rdues, errors humans, fallades de maquinari o ciberatacs. La c\u00f2pia ha d\u2019estar en almenys dos suports diferents per evitar p\u00e8rdues si un suport falla, per exemple en dos discs. Un RAID combina diverses unitats d'emmagatzematge per augmentar la fiabilitat, el rendiment i la capacitat d'emmagatzematge, proporcionant redund\u00e0ncia contra fallades d'unitats i millorant la velocitat d'acc\u00e9s a les dades.","title":"7. C\u00f2pies de Seguretat"},{"location":"sprint2/#politiques-de-copies-de-seguretat","text":"Les pol\u00edtiques estableixen com es realitzaran les c\u00f2pies per garantir la seguretat i efici\u00e8ncia. Les tres t\u00e8cniques m\u00e9s comuns s\u00f3n:","title":"Pol\u00edtiques de c\u00f2pies de seguretat"},{"location":"sprint2/#completes","text":"Una c\u00f2pia de seguretat Completa crea una c\u00f2pia de tots els fitxers i dades seleccionades. Es sol utilitzar per c\u00f2pies setmanals o mensuals. Avantatges : Cont\u00e9 totes les dades en un sol conjunt i \u00e9s m\u00e9s senzilla i r\u00e0pida de restaurar, ja que nom\u00e9s es necessita la darrera c\u00f2pia completa. Desavantatges : \u00c9s lenta de fer, ja que requereix m\u00e9s temps i espai d'emmagatzematge.","title":"Completes"},{"location":"sprint2/#diferencials","text":"Una c\u00f2pia Diferencial crea una c\u00f2pia dels canvis efectuats des de l'\u00faltima c\u00f2pia completa realitzada. Es sol utilitzar per c\u00f2pies intermitents, di\u00e0ries o cada pocs dies. Avantatges : M\u00e9s r\u00e0pida i lleugera que una c\u00f2pia completa, i per restaurar, nom\u00e9s cal la darrera c\u00f2pia completa i l'\u00faltima c\u00f2pia diferencial. Desavantatges : Amb el temps, pot augmentar de mida, ja que inclou tots els canvis acumulats des de l'\u00faltima c\u00f2pia completa.","title":"Diferencials"},{"location":"sprint2/#incrementals","text":"Una c\u00f2pia Incremental crea una c\u00f2pia dels canvis realitzats des de l\u2019\u00faltima c\u00f2pia (sigui completa o incremental). El seu \u00fas \u00e9s per c\u00f2pies freq\u00fcents en entorns on el temps d'execuci\u00f3 \u00e9s cr\u00edtic. Avantatges : \u00c9s la t\u00e8cnica m\u00e9s r\u00e0pida i requereix menys espai. Desavantatges : La restauraci\u00f3 \u00e9s m\u00e9s lenta i complexa, ja que cal l'\u00faltima c\u00f2pia completa i totes les c\u00f2pies incrementals pr\u00e8vies. En cas que una c\u00f2pia incremental es perdi o es corrompi, pot afectar la restauraci\u00f3.","title":"Incrementals"},{"location":"sprint2/#resum-de-comparativa","text":"Tipus Velocitat de c\u00f2pia Espai requerit Facilitat de restauraci\u00f3 Requisits per restaurar Completa Lenta Alt Alta Nom\u00e9s la darrera c\u00f2pia completa Diferencial Moderada Moderat Mitjana Completa + darrera diferencial Incremental R\u00e0pida Baix Baixa Completa + totes les incrementals pr\u00e8vies","title":"Resum de comparativa"},{"location":"sprint2/#programes-amb-interficie","text":"Utilitzarem el programa de c\u00f2pies amb interf\u00edcie gr\u00e0fica D\u00e9j\u00e0 Dup","title":"Programes amb interf\u00edcie"},{"location":"sprint2/#deja-dup","text":"Primer de tot el descarregarem amb les seguents comandes: sudo apt update sudo apt install deja-dup","title":"D\u00e9j\u00e0 Dup"},{"location":"sprint2/#comprovacio-de-la-installacio","text":"L'aplicaci\u00f3 \"Respaldos\" que es veu al sistema Linux \u00e9s una interf\u00edcie gr\u00e0fica per a Deja Dup , que \u00e9s una eina de c\u00f2pia de seguretat per a sistemes GNOME.","title":"Comprovaci\u00f3 de la instal\u00b7laci\u00f3"},{"location":"sprint2/#copies","text":"En iniciar el programa, primer de tot hem de crear la primera c\u00f2pia, que ser\u00e0 una c\u00f2pia completa de tot all\u00f2 que es vulgui guardar. Per aix\u00f2, seleccionarem la primera opci\u00f3: Cree su primer respaldo . Ens demanar\u00e0 que indiquem quines carpetes volem afegir a la c\u00f2pia de seguretat i quines volen ser ignorades, com podria ser la de la brossa: En la seg\u00fcent finestra, haurem de triar on volem guardar la c\u00f2pia, que pot ser un disc extern, un servidor de xarxa o un servei en n\u00favol com Google Drive. En aquest cas, es guardar\u00e0 en una carpeta local: L'\u00faltim pas abans de fer la c\u00f2pia ser\u00e0 afegir una contrasenya per poder restaurar els arxius: D\u00e9j\u00e0 Dup realitza c\u00f2pies de seguretat autom\u00e0tiques utilitzant c\u00f2pies completes , diferencials i incrementals sense necessitat d'intervenci\u00f3 manual. Quan es fa la primera c\u00f2pia, D\u00e9j\u00e0 Dup realitza una c\u00f2pia completa de tots els fitxers seleccionats. A partir de la segona c\u00f2pia, el programa fa c\u00f2pies incrementals , copiant nom\u00e9s els fitxers que han canviat des de l'\u00faltima c\u00f2pia, ja sigui completa o incremental. Quan es fa una c\u00f2pia diferencial , D\u00e9j\u00e0 Dup copia els fitxers modificats des de la darrera c\u00f2pia completa , ignorant les c\u00f2pies incrementals. Aquest sistema autom\u00e0tic permet optimitzar l'espai, ja que nom\u00e9s es copien els canvis, sense necessitat que l'usuari configuri manualment el tipus de c\u00f2pia. Tamb\u00e9 podrem triar cada quant volem que es realitzi la c\u00f2pia de seguretat, en cas que les tinguem automatitzades.","title":"Copies"},{"location":"sprint2/#restaurar","text":"Per poder fer una restauraci\u00f3 de les c\u00f2pies de seguretat, el que hem de fer \u00e9s anar a l'apartat Restaurar del men\u00fa superior de l'aplicaci\u00f3. Seguidament, hem de seleccionar les carpetes/arxius que volem restaurar i, una vegada seleccionats, donarem clic al bot\u00f3 de Restaurar . Escollirem on volem fer la restauraci\u00f3, en la ubicaci\u00f3 original o en una altra ubicaci\u00f3. I ja estaria feta; tindr\u00edem de nou tot el contingut de manera correcta.","title":"Restaurar"},{"location":"sprint2/#comandes-cp-rsync-dd","text":"Per fer les c\u00f2pies de seguretat, el primer que es far\u00e0 ser\u00e0 crear dos discos a la m\u00e0quina virtual que siguin de 1GB cadascun. En el nostre cas, tenim els discos sdd i sde : El que hem de fer seguidament \u00e9s crear una partici\u00f3 per a cada disc del tamany corresponent i, finalment, formatejar les particions amb el sistema de fitxers ext4 : Particions creades: Formateig de sdd1 : Formateig de sde1 Un cop tenim les dues particions, anem a /var i creem una carpeta anomenada copia_dades , que ser\u00e0 on rebrem els fitxers de la c\u00f2pia. Tamb\u00e9 muntarem la partici\u00f3 sdd1 al directori d'aquesta carpeta que acabem de crear: Ara anirem a Documentos i all\u00ed crearem un fitxer de prova i una carpeta com podem veure a continuaci\u00f3:","title":"Comandes: CP, RSYNC, DD"},{"location":"sprint2/#cp","text":"En aquest punt, amb CP , farem servir la comanda sudo cp -R /directori_que_volem_copiar /directori_on_copiar . Per\u00f2 en l'exemple ens faltava crear la carpeta raul dins de la carpeta copia_dades . Aix\u00ed que creem aquesta carpeta i despr\u00e9s fem servir la comanda per fer la c\u00f2pia: En aquest moment ja tenim una c\u00f2pia realitzada amb \u00e8xit i de manera correcta. Per\u00f2 si ara creem un fitxer nou i eliminem el que tenim anomenat adeu , el que veurem \u00e9s que, al fer de nou la c\u00f2pia, no s'actualitza. El que passa \u00e9s que amb CP es fa una c\u00f2pia i, en cas que es canvi\u00ef alguna cosa, nom\u00e9s afegir\u00e0 el que \u00e9s nou, per\u00f2 mai eliminar\u00e0 res en el moment de fer la c\u00f2pia, aix\u00ed que la carpeta on s'ha fet la c\u00f2pia quedar\u00e0 desactualitzada:","title":"CP"},{"location":"sprint2/#rsync","text":"Ara provem amb la comanda de c\u00f2pia RSYNC , i el que podem apreciar \u00e9s que s'est\u00e0 eliminant al directori final l'arxiu que hav\u00edem eliminat de la carpeta origen, quedant aix\u00ed actualitzada la c\u00f2pia final: Amb RSYNC aconseguim que es faci una c\u00f2pia de manera intel\u00b7ligent, ja que nom\u00e9s es copiaran les modificacions. Tamb\u00e9 es pot fer entre m\u00e0quines remotes via SSH . La comanda de RSYNC pot portar els seg\u00fcents atributs: -a per mantenir els permisos -v per obtenir informaci\u00f3 dels processos --delete per eliminar els canvis que no hi ha","title":"RSYNC"},{"location":"sprint2/#dd","text":"Amb DD farem una c\u00f2pia de seguretat, per\u00f2 en aquest cas ser\u00e0 entre particions, entre la partici\u00f3 sdd i sde . Aquesta comanda no est\u00e0 dissenyada per fer c\u00f2pies de fitxers comuns, sin\u00f3 que treballa a nivell de bloc, clonant discs o particions, incloent estructures de metadades. Tamb\u00e9 es pot utilitzar per sobrescriure de manera segura dispositius abans de fer un formateig. Cal fer servir DD amb precauci\u00f3 per evitar la p\u00e8rdua irreparable de dades. La comanda sudo dd if=/dev/sdd1 of=/dev/sde1 ... ens diu que es far\u00e0 una c\u00f2pia de seguretat des de la partici\u00f3 sdd1 cap a la sde1 . Comprovem que els hash siguin iguals en les dues particions per confirmar que la c\u00f2pia s'ha realitzat amb \u00e8xit. I en cas que vulguem borrar una partici\u00f3 de manera segura abans de formatejar-la, el que farem ser\u00e0 sobreescriure la partici\u00f3 amb ceros per borrar el seu contingut:","title":"DD"},{"location":"sprint2/#8-automatitzacio","text":"","title":"8. Automatitzaci\u00f3"},{"location":"sprint2/#introduccio","text":"En els sistemes operatius amb Linux, l\u2019automatitzaci\u00f3 de tasques \u00e9s essencial per garantir el manteniment del sistema i l'execuci\u00f3 d'accions repetitives. Dues eines destacades per aquest prop\u00f2sit s\u00f3n Cron i Anacron , que permeten programar l'execuci\u00f3 de processos i scripts de manera autom\u00e0tica. Encara que comparteixen la mateixa finalitat, tenen caracter\u00edstiques diferents que les fan adequades per a tasques espec\u00edfics. A continuaci\u00f3 es mostra les difer\u00e8ncies entre Cron i Anacron :","title":"Introducci\u00f3"},{"location":"sprint2/#diferencies-entre-cron-i-anacron","text":"Caracter\u00edstica Cron Anacron Funci\u00f3 principal Executar tasques programades a intervals regulars o a hores concretes. Garantir que les tasques pendents s'executin quan el sistema s'enc\u00e9n, encara que estigu\u00e9s apagat. Requisit de sistema Nom\u00e9s funciona si l'ordinador est\u00e0 enc\u00e8s a l'hora programada. Executa tasques programades tan bon punt el sistema es posa en marxa si estaven pendents. Usuaris t\u00edpics Tasques d\u2019usuaris o administradors que necessiten precisi\u00f3 temporal. Tasques d\u2019administradors per al manteniment general del sistema (nivell global). Fitxers de configuraci\u00f3 - /etc/crontab per a tasques globals. - crontab -e per a usuaris espec\u00edfics. - /etc/anacrontab per a configuraci\u00f3 de tasques retardades. Freq\u00fc\u00e8ncia m\u00ednima Minuts (es pot programar per executar-se cada minut). Dies (dissenyat per a tasques amb menys freq\u00fc\u00e8ncia). Flexibilitat amb apagat No pot recuperar tasques perdudes si el sistema estava apagat en el moment previst. Pot detectar tasques no completades i executar-les quan el sistema es reinicia.","title":"Difer\u00e8ncies entre Cron i Anacron"},{"location":"sprint2/#cron-en-detall","text":"Execuci\u00f3 precisa : Utilitza un format d\u2019hora i data molt concret (minut, hora, dia del mes, mes, dia de la setmana) per programar tasques. Configuraci\u00f3 : Fitxer global: /etc/crontab . Per a usuaris espec\u00edfics: crontab -e (modifica el crontab de l\u2019usuari que executa la comanda). Ubicaci\u00f3 dels scripts : cron.hourly , cron.daily , cron.weekly , cron.monthly s\u00f3n carpetes dins /etc/cron.* on es poden posar scripts per executar-se a intervals regulars.","title":"Cron en detall"},{"location":"sprint2/#anacron-en-detall","text":"Execuci\u00f3 flexible : Ideal per tasques que no necessiten precisi\u00f3 per\u00f2 han de garantir-se (com actualitzacions del sistema o c\u00f2pies de seguretat). Configuraci\u00f3 : Utilitza el fitxer /etc/anacrontab per definir les tasques. Cada tasca especifica: Per\u00edode de temps (en dies). Nom de la tasca . Comanda per executar. Dissenyat per sistemes que no estan sempre encesos : Assegura l'execuci\u00f3 fins i tot en port\u00e0tils o sistemes que s\u2019apaguen amb freq\u00fc\u00e8ncia. Cron \u00e9s perfecte per tasques amb un horari exacte en sistemes que estan sempre operatius. I Anacron \u00e9s ideal per a tasques que no corren presa per\u00f2 han de ser executades en algun moment, independentment de si el sistema estava apagat.","title":"Anacron en detall"},{"location":"sprint2/#part-practica","text":"En aquest apartat es posar\u00e0 en pr\u00e0ctica el Cron i l' Anacron per fer l'automatitzaci\u00f3 de la compressi\u00f3 d'un directori i que sigui guardat a l'Escriptori.","title":"Part Pr\u00e0ctica"},{"location":"sprint2/#creacio-i-execucio-dun-script","text":"Primer de tot s'ha de crear un script, en aquest cas nano copia.sh , on donarem l'ordre que un directori sigui comprimit i guardat en una ubicaci\u00f3 espec\u00edfica. Dins del fitxer hem de posar la data, que estar\u00e0 a la primera l\u00ednia del codi, i guardar\u00e0 el moment en qu\u00e8 es fa \u00fas del Script . Seguidament introdu\u00efm la comanda que comen\u00e7a amb \"/home/...gz\" , que \u00e9s on es guardar\u00e0 i amb el nom que tindr\u00e0 la compressi\u00f3, seguit del directori que es vol comprimir, \"/home/../Documentos\" . Una vegada configurat el fitxer, sortim i guardem. En aquest moment hem de canviar els permisos del fitxer copia.sh perqu\u00e8 tothom tingui permisos d'execuci\u00f3 amb chmod +x copia.sh : Ara ja es podria executar el Script , aix\u00ed que fem ./copia.sh i observem el seu resultat: Trobem que ha generat el comprimit i l'ha guardat a l' Escriptori . Tamb\u00e9 podem veure que el nom del comprimit \u00e9s el que li hav\u00edem posat, amb, a m\u00e9s, uns n\u00fameros que representen la data del moment de la creaci\u00f3.","title":"Creaci\u00f3 i Execuci\u00f3 d'un Script"},{"location":"sprint2/#automatitzacio-amb-cron","text":"Per fer una automatitzaci\u00f3 amb Cron el primer que s'ha de fer \u00e9s anar al fitxer /etc/crontab per afegir la nostra tasca de l'Script anterior. Afegirem una l\u00ednia seguint l'ordre de dades establert. Primer de tot s'ha d'introduir Minut i Hora del moment que es vol que s'executi la tasca. Seguidament aniran el Dia i Mes de l'any i el n\u00famero del dia de la setmana, sent Diumenge = 0 . Finalment indiquem el nom de l' Usuari i on es troba l' Script . Una vegada guardats els canvis, esperem que sigui l'hora en qu\u00e8 es realitzar\u00e0 la tasca per comprovar que s'obt\u00e9 el resultat esperat. I finalment obtenim el resultat, creant aix\u00ed el seg\u00fcent comprimit: Ara tornem a modificar el /etc/crontab perqu\u00e8 es torni a executar l'Script, per\u00f2 ara tancant la m\u00e0quina virtual i esperant un minut m\u00e9s de l'hora a qu\u00e8 volem que s'executi l' Script per veure si es far\u00e0 en tornar a iniciar la m\u00e0quina virtual. L\u00ednia modificada: Una vegada iniciada la m\u00e0quina virtual, esperem i veiem que no s'executa res ja que amb el Cron no s'executar\u00e0 si la m\u00e0quina ha estat apagada. Llavors hem de passar al seg\u00fcent m\u00e8tode.","title":"Automatitzaci\u00f3 amb Cron"},{"location":"sprint2/#automatitzacio-amb-anacron","text":"Despr\u00e9s de veure com s'automatitzava amb Cron , passem a veure les automatitzacions amb Anacron , que ens permetran fer tasques malgrat que l'ordinador hagi estat apagat, ja que les executar\u00e0 un cop estigui enc\u00e8s. Si anem al fitxer /etc/anacrontab , podem veure en una l\u00ednia que el que fa \u00e9s executar el cron.daily , que \u00e9s el Cron que s'executar\u00e0 cada dia i s'executar\u00e0 5 minuts despr\u00e9s d'encendre l'ordinador. Llavors, el que farem despr\u00e9s de saber aix\u00f2 ser\u00e0 anar al /etc/crontab i comentar la l\u00ednia que vam afegir en la secci\u00f3 anterior. Ara hem de moure l' Script des del nostre /home fins al cron.daily de la seg\u00fcent manera i comprovar que est\u00e0 en aquest directori: Quan la movem al cron.daily l'hem de cambiar el nom a copia : D'aquesta manera, cada dia quan s'inici\u00ef l'ordinador, s'executar\u00e0 l'automatitzaci\u00f3 quan passi el temps establert al fitxer del Anacron , solucionant aix\u00ed el problema que aportava el Cron . Finalment, per a aquesta prova hem modificat el temps en qu\u00e8 s'executar\u00e0 el Daily una vegada iniciat el sistema. En aquest cas, el baixem a 1 minut: Ara reiniciem la m\u00e0quina i despr\u00e9s comprovem que al minut d'haver-se iniciat s'executa la tasca i apareix el comprimit a l'Escriptori. Per veure si l'automatitzaci\u00f3 s'ha processat, el que hem de fer \u00e9s fer una visualitzaci\u00f3 del fitxer cron.daily . En cas que s'hagi executat, trobarem en n\u00fameros el moment exacte d'aquesta execuci\u00f3. Finalment es crea el nostre comprimit i al cron.daily veiem el moment de l'execuci\u00f3:","title":"Automatitzaci\u00f3 amb Anacron"},{"location":"sprint3/","text":"Gesti\u00f3 de Dominis i Accessos La Gesti\u00f3 de Dominis i Accessos \u00e9s el proc\u00e9s d\u2019administrar els permisos i els drets d'acc\u00e9s dels usuaris a recursos i sistemes dins d\u2019un domini, assegurant la seguretat i el control de la informaci\u00f3. Inclou la creaci\u00f3, modificaci\u00f3 i eliminaci\u00f3 d\u2019usuaris, aix\u00ed com la definici\u00f3 de pol\u00edtiques d'autoritzaci\u00f3. Tamb\u00e9 hem de saber que una Unitat Organitzativa (UO) \u00e9s una estructura l\u00f2gica per organitzar i gestionar usuaris, grups, recursos i permisos, sovint vinculada a dominis o serveis com LDAP. Aquesta agrupaci\u00f3 facilita l'administraci\u00f3 centralitzada i el control d'acc\u00e9s en entorns corporatius. 1. Instal\u00b7laci\u00f3 del domini LDAP Primer de tot, el que caldran seran dues m\u00e0quines virtuals amb Ubuntu Desktop . Una s'encarregar\u00e0 de ser el servidor i l'altra actuar\u00e0 com a client . Una vegada tenim les dues m\u00e0quines, configurem la xarxa de cada una en Xarxa NAT . Per comen\u00e7ar, anirem a la m\u00e0quina virtual que far\u00e0 com a Servidor , i mirarem la seva IP amb ip a : La nostra IP en aquest cas ser\u00e0 10.0.2.15 en el Servidor . A continuaci\u00f3, configurem la xarxa del nostre sistema de la seg\u00fcent manera: Per comprovar la connexi\u00f3, utilitzem la comanda ping amb el DNS que \u00e9s 8.8.8.8 : Despr\u00e9s de tot, anem al fitxer /etc/hosts on introduirem la nostra IP d'abans seguida del nostre host name i domini de la seg\u00fcent manera: Instal\u00b7laci\u00f3 de Slapd Fem \u00fas de apt install slapd ldap-utils per instal\u00b7lar el paquet i primerament ens portar\u00e0 a la seg\u00fcent finestra: En aquesta finestra hem d'introduir la contrasenya que ens permet entrar a slapd com a administrador. Li donem a Acceptar i en la seg\u00fcent finestra que ens surt confirmem la contrasenya introdu\u00efda: Un altre cop donem a Acceptar i finalment, si tot va b\u00e9, tindrem la instal\u00b7laci\u00f3 finalitzada amb \u00e8xit. Un cop fet el pas anterior, executem la comanda slapcat i ens mostrar\u00e0 una s\u00e8rie d'informaci\u00f3 que \u00e9s tota aquella referent a LDAP , que s'utilitza per accedir i gestionar informaci\u00f3 en serveis de directoris, com usuaris i recursos dins d'una xarxa. Seguidament, hem de tenir una s\u00e8rie d'arxius que hem descarregat amb antelaci\u00f3. En aquest cas els tenim ja en un comprimit ZIP a la carpeta Desc\u00e0rregues , aix\u00ed que anem i el descomprimim al directori de la seg\u00fcent manera: Obtenim cinc fitxers dels quals un \u00e9s el fitxer base , que en LDAP cont\u00e9 la configuraci\u00f3 inicial d\u2019un domini o directori. Es fa servir per inicialitzar la base de dades LDAP abans d'afegir-hi m\u00e9s dades. Es pot fer pel fitxer base o, com veurem a continuaci\u00f3, per comandes. Configuraci\u00f3 de Slapd Ara configurem el servei LDAP amb la comanda dpkg-reconfigure slapd : Primer de tot s'obrir\u00e0 una finestra on hem de seleccionar l'opci\u00f3 de NO per continuar amb la configuraci\u00f3. Seguidament hem d'introduir el nom que hav\u00edem posat del nostre host amb el domini del DNS , en aquest cas ser\u00e0 raul.cat , i donem a Acceptar . En una altra finestra ens demanen el Nom de l'organitzaci\u00f3 que estem creant, i en aquest cas ser\u00e0 igual que abans: raul.cat : En la seg\u00fcent finestra que ens sortir\u00e0 ens demanaran la contrasenya de l'administrador per accedir al directori LDAP : Confirmaci\u00f3 de la contrasenya: En la nova finestra que sortir\u00e0 a continuaci\u00f3 hem de donar a l'opci\u00f3 de SI : I finalment, en l'\u00faltima finestra hem de seleccionar l'opci\u00f3 de SI : I ja tindr\u00edem creat el directori de LDAP amb totes les configuracions. Ara tornem a utilitzar la comanda slapcat i veiem que respecte al d'abans ara s'han actualitzat els noms de l'organitzaci\u00f3 i el domini. Breument, la informaci\u00f3 vol dir el seg\u00fcent: dn: dc=hostname,dc=domini : Identificador \u00fanic de l'entrada LDAP. objectClass: top : Classe d'objecte b\u00e0sica per a totes les entrades. objectClass: domain : Indica que l'entrada \u00e9s un domini LDAP. dc: exemple : Component del domini ( exemple ) dins de l'arbre LDAP. Configuraci\u00f3 dels fitxers .ldif En aquest moment anirem configurant els fitxers que hav\u00edem descarregat abans. Aquests fitxers es troben al directori Desc\u00e0rregues i contenen la configuraci\u00f3 inicial d\u2019un domini o directori del LDAP . Fitxer uo.ldif Aquest fitxer inclou una entrada per definir la UO (ou=Users) i una altra per cada usuari amb atributs. Aix\u00f2 s'utilitza per gestionar estructures i comptes del servidor LDAP. En el apartat de dc posem el nom del host , i en dc posem el domini. ou seria la Unitat Organitzativa Fitxer grup.ldif El fitxer grup.ldif \u00e9s un fitxer en format LDIF utilitzat per definir i gestionar grups dins d'un directori LDAP. Aquest fitxer pot contenir les definicions de grups, incloent-hi els seus noms, membres i altres atributs relacionats. PosixAccount representa comptes d'usuari i es fa servir per a la informaci\u00f3 d'usuaris individuals. PosixGroup representa grups d'usuaris, amb atributs com cn , gidNumber i memberUid per definir els membres del grup. S'utilitza per agrupar usuaris en un mateix grup. Els usuaris poden estar associats a un grup a trav\u00e9s del gidNumber i els membres de cada grup es llisten amb memberUid . Igual que en el fitxer anterior, posarem el nostre host corresponent i el domini. Tamb\u00e9 posarem el nom del memberUid que ser\u00e0 alu1 : Fitxer usu.ldif Finalment, editarem el fitxer usu.ldif que s'utilitza per definir un compte d'usuari en un directori LDAP, incloent-hi atributs com uid , homeDirectory , userPassword i altres informaci\u00f3 relacionada amb el compte. El que s'ha de canviar \u00e9s el host i el domini pel nostre. I si es vol, es pot canviar la contrasenya en userPassword : Una vegada hem editat tots els fitxers anteriors, hem d'executar la comanda ldapadd -c -x -D \"cn=admin,dc=raul,dc=cat\" -W -f uo.ldif S'utilitza per afegir entrades a un directori LDAP i es divideix en les seg\u00fcents parts: ldapadd : \u00c9s l'eina per afegir entrades al directori LDAP. -c : Mant\u00e9 les sortides d'errors en pantalla, mostrant m\u00e9s informaci\u00f3 de la comanda. -x : Utilitza un mode simplificat de connexi\u00f3 sense autenticaci\u00f3 de seguretat. -D \"cn=admin,dc=raul,dc=cat\" : Especifica el DN de l'usuari que s'autentica, en aquest cas, un usuari admin. -W : Demana la contrasenya per a l'usuari cn=admin . -f uo.ldif : Indica el fitxer que cont\u00e9 les dades a afegir al directori. I despr\u00e9s d'utilitzar la comanda anterior s'afegeix totes les dades al directori. Seguidament fem el mateix per als altres dos fitxers: Ara s\u00ed, ja tindr\u00edem tota la informaci\u00f3 agregada tant d'usuaris, grups com l'estructura. Finalment fem \u00fas de la comanda slapcat per veure que les entrades de la base de dades del directori han canviat, i s'ha afegit la informaci\u00f3 corresponent als fitxers anteriors. 2. Unir equips al domini En aquest punt hem d'anar a una altra m\u00e0quina virtual sense tancar la que tenim que fa com a server . Obrim la m\u00e0quina virtual que actua com a client i mirem la seva IP amb ip a . Seguidament comprovem que tenim connexi\u00f3 amb el Server fent un ping 10.0.2.15 , que \u00e9s la IP del server. Podem veure que s\u00ed tenim connexi\u00f3. Instal\u00b7laci\u00f3 de nscd Fem la instal\u00b7laci\u00f3 del paquet nscd que emmagatzema en mem\u00f2ria les consultes a serveis de noms per millorar el rendiment i reduir la c\u00e0rrega del sistema. Instal\u00b7laci\u00f3 de libnss-ldap Tamb\u00e9 hem de fer la instal\u00b7laci\u00f3 de libnss-ldap que permet la integraci\u00f3 de serveis LDAP amb el sistema de noms de serveis, permetent que els usuaris i grups siguin gestionats a trav\u00e9s d'un servidor LDAP. Quan li donem a S per seguir amb la instal\u00b7laci\u00f3, ens sortir\u00e0 una s\u00e8rie de finestres per configurar. En la primera finestra ens trobem que hem d'introduir la IP del server de la seg\u00fcent manera: En la seg\u00fcent finestra hem de canviar la configuraci\u00f3 de l'autor i posar el nostre hostname seguit de nou del domini de la seg\u00fcent manera: En una nova finestra seleccionem la versi\u00f3 de LDAP m\u00e9s recent, en aquest cas la que ve seleccionada per defecte, que \u00e9s la 3 : I en la seg\u00fcent finestra seleccionem l'opci\u00f3 de SI : Seleccionem l'opci\u00f3 de NO per no requerir un inici de sessi\u00f3 per la base de dades de LDAP : En la seg\u00fcent finestra hem de posar les dades de host i domini per al Admin : Finalment hem d'introduir la contrasenya del LDAP : I despr\u00e9s de tots els passos ja tindr\u00edem feta tota la configuraci\u00f3 de libnss-ldap . En cas que en algun moment vulguem reconfigurar els passos anteriors, el que farem ser\u00e0 executar la comanda dpkg-reconfigure ldap-auth-config i tornarem a la primera finestra d'aquesta configuraci\u00f3: Instal\u00b7laci\u00f3 de libpam-ldap Fem la instal\u00b7laci\u00f3 de libpam-ldap , que \u00e9s una biblioteca que permet autenticar usuaris mitjan\u00e7ant un servidor LDAP, en lloc de fer-ho amb fitxers locals. S'integra amb el sistema PAM per gestionar l'acc\u00e9s als recursos del sistema de manera centralitzada. Aix\u00ed, els usuaris poden accedir a diversos sistemes amb una sola identitat gestionada a LDAP. Configuraci\u00f3 /etc/nsswitch.conf Anirem al fitxer de configuraci\u00f3 /etc/nsswitch.conf , que configura l'ordre en qu\u00e8 el sistema cerca fonts d'informaci\u00f3 per resoldre serveis com usuaris, grups, noms d'amfitri\u00f3, etc. En aquest cas, mirar primer els usuaris creats. En aquest fitxer hem d'agregar compat files en els atributs de passwd , group i gshadow : Configuraci\u00f3 /etc/pam.d/common-password Anem al fitxer /etc/pam.d/common-password , que \u00e9s un fitxer de configuraci\u00f3 que defineix les pol\u00edtiques i els m\u00f2duls relacionats amb la gesti\u00f3 de contrasenyes per als sistemes que utilitzen PAM. Mirem que tinguem posat l' use_authtok ; en versions anteriors no ve posat aix\u00ed que l'haur\u00edem d'agregar: Configuraci\u00f3 /etc/pam.d/common-session Ara haurem d'agregar una l\u00ednia al fitxer /etc/pam.d/common-session , que \u00e9s un fitxer que forma part de la configuraci\u00f3 de PAM. Serveix per definir regles comunes que gestionen l'inici i el tancament de les sessions d'usuari. Afegim la l\u00ednia session optional pam_mkhomedir.so skel=/etc/skel unmask=077 que crea autom\u00e0ticament el directori personal d'un usuari quan inicia sessi\u00f3 per primera vegada, si aquest no existeix, en el moment que aquest inicia sessi\u00f3. Aquesta opci\u00f3 \u00e9s opcional i nom\u00e9s s'executa si el servei ho permet. pam_mkhomedir.so : M\u00f2dul que crea directoris personals. skel=/etc/skel : Indica que els fitxers i directoris de /etc/skel s'utilitzen com a plantilla per inicialitzar el directori personal. umask=077 : Estableix permisos restrictius per defecte (nom\u00e9s l'usuari t\u00e9 acc\u00e9s complet al seu directori personal). Configuraci\u00f3 de 50-ubuntu.conf Anem al fitxer /usr/share/lightdm/lightdm.conf.d/50-ubuntu.conf , que configura LightDM a Ubuntu, definint opcions predeterminades com el greeter i la sessi\u00f3 d'escriptori. Sent greeter la interf\u00edcie gr\u00e0fica que mostra el gestor d'inici de sessi\u00f3 per permetre als usuaris introduir les seves credencials i iniciar sessi\u00f3 al sistema. Dins del fitxer afegim la l\u00ednia greeter-show-manual-login=true , que habilita l'opci\u00f3 per introduir manualment el nom d'usuari i la contrasenya a la pantalla d'inici de sessi\u00f3. Connexi\u00f3 amb un usuari de l'equip Finalment farem una cerca al fitxer passwd de l'usuari alu1 creat durant tot aquest proc\u00e9s. Si el veiem, \u00e9s que els passos anteriors han anat b\u00e9. I podem connectar-nos correctament amb l'usuari creat: Seguidament el que farem ser\u00e0 fer un reboot de la m\u00e0quina i introduirem el nom de l'usuari i la seva contrasenya. Usuari alu1 : Contrasenya alu1 : Home de l'usuari: 3. Gesti\u00f3 Domini amb comandes Primer de tot hem de fer \u00fas de la comanda dpkg-reconfigure slapd al servidor per tal de deixar la base de dades buida i nom\u00e9s amb el domini i l\u2019usuari admin creat. Quan h\u00e0gim executat deixem tot com estava predeterminat per\u00f2 en les seg\u00fcents finestres seleccionem l'opci\u00f3 de SI : Seguidament hem de descarregar un arxiu .ldif i amb la comanda ldapadd haurem de carregar els usuaris, grups i uos . Una vegada tenim l'arxiu descarregat hem d'accedir a ell per interf\u00edcie gr\u00e0fica, anem a l'esquina superior dreta i al men\u00fa desplegable anem a Buscar i Substituir . Dins reempla\u00e7arem dc=miquel,dc=com per dc=raul,dc=cat , quan li donem a aplicar es reempla\u00e7ar\u00e0 a tot el document: Comanda per Agregar Despr\u00e9s de tot hem de carregar-los al LDAP , llavors hem de posar la comanda ldapadd -x -D \"cn=admin,dc=raul,dc=cat\" -W -f dades.ldif que afegeix entrades al directori LDAP . La comanda anterior es divideix en: ldapadd : Afegeix entrades al directori LDAP. -x : Utilitza autenticaci\u00f3 simple. -D \"cn=admin,dc=raul,dc=cat\" : Especifica l'usuari (DN) que s'autenticar\u00e0. -W : Demana la contrasenya de l'usuari de manera interactiva. -f dades.ldif : Indica l'arxiu LDIF amb les dades a afegir. Llistat d'entrades afegides: Creaci\u00f3 d'una nova OU En aquest apartat farem la creaci\u00f3 d'una nova OU , en aquest cas, anomenada Dam . Per crear-la anirem al fitxer i agregarem una nova de la seg\u00fcent manera fent-la com a organizationalUnit : Guardem el fitxer i seguidament pugem els canvis al servidor LDAP amb ldapadd . I comprovem que estiguin els canvis: Crear un nou usuari amb dos atributs opcionals per a la classe posixAccount Crearem un nou usuari amb la seg\u00fcent informaci\u00f3: Els atributs telephoneNumber, mail s\u00f3n opcionals per a la classe posixAccount , els altres s\u00f3n obligatoris. El tornem a agregar a LDAP : Crear un nou grup dintre de la OU Groups i afegir 3 usuaris Per crear un nou grup anomenat nouGrup a la ou=Groups i afegir 3 usuaris a la vegada el que farem ser\u00e0 introduir la seg\u00fcent informaci\u00f3 al nostre fitxer que es divideix en els seg\u00fcents components: dn : Defineix el distingit nom del nou grup (cn=nouGrup dins de la OU Groups). objectClass : Defineix els tipus d'objecte: top : Classe b\u00e0sica. groupOfNames : Classe per grups que contenen membres identificats per DN. cn : Nom del grup, en aquest cas, nouGrup. description : Descripci\u00f3 opcional del grup. member : Llista d'usuaris (DN complet de cada usuari). A continuaci\u00f3 l'afeixim al LDAP amb ldapadd : I comprovem que s'hagi afegit correctament de la seg\u00fcent manera: Comanda per Buscar La comanda ldapsearch -xLLL -b \"dc=raul,dc=cat\" dn fa una consulta al directori LDAP per obtenir els DN de les entrades sota el domini especificat. Parts de la comanda: ldapsearch : Cerca informaci\u00f3 al directori LDAP . -x : Usa autenticaci\u00f3 simple. -LLL : Mostra la sortida sense informaci\u00f3 extra (format net). -b \"dc=raul,dc=cat\" : Defineix la base de cerca dins del domini raul.cat . dn : Sol\u00b7licita nom\u00e9s els DN de les entrades. Llistat de DN de cada entrada: Quantes OU hi ha? Quants usuaris hi ha al domini? Per buscar la quantitat de OU que hi ha farem \u00fas de la seg\u00fcent comanda que filtrar\u00e0 per Unitat Organitzativa : ldapsearch -x -D \"cn=admin,dc=raul,dc=cat\" -W -b \"dc=raul,dc=cat\" \"(objectClass=organizationalUnit)\" . El resultat \u00e9s de 5 OU : Per buscar la quantitat d' Usuaris que hi ha farem \u00fas de la seg\u00fcent comanda que filtrar\u00e0 per Persones : ldapsearch -x -D \"cn=admin,dc=raul,dc=cat\" -W -b \"dc=raul,dc=cat\" \"(objectClass=person)\" Resultat de 151 Usuaris: L\u2019usuari kvaughan en quants grups el trobem com a uniqueMember i quins s\u00f3n? Per trobar-ho, podem fer una cerca dels grups on kvaughan aparegui com a membre \u00fanic uniqueMember . Amb la seg\u00fcent comanda treballarem a quants grups pertany, en aquest cas 1 ( numResponses: 1 ): ldapsearch -x -D \"cn=admin,dc=raul,dc=cat\" -W -b \"dc=raul,dc=cat\" \"(uniqueMember=cn=kvaughan,ou=People,dc=raul,dc=cat)\" cn Quants grups hi ha dintre de la uo Groups? Per comptar el nombre de grups dins de la unitat organitzativa Groups vem usar la seg\u00fcent comanda. En aquest cas, tenim 6 grups: ldapsearch -xLLL -b \"ou=Groups,dc=raul,dc=cat\" cn I per comptar-los afegim ...| grep -c \"^cn\" per filtrar pel nom: Mostra tots els usuaris del domini on el seu uidNumber estigui entre 1010 i 1030 (inclosos). Per cercar usuaris amb un uidNumber dins del rang entre 1010 i 1030 hem de fer servir la seg\u00fcent comanda que filtra pel rang i mostra els dn de cada usuari incl\u00f2s: ldapsearch -xLLL -D \"cn=admin,dc=raul,dc=cat\" -W -b \"dc=raul,dc=cat\" \"(&(uidNumber>=1010)(uidNumber<=1030))\" dn (&(uidNumber>=1010)(uidNumber<=1030)) : Filtra els usuaris amb un uidNumber dins del rang especificat. Usuaris on el seu tel\u00e8fon acabi en un 2 o el seu cognom en una n. Quants? Per buscar usuaris on el seu tel\u00e8fon acabi en un 2 o el seu cognom en una n hem de fer servir la seg\u00fcent comanda: ldapsearch -xLLL -D \"cn=admin,dc=raul,dc=cat\" -W -b \"dc=raul,dc=cat\" \"(|(telephoneNumber=*2)(sn=*n))\" telephoneNumber sn (|(telephoneNumber=*2)(sn=*n)) : Cerca usuaris on el telephoneNumber=*2 (el n\u00famero de tel\u00e8fon acaba en 2). sn=*n : El cognom acaba en una n. Filtra per telephoneNumber i sn . Per comptar el n\u00famero de resultats afegim el filtre: | grep \"^dn:\" | wc -l que filtra per les l\u00ednies amb dn i les compta: El resultat \u00e9s de 48 usuaris que coincideixen amb el filtre. Comanda per modificar La comanda amb l'estructura seg\u00fcent: ldapmodify [opcions] -D \"Distinguished Name\" -W -f fitxer.ldif serveix per modificar entrades en un directori LDAP , permetent afegir, canviar o eliminar atributs d'una entrada existent. La comanda es divideix en: ldapmodify : Comanda per modificar entrades al directori LDAP. -D \"dn\" : Especifica l'usuari (DN) que s'autenticar\u00e0 per realitzar les modificacions. -W : Demana la contrasenya per a l'usuari especificat. -f fitxer.ldif : Indica l'arxiu LDIF que cont\u00e9 les modificacions a aplicar. -x : Usa autenticaci\u00f3 simple (sense SASL). Afegir atribut opcional a l\u2019usuari Pedro Per afegir un nou atribut a l'usuari Pedro , el que hem de fer primer \u00e9s afegir les seg\u00fcents l\u00ednies al fitxer mk.ldif que seran les que modificaran l'usuari per afegir-los. L'agreguem al LDAP amb la comanda ldapmodify -x -D \"cn=admin,dc=raul,dc=cat\" -W -f mk.ldif Comprovem que s'ha afegit: Esborrar l\u2019atribut roomNumber i homeDirectory de l\u2019usuari ejohnson Primer de tot hem de comprovar l'estat inicial de l'usuari ejohnson . Per aix\u00f2 ho mirarem amb la comanda: ldapsearch -x -b \"dc=raul,dc=cat\" \"(uid=ejohnson)\" Anteriorment podem veure que els atributs existeixen, aix\u00ed que si volem eliminar roomNumber i homeDirectory de l'usuari ejohnson , em d'introduir la seg\u00fcent entrada: dn: uid=ejohnson,ou=People,dc=raul,dc=cat changetype: modify delete: roomNumber Explicaci\u00f3 de l'entrada anterior: dn : Identifica l'usuari ( cn=ejohnson ). changetype: modify : Especifica que es tracta d'una modificaci\u00f3. delete : Indica que volem esborrar l'atribut roomNumber . Per altra banda, tenim que no ens deixa eliminar directament l'atribut homeDirectory perqu\u00e8 posixAccount dep\u00e8n d'ell. Llavors, passarem l'atribut a valor NULL , i aix\u00f2 eliminar\u00e0 l'atribut indirectament, amb la seg\u00fcent entrada: dn: uid=ejohnson,ou=People,dc=raul,dc=cat changetype: modify replace: homeDirectory homeDirectory: /dev/null replace: homeDirectory : Indica que volem reempla\u00e7ar el contingut de l'atribut homeDirectory . homeDirectory: /dev/null : Indica que volem canviar a NULL el seu valor. Per introduir totes les entrades al LDIF hem d'executar la comanda ldapmodify -x -D \"cn=admin,dc=raul,dc=cat\" -W -f mk.ldif i far\u00e0 totes les modificacions pertinents. Finalment, al executar tot l'anterior, farem una cerca a l'usuari ejohnson per tornar a veure tota la seva informaci\u00f3 i saber si s'ha actualitzat correctament. Llavors, amb la comanda: ldapsearch -x -b \"dc=raul,dc=cat\" \"(uid=ejohnson)\" , podem veure el seg\u00fcent: Estat final correctament: Trau de la UO People a 3 usuaris i afegeix-los a la UO DAM Primer de tot, comprovem que no hi ha cap usuari a la UO de DAM fent una cerca. La comanda cerca tots els usuaris amb objectClass=posixAccount dins de la UO : ldapsearch -xLLL -D \"cn=admin,dc=raul,dc=cat\" -W -b \"ou=dam,dc=raul,dc=cat\" \"(objectClass=posixAccount)\" Tamb\u00e9 hem de mirar que existeix la Unitat Organitzativa de DAM , fent una simple cerca trobem que existeix: ldapsearch -xLLL -D \"ou=dam,dc=raul,dc=cat\" Seguidament, hem de mirar els usuaris que tenim a People amb la seg\u00fcent comanda que ens retorna el dn de cada usuari: ldapsearch -xLLL -D \"cn=admin,dc=raul,dc=cat\" -W -b \"ou=People,dc=raul,dc=cat\" \"(objectClass=posixAccount)\" dn El que farem ser\u00e0 passar els tres primers usuaris de People a la UO de DAM . Llavors, hem d'introduir la seg\u00fcent entrada al fitxer ldif : On cada l\u00ednia es divideix en els seg\u00fcents arguments: dn: Especifica el DN actual de l'usuari a la unitat ou=People . changetype: Indica que es vol modificar el DN (amb el tipus de canvi: moddn ). newrdn: Defineix el nou RDN, que en aquest cas no canvia. deleteoldrdn: Esborra el RDN antic; valor 1 indica que s\u00ed. newSuperior: Mou l'entrada a una nova ubicaci\u00f3: ou=dam,dc=raul,dc=cat . Entrada al ldif : dn: uid=abergin,ou=People,dc=raul,dc=cat changetype: moddn newrdn: uid=abergin deleteoldrdn: 1 newSuperior: ou=dam,dc=raul,dc=cat dn: uid=achassin,ou=People,dc=raul,dc=cat changetype: moddn newrdn: uid=achassin deleteoldrdn: 1 newSuperior: ou=dam,dc=raul,dc=cat dn: uid=ahall,ou=People,dc=raul,dc=cat changetype: moddn newrdn: uid=ahall deleteoldrdn: 1 newSuperior: ou=dam,dc=raul,dc=cat Ara modificarem el LDAP amb la informaci\u00f3 introdu\u00efda anteriorment amb la comanda ldapmodify -x -D \"cn=admin,dc=raul,dc=cat\" -W -f mk.ldif : Finalment, anem a veure la UO de People i podem comprovar que ja no estan els primers tres usuaris que hi havia abans: I per \u00faltim, veiem que en la UO de DAM ja estan afegits els usuaris corresponents: Esborra la UO People En aquest cas no borrar\u00e9 la meva UO People personalment, per\u00f2 seguidament hi haur\u00e0 uns passos per explicar l'eliminaci\u00f3: Primer de tot, comprovem que la UO est\u00e0 completament buida fent una cerca amb la comanda ldapsearch -xLLL -D \"ou=People,dc=raul,dc=cat\" dn . Si no surt res, \u00e9s que est\u00e0 buida. Si no est\u00e0 buida, hem d'introduir la seg\u00fcent entrada al fitxer ldif per eliminar un usuari i aix\u00ed fer-ho per cada usuari. Finalment, hem de fer ldapmodify -x -D \"cn=admin,dc=raul,dc=cat\" -W -f mk.ldif : dn: uid=usuari,ou=People,dc=raul,dc=cat changetype: delete El segon pas sera elimar directament la UO amb la seguent entrada: dn: ou=People,dc=raul,dc=cat changetype: delete Finalment, comprovem que ja no estigui buscant-la amb ldapsearch -xLLL -D \"ou=People,dc=raul,dc=cat\" dn , i ja estaria eliminada. Modifica el uid de l'usuari hmiller a hamiller Abans de modificar res, primer de tot anem a comprovar el uid de l'usuari que se'ns demana amb la comanda ldapsearch -xLLL -D \"ou=People,dc=raul,dc=cat\" \"(uid=hmiller)\" , i trobem que s\u00ed existeix: Seguidament, farem la modificaci\u00f3 del uid amb la seg\u00fcent entrada al ldif : dn: uid=hmiller,ou=People,dc=raul,dc=cat changetype: moddn newrdn: uid=hamiller deleteoldrdn: 1 L'entrada es divideix en: dn: Indica el DN de l'entrada a modificar ( uid=hmiller,ou=People,dc=raul,dc=cat ). changetype: moddn Especifica que es vol canviar el DN . newrdn: Defineix el nou RDN ( uid=hamiller ). deleteoldrdn: Elimina l'antic RDN despr\u00e9s de la modificaci\u00f3. Entrada: Fem la modificaci\u00f3 al LDAP amb ldapmodify -x -D \"cn=admin,dc=raul,dc=cat\" -W -f mk.ldif : I finalment, tornem a comprovar que el uid hagi estat canviat a hamiller , igual que abans, amb la comanda ldapsearch -xLLL -D \"ou=People,dc=raul,dc=cat\" \"(uid=hamiller)\" : D\u2019un sol cop, a l\u2019usuari que tu vulguis, esborra un atribut, afegeix-ne un altre i modifica un tercer. Si mirem a la UO de DAM , trobarem tres usuaris. En aquest cas, utilitzarem l'usuari ahall : Informaci\u00f3 de l'usuari ahall : Amb aquest usuari, el que farem ser\u00e0 eliminar-li l'atribut roomNumber , afegir-ne un altre que ser\u00e0 description , i finalment substituir el telephoneNumber . Ho farem introduint la seg\u00fcent entrada de nou al LDIF : dn: uid=ahall,ou=Dam,dc=raul,dc=cat changetype: modify delete: roomNumber dn: uid=ahall,ou=Dam,dc=raul,dc=cat add: description description: Usuari ahall dn: uid=ahall,ou=Dam,dc=raul,dc=cat replace: telephoneNumber telephoneNumber: +2 234 234 234 Executem la comanda ldapmodify -x -D \"cn=admin,dc=raul,dc=cat\" -W -f mk.ldif : Finalment, podem veure com el roomNumber s'ha eliminat, hem afegit la description , i finalment vol\u00edem reempla\u00e7ar el telephoneNumber , per\u00f2 s'ha afegit perqu\u00e8 no existia. Si hagu\u00e9s existit, s'hauria actualitzat correctament. 4. Entorns Gr\u00e0fics (Apache Directory Studio) Instal\u00b7laci\u00f3 Primer de tot, per fer la instal\u00b7laci\u00f3 hem d'anar a https://directory.apache.org/studio/download/download.html i descarregar el paquet de Apache Directory Studio . P\u00e0gina de desc\u00e0rrega: Seguidament, podem comprovar que tenim el paquet descarregat a les nostres desc\u00e0rregues: Fem l'extracci\u00f3 de la carpeta i accedim on ja podrem veure l'executable de l'aplicaci\u00f3 gr\u00e0fica: Hem d'instal\u00b7lar Java (JDK) perqu\u00e8 funcioni Apache . Per a una versi\u00f3 11, l'instal\u00b7larem amb la seg\u00fcent comanda: sudo apt install openjdk-11-jdk Finalment, executem l'aplicaci\u00f3: Configuraci\u00f3 1. Connexi\u00f3 a un servidor LDAP Afegir una connexi\u00f3 a un servidor LDAP A la barra de men\u00fa, fem clic a Window , despr\u00e9s a Open Perspective i Other... Seleccionem LDAP i fem clic a Open . Aquesta seria la perspectiva principal on podrem gestionar els nostres servidors LDAP i cercar entrades dins d'ells: Ara, al panell esquerre, busquem el panell Connection . Si no es veu aquest panell, anem a Window , Show View i LDAP Connections . Per afegir una nova connexi\u00f3, fem clic a la icona New Connection (de color groc), anem al men\u00fa i seleccionem File , despr\u00e9s New i LDAP Connection . Tindrem la seg\u00fcent finestra: Configuraci\u00f3 de la connexi\u00f3 Introdu\u00efm les dades de la connexi\u00f3 : Name : Un nom descriptiu per a la connexi\u00f3 (per exemple, \"El meu servidor LDAP\"). Host : Adre\u00e7a del servidor LDAP (per exemple, localhost si \u00e9s la nostra m\u00e0quina local). Port : El port per defecte \u00e9s 389 per connexions no segures o 636 per connexions segures. Encryption : Si la connexi\u00f3 \u00e9s segura, seleccionem LDAPS (aix\u00f2 far\u00e0 servir el port 636). Si no \u00e9s segura, deixem l'opci\u00f3 per defecte a None . Configuraci\u00f3 d'autenticaci\u00f3 : Configurem l'autenticaci\u00f3 posant l'usuari administrador dc=raul,dc=cat i les seves dades. Fem clic a OK per desar la configuraci\u00f3. I tindr\u00edem la seg\u00fcent connexi\u00f3: 2. Configuraci\u00f3 de la cerca a LDAP Realitzar una cerca A la Vista del Navegador LDAP , seleccionem el servidor LDAP al qual ens hem connectat. Al panell central, fem clic dret sobre el servidor i seleccionem New Search : A la finestra de cerca: Base DN : Defineix el punt de partida de la cerca (per exemple, dc=raul,dc=cat ). Filter : Defineix un filtre de cerca (per exemple, (uid=maria) per cercar per l'atribut uid ). Fem clic a Search per executar la cerca: Resultat de la cerca realitzada anteriorment: 3. Configuraci\u00f3 de prefer\u00e8ncies generals Canviar el tema visual Anem a Window , Preferences , General , Appearance i Theme . Seleccionem entre els temes disponibles, com el Dark Theme o el Light Theme . Canviar la font i la mida A la mateixa secci\u00f3 de Appearance , podem configurar la mida de la font i el tipus de lletra que s'utilitzar\u00e0 a les vistes de LDAP Browser i Schema Editor . Seleccionem Font per canviar el tipus de font i Size per ajustar la mida de la font: Comprovar que l'arbre de directori \u00e9s correcte 1. Configuraci\u00f3 de la vista de l'arbre de directoris Naveguem per l'arbre per veure com estan organitzades les dades. La jerarquia de l'arbre hauria de tenir una estructura l\u00f2gica. Un cop configurat, podrem navegar f\u00e0cilment per l'arbre LDAP i veure els objectes i atributs. Fem clic sobre qualsevol entrada per veure les seves propietats, afegir o eliminar atributs, i m\u00e9s: 2. Validar els atributs de les entrades Fem clic a una entrada del directori i revisem els atributs associats. Per exemple, una entrada d'usuari com uid=abergin hauria de tenir atributs com cn , sn , uid , userPassword ... Si un atribut important falta o no es correspon amb la informaci\u00f3 esperada, aix\u00f2 podria indicar un error en l'estructura de l'arbre. 3. Utilitzar el filtre de cerca per a validaci\u00f3 r\u00e0pida Podem utilitzar la funcionalitat de Quick Search dins d'Apache Directory Studio per filtrar entrades i veure si l'estructura es comporta correctament. Tamb\u00e9 podem filtrar per ou=Dam per assegurar-nos que totes les entrades d'usuari estan a l'OU correcta. Resultat de la cerca: Crea una UO, un Grup i un Usuari 1. Crear una Unitat Organitzativa (OU) Les Unitats Organitzatives (OU) s'utilitzen per organitzar les dades en l'arbre LDAP. Passos per crear una Unitat Organitzativa: A la finestra de l'arbre de directori, naveguem fins al punt on volem crear la nova OU . Fem clic dret sobre el directori on volem afegir la nova OU i seleccionem New Entry : A la finestra que surt, seleccionem Organizational Unit i clicquem a Next : Omplim els camps: En Parent posem: dc=raul,dc=cat que os es creara. I en RDN fiquem ou=sistemes Fem clic a Finish per crear la nova OU : Ara hem creat una nova OU per a emmagatzemar usuaris dins del nostre servidor LDAP. 2. Crear un Grup Els grups s'utilitzen per organitzar els usuaris en el servidor LDAP. Els usuaris dins d'un grup poden tenir permisos comuns o ser tractats com una unitat. Passos per crear un grup: A la finestra de l'arbre de directori, seleccionem la OU on volem crear el grup (per exemple, ou=sistemes,dc=raul,dc=cat ). Fem clic dret sobre l'OU i seleccionem New , Other i Entry . A la finestra, seleccionem Group Of Names i cliquem Next . Omplem els camps necessaris: DN (Distinguished Name) : Per exemple, cn=grup_admin,ou=sistemes,dc=example,dc=com . CN (Common Name) : Per exemple, grup_admins . Description : (Es opcional) Una breu descripci\u00f3 del grup, com \"Grup amb permisos admin\". Afegir membres al grup: Si volem afegir membres seleccionem l'atribut member i afegim els DN dels usuaris que volem que formin part del grup (per exemple, uid=admin,ou=usuaris,dc=example,dc=com ). Fem clic a Finish per crear el grup. Ara ja tenim un grup creat al directori, amb els usuaris que seleccionem com a membres. 3. Crear un Usuari Un cop tinguem la nostra OU i grup creats, podem afegir-hi un usuari . Un usuari en LDAP es defineix amb un conjunt d'atributs com uid , cn , sn , userPassword ... Passos per crear un usuari: A la finestra de l'arbre de directori, seleccionem la OU que hem creat pr\u00e8viament per a usuaris (per exemple, ou=sistemes,dc=raul,dc=cat ). Fem clic dret sobre l'OU i seleccionem New , Other i Entry . A la finestra, seleccionem Person i cliquem Next . Omplim els camps necessaris: DN (Distinguished Name) : Per exemple, uid=maria,ou=sistemes,dc=raul,dc=cat . UID (User ID) : Per exemple, maria : CN (Common Name) : Per exemple, Maria M . SN (Surname) : Per exemple, Diaz . UserPassword : Assignem una contrasenya per a l'usuari. Si volem afegir l'usuari a un grup, afegim el DN del usuari (per exemple, uid=maria,ou=sistemes,dc=raul,dc=cat ) com a membre del grup. Fem clic a Finish per crear l'usuari amb tota l'informaci\u00f3: Accedir des del client amb aquest usuari Per accedir des del client a un servidor LDAP amb un usuari creat, cal que utilitzem Apache Directory Studio o un altre client LDAP i configurem la connexi\u00f3 amb la informaci\u00f3 adequada. 1. Configuraci\u00f3 de la connexi\u00f3 Necessitem configurar una connexi\u00f3 a un servidor LDAP per poder validar amb l'usuari: Crear una nova connexi\u00f3 LDAP : A la part esquerra a la finestra de LDAP Browser , fem clic a New Connection per crear una nova connexi\u00f3. Afegim els detalls de la connexi\u00f3 : Servidor : Introdu\u00efm la IP o nom del servidor LDAP (per exemple, localhost ). Port : Per defecte, els servidors LDAP utilitzen el port 389 . Autenticaci\u00f3 : En aquesta pantalla, podem especificar les nostres credencials d'autenticaci\u00f3. En el DN d'autenticaci\u00f3 hem d'introduir el DN complet de l'usuari amb el qual volem autenticar-nos. Per exemple: uid=maria,ou=sistemes,dc=raul,dc=cat A contrasenya introdu\u00efm la contrasenya que vam assignar a l'usuari quan el vam crear. En el nostre cas Contrasenya : maria Provem la connexi\u00f3 : Fem clic a Test Connection per comprovar si la connexi\u00f3 \u00e9s correcta. Si tot est\u00e0 configurat correctament, haur\u00edem de veure un missatge de \"Connexi\u00f3 exitosa\" . 2. Validar usuari Un cop configurada la connexi\u00f3, podem intentar validar l'usuari i comprovar si podem realitzar operacions en el servidor LDAP. Comprovar l'arbre de directori : Si la connexi\u00f3 \u00e9s correcta i la validaci\u00f3 de l'usuari ha estat exitosa, podrem veure l'arbre de directori de l'LDAP des de Apache Directory Studio . Amb l'usuari admin amb permisos, s\u00ed que ens deixa modificar les dades de l'usuari: Per\u00f2 amb els permisos de maria , no ens deixa modificar-les ja que no \u00e9s administradora: 5. Servidor NFS Un servidor NFS i un servidor Samba serveixen per compartir recursos, per\u00f2 tenen difer\u00e8ncies en l'autenticaci\u00f3. NFS autentica a nivell de m\u00e0quina (host), per\u00f2 pot fer-ho tamb\u00e9 a nivell d'usuari, tot i que \u00e9s m\u00e9s complex. Samba, en canvi, autentica a nivell d'usuari i \u00e9s m\u00e9s flexible, permetent integrar-se amb sistemes com Active Directory, fet que el fa millor per a entorns amb usuaris diversos. Instal\u00b7laci\u00f3 i configuraci\u00f3 servidors LDAP Per comen\u00e7ar amb la instal\u00b7laci\u00f3, primer de tot hem de descarregar nfs-kernel-server , que \u00e9s el paquet que permet configurar i gestionar un servidor NFS a Linux per compartir directoris a trav\u00e9s de la xarxa. Descarrega de nfs-kernel-server: Una vegada instal\u00b7lat el paquet, hem de crear una carpeta anomenada compartida , que \u00e9s la que utilitzarem per veure el seu contingut en diferents m\u00e0quines. Tamb\u00e9 hem de donar permisos de chmod -R 777 , que s\u00f3n permisos de lectura, escriptura i execuci\u00f3 a tots els usuaris per a tots els fitxers. Creaci\u00f3 de \"compartida\" i permisos: Seguidament, hem de configurar la carpeta compartida . Per fer-ho, hem d'accedir al fitxer /etc/exports i afegir una \u00faltima l\u00ednia amb el seg\u00fcent contingut: /compartida *(rw,sync,no_subtree_check) , es divideix en el seg\u00fcent: /compartida : Directori a compartir. * : Tots els clients poden accedir; si no, haur\u00edem de posar la IP . rw : Permet lectura i escriptura. sync : Les operacions s\u00f3n sincronitzades. no_subtree_check : No comprova la consist\u00e8ncia dels subdirectoris. Despr\u00e9s d'haver guardat els canvis de l'anterior fitxer, hem de fer un Restart dels serveis NFS , sempre amb systemctl restart nfs-kernel-server : Instal\u00b7laci\u00f3 i configuraci\u00f3 del client Windows 11 Primer de tot, hem de configurar el NFS de Windows 11 . Per fer-ho, s'ha d'anar a Panell de Control -> Programes i caracter\u00edstiques . Una vegada en aquesta finestra, hem d'anar a la part esquerra i entrar on indica Activar o Desactivar les caracter\u00edstiques de Windows . Una vegada tenim la nova finestra oberta, hem de buscar i habilitar l'opci\u00f3 de Serveis per a NFS : Habilitar l'opci\u00f3: Opci\u00f3 habilitada: Compartir carpeta a Windows 11 Ara \u00e9s el moment de fer la compartici\u00f3 des de Ubuntu cap al client de Windows 11 . En primer lloc, comprovem la IP de la nostra m\u00e0quina Ubuntu : IP: 10.0.2.15 Seguidament, anem a l' Explorador d'arxius de Windows i hem de copiar la nostra direcci\u00f3 de la m\u00e0quina Ubuntu , on \u00e9s la carpeta compartida, seguit del nom de la carpeta ( compartida ). S'ha de fer de la seg\u00fcent manera: \\\\10.0.2.15\\compartida I ja tindr\u00edem la carpeta compartida visible en el nostre client de Windows 11 . (Provar de crear un nou fitxer a Ubuntu i visualitzar-lo a Windows). Instal\u00b7laci\u00f3 i configuraci\u00f3 del client a Ubuntu Per comen\u00e7ar, el primer que hem de fer \u00e9s instal\u00b7lar el paquet nfs-common rpcbind , que proporciona les eines necess\u00e0ries per muntar i utilitzar sistemes de fitxers NFS , i rpcbind gestiona les connexions RPC (Remote Procedure Calls) requerides per NFS . Seguidament, creem una carpeta anomenada nfs al directori /home/raul . Un cop creada, li donem permisos de lectura, escriptura i execuci\u00f3 per a tots els usuaris (propietari, grup i altres) de manera recursiva. Un cop fets els passos anteriors, muntem el directori /compartida del servidor 10.0.2.15 a la carpeta /home/raul/nfs , permetent accedir als seus fitxers com si fossin locals. Despr\u00e9s, entrem a la carpeta creada i creem un fitxer per despr\u00e9s poder veure'l a /compartida i tamb\u00e9 ho fem a la inversa per veure que la compartici\u00f3 s'ha fet correctament: Perfils mobils a Ubuntu SAMBA A difer\u00e8ncia de NFS, el servidor Samba permet l\u2019autenticaci\u00f3 a nivell d\u2019usuari. Tamb\u00e9 permet compartir m\u00e9s recursos que no nom\u00e9s carpetes, com ara impressores, i pot treballar conjuntament amb LDAP per utilitzar els usuaris per a la validaci\u00f3. Admet clients tant de Linux com de Windows, i al servidor no s'hi pot connectar directament un equip o una xarxa, per\u00f2 es poden permetre convidats. Servidor: Primer de tot, ens connectarem a una m\u00e0quina virtual que far\u00e0 de Servidor . Seguidament, el que farem ser\u00e0 instal\u00b7lar Samba , com es mostra a continuaci\u00f3: Un cop instal\u00b7lat, hem de tenir una carpeta creada a l'arrel que es digui perfils , amb permisos complets per a tots els usuaris i grups: En aquest punt, li hem de donar tots els permisos que necessitem per a la carpeta perfils dins la configuraci\u00f3 de Samba . Per fer-ho, hem d'anar al fitxer /etc/samba/smb.conf i, un cop dins, hem d'incloure les seg\u00fcents l\u00ednies al final: [perfils] : Nom del recurs compartit. path = /perfils : Indica la ruta de la carpeta compartida. guest ok = yes : Permet l\u2019acc\u00e9s sense autenticaci\u00f3. directory mask = 0755 : Estableix permisos de lectura i execuci\u00f3 per a tothom, per\u00f2 nom\u00e9s escriptura pel propietari. create mask = 0644 : Els fitxers nous tindran permisos de lectura per a tothom, per\u00f2 nom\u00e9s escriptura pel propietari. browseable = yes : La carpeta compartida ser\u00e0 visible als clients. read list = @dam : Els usuaris del grup \"dam\" nom\u00e9s poden llegir. write list = raulM : L'usuari \"raulM\" t\u00e9 perm\u00eds d\u2019escriptura. invalid users = enric : L'usuari \"enric\" no t\u00e9 acc\u00e9s a aquesta compartici\u00f3. A continuaci\u00f3, reiniciem els serveis de Samba : Ara hem d\u2019afegir els usuaris raulM , enric i walid . Els crearem, per\u00f2 no tindran cap home assignada. Comprovaci\u00f3 que tenim els usuaris agregats al sistema: Seguidament, afegim aquests usuaris al grup dam i comprovem que s'hagin afegit correctament al grup de la seg\u00fcent manera: Amb la comanda smbpasswd -a , afegim un nou usuari al sistema de Samba , aix\u00ed que ho farem amb cadascun dels que hem creat pr\u00e8viament: Client: En aquest punt, ja tenim configurat el servidor, aix\u00ed que ens anem a una altra m\u00e0quina virtual que actuar\u00e0 com a Client . En aquesta m\u00e0quina, instal\u00b7larem el paquet smbclient de la seg\u00fcent manera: I, un cop estigui instal\u00b7lat, anirem als fitxers del nostre sistema, anirem a Otras ubicaciones , i en la barra de baix ens connectarem al Servidor posant la IP del Server amb el nom de la carpeta, ho farem de la seg\u00fcent manera: Quan entrem, ens sortir\u00e0 l'opci\u00f3 per connectar-nos. Si ens connectem amb l'usuari raulM , veurem que ens deixa accedir perfectament: I, un cop dins, podem crear una carpeta, ja que tenim tots els permisos per fer-ho sense problema: Ara, si ens connectem amb l'usuari walid , ens hi deixar\u00e0 entrar, per\u00f2 en el moment que vulguem crear una carpeta ens donar\u00e0 un error, ja que aquest usuari no t\u00e9 permisos per crear res, nom\u00e9s t\u00e9 perm\u00eds per veure qu\u00e8 hi ha: I finalment, si ens connectem amb un usuari que no t\u00e9 permisos per accedir, el que passar\u00e0 \u00e9s que no podr\u00e0 accedir de cap manera, tal com hauria de ser: NFS NFS ( Network File System ) permet als usuaris accedir als seus fitxers des de qualsevol ordinador de la xarxa, ja que aquests s'emmagatzemen en un servidor central. Aix\u00f2 \u00e9s \u00fatil perqu\u00e8 el directori /home de cada usuari no estigui en un sol equip, sin\u00f3 disponible a qualsevol dispositiu de la xarxa. D\u2019aquesta manera, les dades es mantenen accessibles i segures sense dependre d\u2019una sola m\u00e0quina. Comen\u00e7arem per connectar-nos a la m\u00e0quina virtual que far\u00e0 de servidor i despr\u00e9s a la que far\u00e0 de client. Server Una vegada estem al servidor, hem d'instal\u00b7lar un paquet amb la comanda apt install nfs-kernel-server : Seguidament, hem d'anar a l'arrel i all\u00ed hem de crear la carpeta anomenada perfils i l'hi hem de donar permisos perqu\u00e8 tothom pugui accedir-hi. Despr\u00e9s mirem que tingui tots els permisos correctament: Una vegada tenim la carpeta configurada, hem d'anar al fitxer /etc/exports i hem d'afegir la seg\u00fcent l\u00ednia perqu\u00e8 totes les direccions puguin accedir al directori /perfils : Restaurem els serveis de nfs-kernel-server : Ara \u00e9s moment de crear el grup anomenat Dam , per fer-ho tenim el seg\u00fcent fitxer anomenat grup.ldif . Dins del fitxer hem d'afegir la informaci\u00f3 del grup i de l'usuari alu54 , que pertanyer\u00e0 al grup. Informaci\u00f3 del grup: Seguidament, amb el fitxer usu.ldif , afegim l'usuari alu54 amb la seva contrasenya alu54 i amb tota la seva informaci\u00f3, canviant el uidNumber a 1101 , ja que el 1100 \u00e9s el del grup dam : Una vegada editada la informaci\u00f3 dels fitxers, hem de carregar-la a l' ldap com es mostra a continuaci\u00f3: Client Una vegada configurat el servidor, anem a configurar la m\u00e0quina virtual del client. En aquest, hem d'instal\u00b7lar el paquet nfs-common rpcbind , que, com es pot veure, en aquest cas ja est\u00e0 instal\u00b7lat a la seva versi\u00f3 m\u00e9s recent. Ara creem una carpeta a l'arrel anomenada perfils , com es va fer en el servidor, per\u00f2 poden tenir noms diferents. Donem permisos a la carpeta i mirem que s'hagin afegit: Finalment, al fitxer /etc/fstab hem d'afegir l'\u00faltima l\u00ednia, que ser\u00e0 la IP del servidor seguida del nom de la carpeta del servidor /perfils , i despr\u00e9s la del client, que s'anomena igual ( /perfils ): Una vegada tenim tots els canvis guardats, reiniciem la m\u00e0quina del client i accedim amb l'usuari alu54 i la seva contrasenya alu54 . Haur\u00edem de poder accedir correctament i, si afegim un fitxer a la carpeta compartida, s'ha de veure actualitzat al Server .","title":"Sprint 3"},{"location":"sprint3/#gestio-de-dominis-i-accessos","text":"La Gesti\u00f3 de Dominis i Accessos \u00e9s el proc\u00e9s d\u2019administrar els permisos i els drets d'acc\u00e9s dels usuaris a recursos i sistemes dins d\u2019un domini, assegurant la seguretat i el control de la informaci\u00f3. Inclou la creaci\u00f3, modificaci\u00f3 i eliminaci\u00f3 d\u2019usuaris, aix\u00ed com la definici\u00f3 de pol\u00edtiques d'autoritzaci\u00f3. Tamb\u00e9 hem de saber que una Unitat Organitzativa (UO) \u00e9s una estructura l\u00f2gica per organitzar i gestionar usuaris, grups, recursos i permisos, sovint vinculada a dominis o serveis com LDAP. Aquesta agrupaci\u00f3 facilita l'administraci\u00f3 centralitzada i el control d'acc\u00e9s en entorns corporatius.","title":"Gesti\u00f3 de Dominis i Accessos"},{"location":"sprint3/#1-installacio-del-domini-ldap","text":"Primer de tot, el que caldran seran dues m\u00e0quines virtuals amb Ubuntu Desktop . Una s'encarregar\u00e0 de ser el servidor i l'altra actuar\u00e0 com a client . Una vegada tenim les dues m\u00e0quines, configurem la xarxa de cada una en Xarxa NAT . Per comen\u00e7ar, anirem a la m\u00e0quina virtual que far\u00e0 com a Servidor , i mirarem la seva IP amb ip a : La nostra IP en aquest cas ser\u00e0 10.0.2.15 en el Servidor . A continuaci\u00f3, configurem la xarxa del nostre sistema de la seg\u00fcent manera: Per comprovar la connexi\u00f3, utilitzem la comanda ping amb el DNS que \u00e9s 8.8.8.8 : Despr\u00e9s de tot, anem al fitxer /etc/hosts on introduirem la nostra IP d'abans seguida del nostre host name i domini de la seg\u00fcent manera:","title":"1. Instal\u00b7laci\u00f3 del domini LDAP"},{"location":"sprint3/#installacio-de-slapd","text":"Fem \u00fas de apt install slapd ldap-utils per instal\u00b7lar el paquet i primerament ens portar\u00e0 a la seg\u00fcent finestra: En aquesta finestra hem d'introduir la contrasenya que ens permet entrar a slapd com a administrador. Li donem a Acceptar i en la seg\u00fcent finestra que ens surt confirmem la contrasenya introdu\u00efda: Un altre cop donem a Acceptar i finalment, si tot va b\u00e9, tindrem la instal\u00b7laci\u00f3 finalitzada amb \u00e8xit. Un cop fet el pas anterior, executem la comanda slapcat i ens mostrar\u00e0 una s\u00e8rie d'informaci\u00f3 que \u00e9s tota aquella referent a LDAP , que s'utilitza per accedir i gestionar informaci\u00f3 en serveis de directoris, com usuaris i recursos dins d'una xarxa. Seguidament, hem de tenir una s\u00e8rie d'arxius que hem descarregat amb antelaci\u00f3. En aquest cas els tenim ja en un comprimit ZIP a la carpeta Desc\u00e0rregues , aix\u00ed que anem i el descomprimim al directori de la seg\u00fcent manera: Obtenim cinc fitxers dels quals un \u00e9s el fitxer base , que en LDAP cont\u00e9 la configuraci\u00f3 inicial d\u2019un domini o directori. Es fa servir per inicialitzar la base de dades LDAP abans d'afegir-hi m\u00e9s dades. Es pot fer pel fitxer base o, com veurem a continuaci\u00f3, per comandes.","title":"Instal\u00b7laci\u00f3 de Slapd"},{"location":"sprint3/#configuracio-de-slapd","text":"Ara configurem el servei LDAP amb la comanda dpkg-reconfigure slapd : Primer de tot s'obrir\u00e0 una finestra on hem de seleccionar l'opci\u00f3 de NO per continuar amb la configuraci\u00f3. Seguidament hem d'introduir el nom que hav\u00edem posat del nostre host amb el domini del DNS , en aquest cas ser\u00e0 raul.cat , i donem a Acceptar . En una altra finestra ens demanen el Nom de l'organitzaci\u00f3 que estem creant, i en aquest cas ser\u00e0 igual que abans: raul.cat : En la seg\u00fcent finestra que ens sortir\u00e0 ens demanaran la contrasenya de l'administrador per accedir al directori LDAP : Confirmaci\u00f3 de la contrasenya: En la nova finestra que sortir\u00e0 a continuaci\u00f3 hem de donar a l'opci\u00f3 de SI : I finalment, en l'\u00faltima finestra hem de seleccionar l'opci\u00f3 de SI : I ja tindr\u00edem creat el directori de LDAP amb totes les configuracions. Ara tornem a utilitzar la comanda slapcat i veiem que respecte al d'abans ara s'han actualitzat els noms de l'organitzaci\u00f3 i el domini. Breument, la informaci\u00f3 vol dir el seg\u00fcent: dn: dc=hostname,dc=domini : Identificador \u00fanic de l'entrada LDAP. objectClass: top : Classe d'objecte b\u00e0sica per a totes les entrades. objectClass: domain : Indica que l'entrada \u00e9s un domini LDAP. dc: exemple : Component del domini ( exemple ) dins de l'arbre LDAP.","title":"Configuraci\u00f3 de Slapd"},{"location":"sprint3/#configuracio-dels-fitxers-ldif","text":"En aquest moment anirem configurant els fitxers que hav\u00edem descarregat abans. Aquests fitxers es troben al directori Desc\u00e0rregues i contenen la configuraci\u00f3 inicial d\u2019un domini o directori del LDAP .","title":"Configuraci\u00f3 dels fitxers .ldif"},{"location":"sprint3/#fitxer-uoldif","text":"Aquest fitxer inclou una entrada per definir la UO (ou=Users) i una altra per cada usuari amb atributs. Aix\u00f2 s'utilitza per gestionar estructures i comptes del servidor LDAP. En el apartat de dc posem el nom del host , i en dc posem el domini. ou seria la Unitat Organitzativa","title":"Fitxer uo.ldif"},{"location":"sprint3/#fitxer-grupldif","text":"El fitxer grup.ldif \u00e9s un fitxer en format LDIF utilitzat per definir i gestionar grups dins d'un directori LDAP. Aquest fitxer pot contenir les definicions de grups, incloent-hi els seus noms, membres i altres atributs relacionats. PosixAccount representa comptes d'usuari i es fa servir per a la informaci\u00f3 d'usuaris individuals. PosixGroup representa grups d'usuaris, amb atributs com cn , gidNumber i memberUid per definir els membres del grup. S'utilitza per agrupar usuaris en un mateix grup. Els usuaris poden estar associats a un grup a trav\u00e9s del gidNumber i els membres de cada grup es llisten amb memberUid . Igual que en el fitxer anterior, posarem el nostre host corresponent i el domini. Tamb\u00e9 posarem el nom del memberUid que ser\u00e0 alu1 :","title":"Fitxer grup.ldif"},{"location":"sprint3/#fitxer-usuldif","text":"Finalment, editarem el fitxer usu.ldif que s'utilitza per definir un compte d'usuari en un directori LDAP, incloent-hi atributs com uid , homeDirectory , userPassword i altres informaci\u00f3 relacionada amb el compte. El que s'ha de canviar \u00e9s el host i el domini pel nostre. I si es vol, es pot canviar la contrasenya en userPassword : Una vegada hem editat tots els fitxers anteriors, hem d'executar la comanda ldapadd -c -x -D \"cn=admin,dc=raul,dc=cat\" -W -f uo.ldif S'utilitza per afegir entrades a un directori LDAP i es divideix en les seg\u00fcents parts: ldapadd : \u00c9s l'eina per afegir entrades al directori LDAP. -c : Mant\u00e9 les sortides d'errors en pantalla, mostrant m\u00e9s informaci\u00f3 de la comanda. -x : Utilitza un mode simplificat de connexi\u00f3 sense autenticaci\u00f3 de seguretat. -D \"cn=admin,dc=raul,dc=cat\" : Especifica el DN de l'usuari que s'autentica, en aquest cas, un usuari admin. -W : Demana la contrasenya per a l'usuari cn=admin . -f uo.ldif : Indica el fitxer que cont\u00e9 les dades a afegir al directori. I despr\u00e9s d'utilitzar la comanda anterior s'afegeix totes les dades al directori. Seguidament fem el mateix per als altres dos fitxers: Ara s\u00ed, ja tindr\u00edem tota la informaci\u00f3 agregada tant d'usuaris, grups com l'estructura. Finalment fem \u00fas de la comanda slapcat per veure que les entrades de la base de dades del directori han canviat, i s'ha afegit la informaci\u00f3 corresponent als fitxers anteriors.","title":"Fitxer usu.ldif"},{"location":"sprint3/#2-unir-equips-al-domini","text":"En aquest punt hem d'anar a una altra m\u00e0quina virtual sense tancar la que tenim que fa com a server . Obrim la m\u00e0quina virtual que actua com a client i mirem la seva IP amb ip a . Seguidament comprovem que tenim connexi\u00f3 amb el Server fent un ping 10.0.2.15 , que \u00e9s la IP del server. Podem veure que s\u00ed tenim connexi\u00f3.","title":"2. Unir equips al domini"},{"location":"sprint3/#installacio-de-nscd","text":"Fem la instal\u00b7laci\u00f3 del paquet nscd que emmagatzema en mem\u00f2ria les consultes a serveis de noms per millorar el rendiment i reduir la c\u00e0rrega del sistema.","title":"Instal\u00b7laci\u00f3 de nscd"},{"location":"sprint3/#installacio-de-libnss-ldap","text":"Tamb\u00e9 hem de fer la instal\u00b7laci\u00f3 de libnss-ldap que permet la integraci\u00f3 de serveis LDAP amb el sistema de noms de serveis, permetent que els usuaris i grups siguin gestionats a trav\u00e9s d'un servidor LDAP. Quan li donem a S per seguir amb la instal\u00b7laci\u00f3, ens sortir\u00e0 una s\u00e8rie de finestres per configurar. En la primera finestra ens trobem que hem d'introduir la IP del server de la seg\u00fcent manera: En la seg\u00fcent finestra hem de canviar la configuraci\u00f3 de l'autor i posar el nostre hostname seguit de nou del domini de la seg\u00fcent manera: En una nova finestra seleccionem la versi\u00f3 de LDAP m\u00e9s recent, en aquest cas la que ve seleccionada per defecte, que \u00e9s la 3 : I en la seg\u00fcent finestra seleccionem l'opci\u00f3 de SI : Seleccionem l'opci\u00f3 de NO per no requerir un inici de sessi\u00f3 per la base de dades de LDAP : En la seg\u00fcent finestra hem de posar les dades de host i domini per al Admin : Finalment hem d'introduir la contrasenya del LDAP : I despr\u00e9s de tots els passos ja tindr\u00edem feta tota la configuraci\u00f3 de libnss-ldap . En cas que en algun moment vulguem reconfigurar els passos anteriors, el que farem ser\u00e0 executar la comanda dpkg-reconfigure ldap-auth-config i tornarem a la primera finestra d'aquesta configuraci\u00f3:","title":"Instal\u00b7laci\u00f3 de libnss-ldap"},{"location":"sprint3/#installacio-de-libpam-ldap","text":"Fem la instal\u00b7laci\u00f3 de libpam-ldap , que \u00e9s una biblioteca que permet autenticar usuaris mitjan\u00e7ant un servidor LDAP, en lloc de fer-ho amb fitxers locals. S'integra amb el sistema PAM per gestionar l'acc\u00e9s als recursos del sistema de manera centralitzada. Aix\u00ed, els usuaris poden accedir a diversos sistemes amb una sola identitat gestionada a LDAP.","title":"Instal\u00b7laci\u00f3 de libpam-ldap"},{"location":"sprint3/#configuracio-etcnsswitchconf","text":"Anirem al fitxer de configuraci\u00f3 /etc/nsswitch.conf , que configura l'ordre en qu\u00e8 el sistema cerca fonts d'informaci\u00f3 per resoldre serveis com usuaris, grups, noms d'amfitri\u00f3, etc. En aquest cas, mirar primer els usuaris creats. En aquest fitxer hem d'agregar compat files en els atributs de passwd , group i gshadow :","title":"Configuraci\u00f3 /etc/nsswitch.conf"},{"location":"sprint3/#configuracio-etcpamdcommon-password","text":"Anem al fitxer /etc/pam.d/common-password , que \u00e9s un fitxer de configuraci\u00f3 que defineix les pol\u00edtiques i els m\u00f2duls relacionats amb la gesti\u00f3 de contrasenyes per als sistemes que utilitzen PAM. Mirem que tinguem posat l' use_authtok ; en versions anteriors no ve posat aix\u00ed que l'haur\u00edem d'agregar:","title":"Configuraci\u00f3 /etc/pam.d/common-password"},{"location":"sprint3/#configuracio-etcpamdcommon-session","text":"Ara haurem d'agregar una l\u00ednia al fitxer /etc/pam.d/common-session , que \u00e9s un fitxer que forma part de la configuraci\u00f3 de PAM. Serveix per definir regles comunes que gestionen l'inici i el tancament de les sessions d'usuari. Afegim la l\u00ednia session optional pam_mkhomedir.so skel=/etc/skel unmask=077 que crea autom\u00e0ticament el directori personal d'un usuari quan inicia sessi\u00f3 per primera vegada, si aquest no existeix, en el moment que aquest inicia sessi\u00f3. Aquesta opci\u00f3 \u00e9s opcional i nom\u00e9s s'executa si el servei ho permet. pam_mkhomedir.so : M\u00f2dul que crea directoris personals. skel=/etc/skel : Indica que els fitxers i directoris de /etc/skel s'utilitzen com a plantilla per inicialitzar el directori personal. umask=077 : Estableix permisos restrictius per defecte (nom\u00e9s l'usuari t\u00e9 acc\u00e9s complet al seu directori personal).","title":"Configuraci\u00f3 /etc/pam.d/common-session"},{"location":"sprint3/#configuracio-de-50-ubuntuconf","text":"Anem al fitxer /usr/share/lightdm/lightdm.conf.d/50-ubuntu.conf , que configura LightDM a Ubuntu, definint opcions predeterminades com el greeter i la sessi\u00f3 d'escriptori. Sent greeter la interf\u00edcie gr\u00e0fica que mostra el gestor d'inici de sessi\u00f3 per permetre als usuaris introduir les seves credencials i iniciar sessi\u00f3 al sistema. Dins del fitxer afegim la l\u00ednia greeter-show-manual-login=true , que habilita l'opci\u00f3 per introduir manualment el nom d'usuari i la contrasenya a la pantalla d'inici de sessi\u00f3.","title":"Configuraci\u00f3 de 50-ubuntu.conf"},{"location":"sprint3/#connexio-amb-un-usuari-de-lequip","text":"Finalment farem una cerca al fitxer passwd de l'usuari alu1 creat durant tot aquest proc\u00e9s. Si el veiem, \u00e9s que els passos anteriors han anat b\u00e9. I podem connectar-nos correctament amb l'usuari creat: Seguidament el que farem ser\u00e0 fer un reboot de la m\u00e0quina i introduirem el nom de l'usuari i la seva contrasenya. Usuari alu1 : Contrasenya alu1 : Home de l'usuari:","title":"Connexi\u00f3 amb un usuari de l'equip"},{"location":"sprint3/#3-gestio-domini-amb-comandes","text":"Primer de tot hem de fer \u00fas de la comanda dpkg-reconfigure slapd al servidor per tal de deixar la base de dades buida i nom\u00e9s amb el domini i l\u2019usuari admin creat. Quan h\u00e0gim executat deixem tot com estava predeterminat per\u00f2 en les seg\u00fcents finestres seleccionem l'opci\u00f3 de SI : Seguidament hem de descarregar un arxiu .ldif i amb la comanda ldapadd haurem de carregar els usuaris, grups i uos . Una vegada tenim l'arxiu descarregat hem d'accedir a ell per interf\u00edcie gr\u00e0fica, anem a l'esquina superior dreta i al men\u00fa desplegable anem a Buscar i Substituir . Dins reempla\u00e7arem dc=miquel,dc=com per dc=raul,dc=cat , quan li donem a aplicar es reempla\u00e7ar\u00e0 a tot el document:","title":"3. Gesti\u00f3 Domini amb comandes"},{"location":"sprint3/#comanda-per-agregar","text":"Despr\u00e9s de tot hem de carregar-los al LDAP , llavors hem de posar la comanda ldapadd -x -D \"cn=admin,dc=raul,dc=cat\" -W -f dades.ldif que afegeix entrades al directori LDAP . La comanda anterior es divideix en: ldapadd : Afegeix entrades al directori LDAP. -x : Utilitza autenticaci\u00f3 simple. -D \"cn=admin,dc=raul,dc=cat\" : Especifica l'usuari (DN) que s'autenticar\u00e0. -W : Demana la contrasenya de l'usuari de manera interactiva. -f dades.ldif : Indica l'arxiu LDIF amb les dades a afegir. Llistat d'entrades afegides:","title":"Comanda per Agregar"},{"location":"sprint3/#creacio-duna-nova-ou","text":"En aquest apartat farem la creaci\u00f3 d'una nova OU , en aquest cas, anomenada Dam . Per crear-la anirem al fitxer i agregarem una nova de la seg\u00fcent manera fent-la com a organizationalUnit : Guardem el fitxer i seguidament pugem els canvis al servidor LDAP amb ldapadd . I comprovem que estiguin els canvis:","title":"Creaci\u00f3 d'una nova OU"},{"location":"sprint3/#crear-un-nou-usuari-amb-dos-atributs-opcionals-per-a-la-classe-posixaccount","text":"Crearem un nou usuari amb la seg\u00fcent informaci\u00f3: Els atributs telephoneNumber, mail s\u00f3n opcionals per a la classe posixAccount , els altres s\u00f3n obligatoris. El tornem a agregar a LDAP :","title":"Crear un nou usuari amb dos atributs opcionals per a la classe posixAccount"},{"location":"sprint3/#crear-un-nou-grup-dintre-de-la-ou-groups-i-afegir-3-usuaris","text":"Per crear un nou grup anomenat nouGrup a la ou=Groups i afegir 3 usuaris a la vegada el que farem ser\u00e0 introduir la seg\u00fcent informaci\u00f3 al nostre fitxer que es divideix en els seg\u00fcents components: dn : Defineix el distingit nom del nou grup (cn=nouGrup dins de la OU Groups). objectClass : Defineix els tipus d'objecte: top : Classe b\u00e0sica. groupOfNames : Classe per grups que contenen membres identificats per DN. cn : Nom del grup, en aquest cas, nouGrup. description : Descripci\u00f3 opcional del grup. member : Llista d'usuaris (DN complet de cada usuari). A continuaci\u00f3 l'afeixim al LDAP amb ldapadd : I comprovem que s'hagi afegit correctament de la seg\u00fcent manera:","title":"Crear un nou grup dintre de la OU Groups i afegir 3 usuaris"},{"location":"sprint3/#comanda-per-buscar","text":"La comanda ldapsearch -xLLL -b \"dc=raul,dc=cat\" dn fa una consulta al directori LDAP per obtenir els DN de les entrades sota el domini especificat. Parts de la comanda: ldapsearch : Cerca informaci\u00f3 al directori LDAP . -x : Usa autenticaci\u00f3 simple. -LLL : Mostra la sortida sense informaci\u00f3 extra (format net). -b \"dc=raul,dc=cat\" : Defineix la base de cerca dins del domini raul.cat . dn : Sol\u00b7licita nom\u00e9s els DN de les entrades. Llistat de DN de cada entrada:","title":"Comanda per Buscar"},{"location":"sprint3/#quantes-ou-hi-ha-quants-usuaris-hi-ha-al-domini","text":"Per buscar la quantitat de OU que hi ha farem \u00fas de la seg\u00fcent comanda que filtrar\u00e0 per Unitat Organitzativa : ldapsearch -x -D \"cn=admin,dc=raul,dc=cat\" -W -b \"dc=raul,dc=cat\" \"(objectClass=organizationalUnit)\" . El resultat \u00e9s de 5 OU : Per buscar la quantitat d' Usuaris que hi ha farem \u00fas de la seg\u00fcent comanda que filtrar\u00e0 per Persones : ldapsearch -x -D \"cn=admin,dc=raul,dc=cat\" -W -b \"dc=raul,dc=cat\" \"(objectClass=person)\" Resultat de 151 Usuaris:","title":"Quantes OU hi ha? Quants usuaris hi ha al domini?"},{"location":"sprint3/#lusuari-kvaughan-en-quants-grups-el-trobem-com-a-uniquemember-i-quins-son","text":"Per trobar-ho, podem fer una cerca dels grups on kvaughan aparegui com a membre \u00fanic uniqueMember . Amb la seg\u00fcent comanda treballarem a quants grups pertany, en aquest cas 1 ( numResponses: 1 ): ldapsearch -x -D \"cn=admin,dc=raul,dc=cat\" -W -b \"dc=raul,dc=cat\" \"(uniqueMember=cn=kvaughan,ou=People,dc=raul,dc=cat)\" cn","title":"L\u2019usuari kvaughan en quants grups el trobem com a uniqueMember i quins s\u00f3n?"},{"location":"sprint3/#quants-grups-hi-ha-dintre-de-la-uo-groups","text":"Per comptar el nombre de grups dins de la unitat organitzativa Groups vem usar la seg\u00fcent comanda. En aquest cas, tenim 6 grups: ldapsearch -xLLL -b \"ou=Groups,dc=raul,dc=cat\" cn I per comptar-los afegim ...| grep -c \"^cn\" per filtrar pel nom:","title":"Quants grups hi ha dintre de la uo Groups?"},{"location":"sprint3/#mostra-tots-els-usuaris-del-domini-on-el-seu-uidnumber-estigui-entre-1010-i-1030-inclosos","text":"Per cercar usuaris amb un uidNumber dins del rang entre 1010 i 1030 hem de fer servir la seg\u00fcent comanda que filtra pel rang i mostra els dn de cada usuari incl\u00f2s: ldapsearch -xLLL -D \"cn=admin,dc=raul,dc=cat\" -W -b \"dc=raul,dc=cat\" \"(&(uidNumber>=1010)(uidNumber<=1030))\" dn (&(uidNumber>=1010)(uidNumber<=1030)) : Filtra els usuaris amb un uidNumber dins del rang especificat.","title":"Mostra tots els usuaris del domini on el seu uidNumber estigui entre 1010 i 1030 (inclosos)."},{"location":"sprint3/#usuaris-on-el-seu-telefon-acabi-en-un-2-o-el-seu-cognom-en-una-n-quants","text":"Per buscar usuaris on el seu tel\u00e8fon acabi en un 2 o el seu cognom en una n hem de fer servir la seg\u00fcent comanda: ldapsearch -xLLL -D \"cn=admin,dc=raul,dc=cat\" -W -b \"dc=raul,dc=cat\" \"(|(telephoneNumber=*2)(sn=*n))\" telephoneNumber sn (|(telephoneNumber=*2)(sn=*n)) : Cerca usuaris on el telephoneNumber=*2 (el n\u00famero de tel\u00e8fon acaba en 2). sn=*n : El cognom acaba en una n. Filtra per telephoneNumber i sn . Per comptar el n\u00famero de resultats afegim el filtre: | grep \"^dn:\" | wc -l que filtra per les l\u00ednies amb dn i les compta: El resultat \u00e9s de 48 usuaris que coincideixen amb el filtre.","title":"Usuaris on el seu tel\u00e8fon acabi en un 2 o el seu cognom en una n. Quants?"},{"location":"sprint3/#comanda-per-modificar","text":"La comanda amb l'estructura seg\u00fcent: ldapmodify [opcions] -D \"Distinguished Name\" -W -f fitxer.ldif serveix per modificar entrades en un directori LDAP , permetent afegir, canviar o eliminar atributs d'una entrada existent. La comanda es divideix en: ldapmodify : Comanda per modificar entrades al directori LDAP. -D \"dn\" : Especifica l'usuari (DN) que s'autenticar\u00e0 per realitzar les modificacions. -W : Demana la contrasenya per a l'usuari especificat. -f fitxer.ldif : Indica l'arxiu LDIF que cont\u00e9 les modificacions a aplicar. -x : Usa autenticaci\u00f3 simple (sense SASL).","title":"Comanda per modificar"},{"location":"sprint3/#afegir-atribut-opcional-a-lusuari-pedro","text":"Per afegir un nou atribut a l'usuari Pedro , el que hem de fer primer \u00e9s afegir les seg\u00fcents l\u00ednies al fitxer mk.ldif que seran les que modificaran l'usuari per afegir-los. L'agreguem al LDAP amb la comanda ldapmodify -x -D \"cn=admin,dc=raul,dc=cat\" -W -f mk.ldif Comprovem que s'ha afegit:","title":"Afegir atribut opcional a l\u2019usuari Pedro"},{"location":"sprint3/#esborrar-latribut-roomnumber-i-homedirectory-de-lusuari-ejohnson","text":"Primer de tot hem de comprovar l'estat inicial de l'usuari ejohnson . Per aix\u00f2 ho mirarem amb la comanda: ldapsearch -x -b \"dc=raul,dc=cat\" \"(uid=ejohnson)\" Anteriorment podem veure que els atributs existeixen, aix\u00ed que si volem eliminar roomNumber i homeDirectory de l'usuari ejohnson , em d'introduir la seg\u00fcent entrada: dn: uid=ejohnson,ou=People,dc=raul,dc=cat changetype: modify delete: roomNumber Explicaci\u00f3 de l'entrada anterior: dn : Identifica l'usuari ( cn=ejohnson ). changetype: modify : Especifica que es tracta d'una modificaci\u00f3. delete : Indica que volem esborrar l'atribut roomNumber . Per altra banda, tenim que no ens deixa eliminar directament l'atribut homeDirectory perqu\u00e8 posixAccount dep\u00e8n d'ell. Llavors, passarem l'atribut a valor NULL , i aix\u00f2 eliminar\u00e0 l'atribut indirectament, amb la seg\u00fcent entrada: dn: uid=ejohnson,ou=People,dc=raul,dc=cat changetype: modify replace: homeDirectory homeDirectory: /dev/null replace: homeDirectory : Indica que volem reempla\u00e7ar el contingut de l'atribut homeDirectory . homeDirectory: /dev/null : Indica que volem canviar a NULL el seu valor. Per introduir totes les entrades al LDIF hem d'executar la comanda ldapmodify -x -D \"cn=admin,dc=raul,dc=cat\" -W -f mk.ldif i far\u00e0 totes les modificacions pertinents. Finalment, al executar tot l'anterior, farem una cerca a l'usuari ejohnson per tornar a veure tota la seva informaci\u00f3 i saber si s'ha actualitzat correctament. Llavors, amb la comanda: ldapsearch -x -b \"dc=raul,dc=cat\" \"(uid=ejohnson)\" , podem veure el seg\u00fcent: Estat final correctament:","title":"Esborrar l\u2019atribut roomNumber i homeDirectory de l\u2019usuari ejohnson"},{"location":"sprint3/#trau-de-la-uo-people-a-3-usuaris-i-afegeix-los-a-la-uo-dam","text":"Primer de tot, comprovem que no hi ha cap usuari a la UO de DAM fent una cerca. La comanda cerca tots els usuaris amb objectClass=posixAccount dins de la UO : ldapsearch -xLLL -D \"cn=admin,dc=raul,dc=cat\" -W -b \"ou=dam,dc=raul,dc=cat\" \"(objectClass=posixAccount)\" Tamb\u00e9 hem de mirar que existeix la Unitat Organitzativa de DAM , fent una simple cerca trobem que existeix: ldapsearch -xLLL -D \"ou=dam,dc=raul,dc=cat\" Seguidament, hem de mirar els usuaris que tenim a People amb la seg\u00fcent comanda que ens retorna el dn de cada usuari: ldapsearch -xLLL -D \"cn=admin,dc=raul,dc=cat\" -W -b \"ou=People,dc=raul,dc=cat\" \"(objectClass=posixAccount)\" dn El que farem ser\u00e0 passar els tres primers usuaris de People a la UO de DAM . Llavors, hem d'introduir la seg\u00fcent entrada al fitxer ldif : On cada l\u00ednia es divideix en els seg\u00fcents arguments: dn: Especifica el DN actual de l'usuari a la unitat ou=People . changetype: Indica que es vol modificar el DN (amb el tipus de canvi: moddn ). newrdn: Defineix el nou RDN, que en aquest cas no canvia. deleteoldrdn: Esborra el RDN antic; valor 1 indica que s\u00ed. newSuperior: Mou l'entrada a una nova ubicaci\u00f3: ou=dam,dc=raul,dc=cat . Entrada al ldif : dn: uid=abergin,ou=People,dc=raul,dc=cat changetype: moddn newrdn: uid=abergin deleteoldrdn: 1 newSuperior: ou=dam,dc=raul,dc=cat dn: uid=achassin,ou=People,dc=raul,dc=cat changetype: moddn newrdn: uid=achassin deleteoldrdn: 1 newSuperior: ou=dam,dc=raul,dc=cat dn: uid=ahall,ou=People,dc=raul,dc=cat changetype: moddn newrdn: uid=ahall deleteoldrdn: 1 newSuperior: ou=dam,dc=raul,dc=cat Ara modificarem el LDAP amb la informaci\u00f3 introdu\u00efda anteriorment amb la comanda ldapmodify -x -D \"cn=admin,dc=raul,dc=cat\" -W -f mk.ldif : Finalment, anem a veure la UO de People i podem comprovar que ja no estan els primers tres usuaris que hi havia abans: I per \u00faltim, veiem que en la UO de DAM ja estan afegits els usuaris corresponents:","title":"Trau de la UO People a 3 usuaris i afegeix-los a la UO DAM"},{"location":"sprint3/#esborra-la-uo-people","text":"En aquest cas no borrar\u00e9 la meva UO People personalment, per\u00f2 seguidament hi haur\u00e0 uns passos per explicar l'eliminaci\u00f3: Primer de tot, comprovem que la UO est\u00e0 completament buida fent una cerca amb la comanda ldapsearch -xLLL -D \"ou=People,dc=raul,dc=cat\" dn . Si no surt res, \u00e9s que est\u00e0 buida. Si no est\u00e0 buida, hem d'introduir la seg\u00fcent entrada al fitxer ldif per eliminar un usuari i aix\u00ed fer-ho per cada usuari. Finalment, hem de fer ldapmodify -x -D \"cn=admin,dc=raul,dc=cat\" -W -f mk.ldif : dn: uid=usuari,ou=People,dc=raul,dc=cat changetype: delete El segon pas sera elimar directament la UO amb la seguent entrada: dn: ou=People,dc=raul,dc=cat changetype: delete Finalment, comprovem que ja no estigui buscant-la amb ldapsearch -xLLL -D \"ou=People,dc=raul,dc=cat\" dn , i ja estaria eliminada.","title":"Esborra la UO People"},{"location":"sprint3/#modifica-el-uid-de-lusuari-hmiller-a-hamiller","text":"Abans de modificar res, primer de tot anem a comprovar el uid de l'usuari que se'ns demana amb la comanda ldapsearch -xLLL -D \"ou=People,dc=raul,dc=cat\" \"(uid=hmiller)\" , i trobem que s\u00ed existeix: Seguidament, farem la modificaci\u00f3 del uid amb la seg\u00fcent entrada al ldif : dn: uid=hmiller,ou=People,dc=raul,dc=cat changetype: moddn newrdn: uid=hamiller deleteoldrdn: 1 L'entrada es divideix en: dn: Indica el DN de l'entrada a modificar ( uid=hmiller,ou=People,dc=raul,dc=cat ). changetype: moddn Especifica que es vol canviar el DN . newrdn: Defineix el nou RDN ( uid=hamiller ). deleteoldrdn: Elimina l'antic RDN despr\u00e9s de la modificaci\u00f3. Entrada: Fem la modificaci\u00f3 al LDAP amb ldapmodify -x -D \"cn=admin,dc=raul,dc=cat\" -W -f mk.ldif : I finalment, tornem a comprovar que el uid hagi estat canviat a hamiller , igual que abans, amb la comanda ldapsearch -xLLL -D \"ou=People,dc=raul,dc=cat\" \"(uid=hamiller)\" :","title":"Modifica el uid de l'usuari hmiller a hamiller"},{"location":"sprint3/#dun-sol-cop-a-lusuari-que-tu-vulguis-esborra-un-atribut-afegeix-ne-un-altre-i-modifica-un-tercer","text":"Si mirem a la UO de DAM , trobarem tres usuaris. En aquest cas, utilitzarem l'usuari ahall : Informaci\u00f3 de l'usuari ahall : Amb aquest usuari, el que farem ser\u00e0 eliminar-li l'atribut roomNumber , afegir-ne un altre que ser\u00e0 description , i finalment substituir el telephoneNumber . Ho farem introduint la seg\u00fcent entrada de nou al LDIF : dn: uid=ahall,ou=Dam,dc=raul,dc=cat changetype: modify delete: roomNumber dn: uid=ahall,ou=Dam,dc=raul,dc=cat add: description description: Usuari ahall dn: uid=ahall,ou=Dam,dc=raul,dc=cat replace: telephoneNumber telephoneNumber: +2 234 234 234 Executem la comanda ldapmodify -x -D \"cn=admin,dc=raul,dc=cat\" -W -f mk.ldif : Finalment, podem veure com el roomNumber s'ha eliminat, hem afegit la description , i finalment vol\u00edem reempla\u00e7ar el telephoneNumber , per\u00f2 s'ha afegit perqu\u00e8 no existia. Si hagu\u00e9s existit, s'hauria actualitzat correctament.","title":"D\u2019un sol cop, a l\u2019usuari que tu vulguis, esborra un atribut, afegeix-ne un altre i modifica un tercer."},{"location":"sprint3/#4-entorns-grafics-apache-directory-studio","text":"","title":"4. Entorns Gr\u00e0fics (Apache Directory Studio)"},{"location":"sprint3/#installacio","text":"Primer de tot, per fer la instal\u00b7laci\u00f3 hem d'anar a https://directory.apache.org/studio/download/download.html i descarregar el paquet de Apache Directory Studio . P\u00e0gina de desc\u00e0rrega: Seguidament, podem comprovar que tenim el paquet descarregat a les nostres desc\u00e0rregues: Fem l'extracci\u00f3 de la carpeta i accedim on ja podrem veure l'executable de l'aplicaci\u00f3 gr\u00e0fica: Hem d'instal\u00b7lar Java (JDK) perqu\u00e8 funcioni Apache . Per a una versi\u00f3 11, l'instal\u00b7larem amb la seg\u00fcent comanda: sudo apt install openjdk-11-jdk Finalment, executem l'aplicaci\u00f3:","title":"Instal\u00b7laci\u00f3"},{"location":"sprint3/#configuracio","text":"","title":"Configuraci\u00f3"},{"location":"sprint3/#1-connexio-a-un-servidor-ldap","text":"Afegir una connexi\u00f3 a un servidor LDAP A la barra de men\u00fa, fem clic a Window , despr\u00e9s a Open Perspective i Other... Seleccionem LDAP i fem clic a Open . Aquesta seria la perspectiva principal on podrem gestionar els nostres servidors LDAP i cercar entrades dins d'ells: Ara, al panell esquerre, busquem el panell Connection . Si no es veu aquest panell, anem a Window , Show View i LDAP Connections . Per afegir una nova connexi\u00f3, fem clic a la icona New Connection (de color groc), anem al men\u00fa i seleccionem File , despr\u00e9s New i LDAP Connection . Tindrem la seg\u00fcent finestra: Configuraci\u00f3 de la connexi\u00f3 Introdu\u00efm les dades de la connexi\u00f3 : Name : Un nom descriptiu per a la connexi\u00f3 (per exemple, \"El meu servidor LDAP\"). Host : Adre\u00e7a del servidor LDAP (per exemple, localhost si \u00e9s la nostra m\u00e0quina local). Port : El port per defecte \u00e9s 389 per connexions no segures o 636 per connexions segures. Encryption : Si la connexi\u00f3 \u00e9s segura, seleccionem LDAPS (aix\u00f2 far\u00e0 servir el port 636). Si no \u00e9s segura, deixem l'opci\u00f3 per defecte a None . Configuraci\u00f3 d'autenticaci\u00f3 : Configurem l'autenticaci\u00f3 posant l'usuari administrador dc=raul,dc=cat i les seves dades. Fem clic a OK per desar la configuraci\u00f3. I tindr\u00edem la seg\u00fcent connexi\u00f3:","title":"1. Connexi\u00f3 a un servidor LDAP"},{"location":"sprint3/#2-configuracio-de-la-cerca-a-ldap","text":"Realitzar una cerca A la Vista del Navegador LDAP , seleccionem el servidor LDAP al qual ens hem connectat. Al panell central, fem clic dret sobre el servidor i seleccionem New Search : A la finestra de cerca: Base DN : Defineix el punt de partida de la cerca (per exemple, dc=raul,dc=cat ). Filter : Defineix un filtre de cerca (per exemple, (uid=maria) per cercar per l'atribut uid ). Fem clic a Search per executar la cerca: Resultat de la cerca realitzada anteriorment:","title":"2. Configuraci\u00f3 de la cerca a LDAP"},{"location":"sprint3/#3-configuracio-de-preferencies-generals","text":"Canviar el tema visual Anem a Window , Preferences , General , Appearance i Theme . Seleccionem entre els temes disponibles, com el Dark Theme o el Light Theme . Canviar la font i la mida A la mateixa secci\u00f3 de Appearance , podem configurar la mida de la font i el tipus de lletra que s'utilitzar\u00e0 a les vistes de LDAP Browser i Schema Editor . Seleccionem Font per canviar el tipus de font i Size per ajustar la mida de la font:","title":"3. Configuraci\u00f3 de prefer\u00e8ncies generals"},{"location":"sprint3/#comprovar-que-larbre-de-directori-es-correcte","text":"1. Configuraci\u00f3 de la vista de l'arbre de directoris Naveguem per l'arbre per veure com estan organitzades les dades. La jerarquia de l'arbre hauria de tenir una estructura l\u00f2gica. Un cop configurat, podrem navegar f\u00e0cilment per l'arbre LDAP i veure els objectes i atributs. Fem clic sobre qualsevol entrada per veure les seves propietats, afegir o eliminar atributs, i m\u00e9s: 2. Validar els atributs de les entrades Fem clic a una entrada del directori i revisem els atributs associats. Per exemple, una entrada d'usuari com uid=abergin hauria de tenir atributs com cn , sn , uid , userPassword ... Si un atribut important falta o no es correspon amb la informaci\u00f3 esperada, aix\u00f2 podria indicar un error en l'estructura de l'arbre. 3. Utilitzar el filtre de cerca per a validaci\u00f3 r\u00e0pida Podem utilitzar la funcionalitat de Quick Search dins d'Apache Directory Studio per filtrar entrades i veure si l'estructura es comporta correctament. Tamb\u00e9 podem filtrar per ou=Dam per assegurar-nos que totes les entrades d'usuari estan a l'OU correcta. Resultat de la cerca:","title":"Comprovar que l'arbre de directori \u00e9s correcte"},{"location":"sprint3/#crea-una-uo-un-grup-i-un-usuari","text":"","title":"Crea una UO, un Grup i un Usuari"},{"location":"sprint3/#1-crear-una-unitat-organitzativa-ou","text":"Les Unitats Organitzatives (OU) s'utilitzen per organitzar les dades en l'arbre LDAP. Passos per crear una Unitat Organitzativa: A la finestra de l'arbre de directori, naveguem fins al punt on volem crear la nova OU . Fem clic dret sobre el directori on volem afegir la nova OU i seleccionem New Entry : A la finestra que surt, seleccionem Organizational Unit i clicquem a Next : Omplim els camps: En Parent posem: dc=raul,dc=cat que os es creara. I en RDN fiquem ou=sistemes Fem clic a Finish per crear la nova OU : Ara hem creat una nova OU per a emmagatzemar usuaris dins del nostre servidor LDAP.","title":"1. Crear una Unitat Organitzativa (OU)"},{"location":"sprint3/#2-crear-un-grup","text":"Els grups s'utilitzen per organitzar els usuaris en el servidor LDAP. Els usuaris dins d'un grup poden tenir permisos comuns o ser tractats com una unitat. Passos per crear un grup: A la finestra de l'arbre de directori, seleccionem la OU on volem crear el grup (per exemple, ou=sistemes,dc=raul,dc=cat ). Fem clic dret sobre l'OU i seleccionem New , Other i Entry . A la finestra, seleccionem Group Of Names i cliquem Next . Omplem els camps necessaris: DN (Distinguished Name) : Per exemple, cn=grup_admin,ou=sistemes,dc=example,dc=com . CN (Common Name) : Per exemple, grup_admins . Description : (Es opcional) Una breu descripci\u00f3 del grup, com \"Grup amb permisos admin\". Afegir membres al grup: Si volem afegir membres seleccionem l'atribut member i afegim els DN dels usuaris que volem que formin part del grup (per exemple, uid=admin,ou=usuaris,dc=example,dc=com ). Fem clic a Finish per crear el grup. Ara ja tenim un grup creat al directori, amb els usuaris que seleccionem com a membres.","title":"2. Crear un Grup"},{"location":"sprint3/#3-crear-un-usuari","text":"Un cop tinguem la nostra OU i grup creats, podem afegir-hi un usuari . Un usuari en LDAP es defineix amb un conjunt d'atributs com uid , cn , sn , userPassword ... Passos per crear un usuari: A la finestra de l'arbre de directori, seleccionem la OU que hem creat pr\u00e8viament per a usuaris (per exemple, ou=sistemes,dc=raul,dc=cat ). Fem clic dret sobre l'OU i seleccionem New , Other i Entry . A la finestra, seleccionem Person i cliquem Next . Omplim els camps necessaris: DN (Distinguished Name) : Per exemple, uid=maria,ou=sistemes,dc=raul,dc=cat . UID (User ID) : Per exemple, maria : CN (Common Name) : Per exemple, Maria M . SN (Surname) : Per exemple, Diaz . UserPassword : Assignem una contrasenya per a l'usuari. Si volem afegir l'usuari a un grup, afegim el DN del usuari (per exemple, uid=maria,ou=sistemes,dc=raul,dc=cat ) com a membre del grup. Fem clic a Finish per crear l'usuari amb tota l'informaci\u00f3:","title":"3. Crear un Usuari"},{"location":"sprint3/#accedir-des-del-client-amb-aquest-usuari","text":"Per accedir des del client a un servidor LDAP amb un usuari creat, cal que utilitzem Apache Directory Studio o un altre client LDAP i configurem la connexi\u00f3 amb la informaci\u00f3 adequada.","title":"Accedir des del client amb aquest usuari"},{"location":"sprint3/#1-configuracio-de-la-connexio","text":"Necessitem configurar una connexi\u00f3 a un servidor LDAP per poder validar amb l'usuari: Crear una nova connexi\u00f3 LDAP : A la part esquerra a la finestra de LDAP Browser , fem clic a New Connection per crear una nova connexi\u00f3. Afegim els detalls de la connexi\u00f3 : Servidor : Introdu\u00efm la IP o nom del servidor LDAP (per exemple, localhost ). Port : Per defecte, els servidors LDAP utilitzen el port 389 . Autenticaci\u00f3 : En aquesta pantalla, podem especificar les nostres credencials d'autenticaci\u00f3. En el DN d'autenticaci\u00f3 hem d'introduir el DN complet de l'usuari amb el qual volem autenticar-nos. Per exemple: uid=maria,ou=sistemes,dc=raul,dc=cat A contrasenya introdu\u00efm la contrasenya que vam assignar a l'usuari quan el vam crear. En el nostre cas Contrasenya : maria Provem la connexi\u00f3 : Fem clic a Test Connection per comprovar si la connexi\u00f3 \u00e9s correcta. Si tot est\u00e0 configurat correctament, haur\u00edem de veure un missatge de \"Connexi\u00f3 exitosa\" .","title":"1. Configuraci\u00f3 de la connexi\u00f3"},{"location":"sprint3/#2-validar-usuari","text":"Un cop configurada la connexi\u00f3, podem intentar validar l'usuari i comprovar si podem realitzar operacions en el servidor LDAP. Comprovar l'arbre de directori : Si la connexi\u00f3 \u00e9s correcta i la validaci\u00f3 de l'usuari ha estat exitosa, podrem veure l'arbre de directori de l'LDAP des de Apache Directory Studio . Amb l'usuari admin amb permisos, s\u00ed que ens deixa modificar les dades de l'usuari: Per\u00f2 amb els permisos de maria , no ens deixa modificar-les ja que no \u00e9s administradora:","title":"2. Validar usuari"},{"location":"sprint3/#5-servidor-nfs","text":"Un servidor NFS i un servidor Samba serveixen per compartir recursos, per\u00f2 tenen difer\u00e8ncies en l'autenticaci\u00f3. NFS autentica a nivell de m\u00e0quina (host), per\u00f2 pot fer-ho tamb\u00e9 a nivell d'usuari, tot i que \u00e9s m\u00e9s complex. Samba, en canvi, autentica a nivell d'usuari i \u00e9s m\u00e9s flexible, permetent integrar-se amb sistemes com Active Directory, fet que el fa millor per a entorns amb usuaris diversos.","title":"5. Servidor NFS"},{"location":"sprint3/#installacio-i-configuracio-servidors-ldap","text":"Per comen\u00e7ar amb la instal\u00b7laci\u00f3, primer de tot hem de descarregar nfs-kernel-server , que \u00e9s el paquet que permet configurar i gestionar un servidor NFS a Linux per compartir directoris a trav\u00e9s de la xarxa. Descarrega de nfs-kernel-server: Una vegada instal\u00b7lat el paquet, hem de crear una carpeta anomenada compartida , que \u00e9s la que utilitzarem per veure el seu contingut en diferents m\u00e0quines. Tamb\u00e9 hem de donar permisos de chmod -R 777 , que s\u00f3n permisos de lectura, escriptura i execuci\u00f3 a tots els usuaris per a tots els fitxers. Creaci\u00f3 de \"compartida\" i permisos: Seguidament, hem de configurar la carpeta compartida . Per fer-ho, hem d'accedir al fitxer /etc/exports i afegir una \u00faltima l\u00ednia amb el seg\u00fcent contingut: /compartida *(rw,sync,no_subtree_check) , es divideix en el seg\u00fcent: /compartida : Directori a compartir. * : Tots els clients poden accedir; si no, haur\u00edem de posar la IP . rw : Permet lectura i escriptura. sync : Les operacions s\u00f3n sincronitzades. no_subtree_check : No comprova la consist\u00e8ncia dels subdirectoris. Despr\u00e9s d'haver guardat els canvis de l'anterior fitxer, hem de fer un Restart dels serveis NFS , sempre amb systemctl restart nfs-kernel-server :","title":"Instal\u00b7laci\u00f3 i configuraci\u00f3 servidors LDAP"},{"location":"sprint3/#installacio-i-configuracio-del-client-windows-11","text":"Primer de tot, hem de configurar el NFS de Windows 11 . Per fer-ho, s'ha d'anar a Panell de Control -> Programes i caracter\u00edstiques . Una vegada en aquesta finestra, hem d'anar a la part esquerra i entrar on indica Activar o Desactivar les caracter\u00edstiques de Windows . Una vegada tenim la nova finestra oberta, hem de buscar i habilitar l'opci\u00f3 de Serveis per a NFS : Habilitar l'opci\u00f3: Opci\u00f3 habilitada:","title":"Instal\u00b7laci\u00f3 i configuraci\u00f3 del client Windows 11"},{"location":"sprint3/#compartir-carpeta-a-windows-11","text":"Ara \u00e9s el moment de fer la compartici\u00f3 des de Ubuntu cap al client de Windows 11 . En primer lloc, comprovem la IP de la nostra m\u00e0quina Ubuntu : IP: 10.0.2.15 Seguidament, anem a l' Explorador d'arxius de Windows i hem de copiar la nostra direcci\u00f3 de la m\u00e0quina Ubuntu , on \u00e9s la carpeta compartida, seguit del nom de la carpeta ( compartida ). S'ha de fer de la seg\u00fcent manera: \\\\10.0.2.15\\compartida I ja tindr\u00edem la carpeta compartida visible en el nostre client de Windows 11 . (Provar de crear un nou fitxer a Ubuntu i visualitzar-lo a Windows).","title":"Compartir carpeta a Windows 11"},{"location":"sprint3/#installacio-i-configuracio-del-client-a-ubuntu","text":"Per comen\u00e7ar, el primer que hem de fer \u00e9s instal\u00b7lar el paquet nfs-common rpcbind , que proporciona les eines necess\u00e0ries per muntar i utilitzar sistemes de fitxers NFS , i rpcbind gestiona les connexions RPC (Remote Procedure Calls) requerides per NFS . Seguidament, creem una carpeta anomenada nfs al directori /home/raul . Un cop creada, li donem permisos de lectura, escriptura i execuci\u00f3 per a tots els usuaris (propietari, grup i altres) de manera recursiva. Un cop fets els passos anteriors, muntem el directori /compartida del servidor 10.0.2.15 a la carpeta /home/raul/nfs , permetent accedir als seus fitxers com si fossin locals. Despr\u00e9s, entrem a la carpeta creada i creem un fitxer per despr\u00e9s poder veure'l a /compartida i tamb\u00e9 ho fem a la inversa per veure que la compartici\u00f3 s'ha fet correctament:","title":"Instal\u00b7laci\u00f3 i configuraci\u00f3 del client a Ubuntu"},{"location":"sprint3/#perfils-mobils-a-ubuntu","text":"","title":"Perfils mobils a Ubuntu"},{"location":"sprint3/#samba","text":"A difer\u00e8ncia de NFS, el servidor Samba permet l\u2019autenticaci\u00f3 a nivell d\u2019usuari. Tamb\u00e9 permet compartir m\u00e9s recursos que no nom\u00e9s carpetes, com ara impressores, i pot treballar conjuntament amb LDAP per utilitzar els usuaris per a la validaci\u00f3. Admet clients tant de Linux com de Windows, i al servidor no s'hi pot connectar directament un equip o una xarxa, per\u00f2 es poden permetre convidats.","title":"SAMBA"},{"location":"sprint3/#servidor","text":"Primer de tot, ens connectarem a una m\u00e0quina virtual que far\u00e0 de Servidor . Seguidament, el que farem ser\u00e0 instal\u00b7lar Samba , com es mostra a continuaci\u00f3: Un cop instal\u00b7lat, hem de tenir una carpeta creada a l'arrel que es digui perfils , amb permisos complets per a tots els usuaris i grups: En aquest punt, li hem de donar tots els permisos que necessitem per a la carpeta perfils dins la configuraci\u00f3 de Samba . Per fer-ho, hem d'anar al fitxer /etc/samba/smb.conf i, un cop dins, hem d'incloure les seg\u00fcents l\u00ednies al final: [perfils] : Nom del recurs compartit. path = /perfils : Indica la ruta de la carpeta compartida. guest ok = yes : Permet l\u2019acc\u00e9s sense autenticaci\u00f3. directory mask = 0755 : Estableix permisos de lectura i execuci\u00f3 per a tothom, per\u00f2 nom\u00e9s escriptura pel propietari. create mask = 0644 : Els fitxers nous tindran permisos de lectura per a tothom, per\u00f2 nom\u00e9s escriptura pel propietari. browseable = yes : La carpeta compartida ser\u00e0 visible als clients. read list = @dam : Els usuaris del grup \"dam\" nom\u00e9s poden llegir. write list = raulM : L'usuari \"raulM\" t\u00e9 perm\u00eds d\u2019escriptura. invalid users = enric : L'usuari \"enric\" no t\u00e9 acc\u00e9s a aquesta compartici\u00f3. A continuaci\u00f3, reiniciem els serveis de Samba : Ara hem d\u2019afegir els usuaris raulM , enric i walid . Els crearem, per\u00f2 no tindran cap home assignada. Comprovaci\u00f3 que tenim els usuaris agregats al sistema: Seguidament, afegim aquests usuaris al grup dam i comprovem que s'hagin afegit correctament al grup de la seg\u00fcent manera: Amb la comanda smbpasswd -a , afegim un nou usuari al sistema de Samba , aix\u00ed que ho farem amb cadascun dels que hem creat pr\u00e8viament:","title":"Servidor:"},{"location":"sprint3/#client","text":"En aquest punt, ja tenim configurat el servidor, aix\u00ed que ens anem a una altra m\u00e0quina virtual que actuar\u00e0 com a Client . En aquesta m\u00e0quina, instal\u00b7larem el paquet smbclient de la seg\u00fcent manera: I, un cop estigui instal\u00b7lat, anirem als fitxers del nostre sistema, anirem a Otras ubicaciones , i en la barra de baix ens connectarem al Servidor posant la IP del Server amb el nom de la carpeta, ho farem de la seg\u00fcent manera: Quan entrem, ens sortir\u00e0 l'opci\u00f3 per connectar-nos. Si ens connectem amb l'usuari raulM , veurem que ens deixa accedir perfectament: I, un cop dins, podem crear una carpeta, ja que tenim tots els permisos per fer-ho sense problema: Ara, si ens connectem amb l'usuari walid , ens hi deixar\u00e0 entrar, per\u00f2 en el moment que vulguem crear una carpeta ens donar\u00e0 un error, ja que aquest usuari no t\u00e9 permisos per crear res, nom\u00e9s t\u00e9 perm\u00eds per veure qu\u00e8 hi ha: I finalment, si ens connectem amb un usuari que no t\u00e9 permisos per accedir, el que passar\u00e0 \u00e9s que no podr\u00e0 accedir de cap manera, tal com hauria de ser:","title":"Client:"},{"location":"sprint3/#nfs","text":"NFS ( Network File System ) permet als usuaris accedir als seus fitxers des de qualsevol ordinador de la xarxa, ja que aquests s'emmagatzemen en un servidor central. Aix\u00f2 \u00e9s \u00fatil perqu\u00e8 el directori /home de cada usuari no estigui en un sol equip, sin\u00f3 disponible a qualsevol dispositiu de la xarxa. D\u2019aquesta manera, les dades es mantenen accessibles i segures sense dependre d\u2019una sola m\u00e0quina. Comen\u00e7arem per connectar-nos a la m\u00e0quina virtual que far\u00e0 de servidor i despr\u00e9s a la que far\u00e0 de client.","title":"NFS"},{"location":"sprint3/#server","text":"Una vegada estem al servidor, hem d'instal\u00b7lar un paquet amb la comanda apt install nfs-kernel-server : Seguidament, hem d'anar a l'arrel i all\u00ed hem de crear la carpeta anomenada perfils i l'hi hem de donar permisos perqu\u00e8 tothom pugui accedir-hi. Despr\u00e9s mirem que tingui tots els permisos correctament: Una vegada tenim la carpeta configurada, hem d'anar al fitxer /etc/exports i hem d'afegir la seg\u00fcent l\u00ednia perqu\u00e8 totes les direccions puguin accedir al directori /perfils : Restaurem els serveis de nfs-kernel-server : Ara \u00e9s moment de crear el grup anomenat Dam , per fer-ho tenim el seg\u00fcent fitxer anomenat grup.ldif . Dins del fitxer hem d'afegir la informaci\u00f3 del grup i de l'usuari alu54 , que pertanyer\u00e0 al grup. Informaci\u00f3 del grup: Seguidament, amb el fitxer usu.ldif , afegim l'usuari alu54 amb la seva contrasenya alu54 i amb tota la seva informaci\u00f3, canviant el uidNumber a 1101 , ja que el 1100 \u00e9s el del grup dam : Una vegada editada la informaci\u00f3 dels fitxers, hem de carregar-la a l' ldap com es mostra a continuaci\u00f3:","title":"Server"},{"location":"sprint3/#client_1","text":"Una vegada configurat el servidor, anem a configurar la m\u00e0quina virtual del client. En aquest, hem d'instal\u00b7lar el paquet nfs-common rpcbind , que, com es pot veure, en aquest cas ja est\u00e0 instal\u00b7lat a la seva versi\u00f3 m\u00e9s recent. Ara creem una carpeta a l'arrel anomenada perfils , com es va fer en el servidor, per\u00f2 poden tenir noms diferents. Donem permisos a la carpeta i mirem que s'hagin afegit: Finalment, al fitxer /etc/fstab hem d'afegir l'\u00faltima l\u00ednia, que ser\u00e0 la IP del servidor seguida del nom de la carpeta del servidor /perfils , i despr\u00e9s la del client, que s'anomena igual ( /perfils ): Una vegada tenim tots els canvis guardats, reiniciem la m\u00e0quina del client i accedim amb l'usuari alu54 i la seva contrasenya alu54 . Haur\u00edem de poder accedir correctament i, si afegim un fitxer a la carpeta compartida, s'ha de veure actualitzat al Server .","title":"Client"},{"location":"sprint4/","text":"Monitoritzaci\u00f3, connexi\u00f3 remota i llicenciament Aquest sprint se centra en la monitoritzaci\u00f3 del sistema, la connexi\u00f3 remota i la gesti\u00f3 de llic\u00e8ncies a Linux. La monitoritzaci\u00f3 permet supervisar el rendiment i l'estat dels recursos del sistema, la connexi\u00f3 remota facilita l'administraci\u00f3 segura dels servidors a dist\u00e0ncia, i el llicenciament garanteix el compliment de les pol\u00edtiques d'\u00fas i distribuci\u00f3 del programari. 1. MONITORITZACI\u00d3 Els logs s\u00f3n registres del sistema i aplicacions que documenten esdeveniments, errors i activitats per a la monitoritzaci\u00f3 i seguretat. Es gestionen seguint normes com la rotaci\u00f3, classificaci\u00f3 per gravetat i retenci\u00f3 . journalctl permet consultar logs en systemd , amb opcions per veure registres en temps real o filtrar per servei. La seva utilitat principal \u00e9s monitoritzar un servidor, detectar problemes i millorar la seguretat i rendiment . Primer de tot, anem a /var/log , on s'emmagatzemen els logs del sistema i aplicacions a Linux. Cont\u00e9 registres com syslog (esdeveniments), auth.log (autenticaci\u00f3), kern.log (nucli), dmesg (arrencada) i logs de servidors web. \u00c9s clau per diagnosticar problemes i monitoritzar el sistema . Si accedim a logrotate.conf , podem veure que \u00e9s on es configura Logrotate , que gestiona la rotaci\u00f3, compressi\u00f3 i eliminaci\u00f3 autom\u00e0tica dels logs . Permet definir la freq\u00fc\u00e8ncia , el nombre de logs a conservar , la compressi\u00f3 i accions abans/despr\u00e9s de la rotaci\u00f3. Les configuracions espec\u00edfiques es troben a /etc/logrotate.d/ . Si anem a /var/log/ufw.log , trobem que \u00e9s sotm\u00e8s a la rotaci\u00f3 de logs per controlar l'espai en disc. Logrotate arxiva, comprimeix i gestiona els logs antics, mantenint-los organitzats sense saturar el sistema. La configuraci\u00f3 es troba a /etc/logrotate.d/ufw . Si volem veure els registres dels esdeveniments, hem d'anar al syslog , ja que \u00e9s un sistema on es recopila l'informaci\u00f3 del sistema, nucli, serveis i aplicacions. Els logs es poden veure a /var/log/syslog i es poden filtrar per cercar errors o advert\u00e8ncies. En el syslog.conf , trobem la configuraci\u00f3 de syslog , on es defineixen les regles per gestionar els registres d'esdeveniments. Especifica la prioritat dels missatges i la destinaci\u00f3 on s'emmagatzemen, com a fitxers locals o serveis remots. Per aplicar canvis, s'ha de reiniciar el servei rsyslog . Tamb\u00e9 trobem el fitxer 50-default.conf a /etc/logrotate.d/ , que configura la rotaci\u00f3 de logs per a serveis del sistema. Defineix com es gestionen els logs, incloent la freq\u00fc\u00e8ncia de rotaci\u00f3 , la conservaci\u00f3 dels logs antics i la compressi\u00f3 . Aquestes configuracions eviten que els registres d'aquests serveis espec\u00edfics es guardin en l'arxiu de logs especificat. En aquest punt mantenim obert els logs actuals per\u00f2 veurem els canvis a dalt. Seguidament crearem el log . Per crear un log utilitzarem la comanda logger -i -s -p que permet registrar missatges en els logs del sistema amb les seg\u00fcents opcions: -i : Inclou l' ID de proc\u00e9s (PID) al missatge. -s : Mostra el missatge tamb\u00e9 per pantalla . -p : Defineix la prioritat del missatge (categoria i nivell de severitat). Exemple: logger -i -s -p mail.err \"Missatge\" registrar\u00e0 el missatge amb prioritat mail.err , incloent el PID i mostrant-lo a la pantalla. I es pot veure que surt al /var/log/syslog La frase corregida seria: Si accedim als logs de mail.log , trobarem el log que acabem de crear amb el missatge , ja que estava definit que es redirig\u00eds a aquest fitxer de logs. Tamb\u00e9, si es posa mail.=alert al fitxer 50-default.conf , nom\u00e9s es registraran els missatges del servei de mail amb prioritat alert o m\u00e9s alta, indicant situacions que requereixen atenci\u00f3 immediata. Els missatges de menor severitat seran ignorats. Igualment, amb la prioritat crit , els missatges es redireccionaran al /var/log/mail.log . Per fer un exemple, farem el mateix per\u00f2 canviant per a qu\u00e8 totes les prioritats amb *.crit m\u00e9s altes es redireccionin a /var/log/raul.log . Creem un log amb la prioritat emerg i ara, si anem al /var/log/mail.log , veurem que no est\u00e0 aquest log (mirant el seu PID), per\u00f2 si anem a /var/log/raul.log , s\u00ed que el trobarem, ja que \u00e9s de prioritat m\u00e9s alta. Per tindre-ho mes clar podem veure els nivells de prioritats en syslog es classifiquen en 8 nivells de severitat, de m\u00e9s baix a m\u00e9s alt: debug : Informaci\u00f3 detallada \u00fatil per a la depuraci\u00f3. info : Missatges informatius que indiquen el bon funcionament del sistema. notice : Missatges normals, per\u00f2 importants, per a l'operaci\u00f3 del sistema. warning : Advert\u00e8ncies de possibles problemes, per\u00f2 no cr\u00edtiques. err : Errors que poden afectar el funcionament, per\u00f2 no s\u00f3n cr\u00edtics. crit : Condicions cr\u00edtiques que necessiten atenci\u00f3 immediata. alert : Problemes molt greus que requereixen una resposta immediata. emerg : Problemes cr\u00edtics que impliquen una fallada total del sistema. Els missatges amb una prioritat m\u00e9s alta inclouen tamb\u00e9 els de prioritats m\u00e9s baixes. Amb el journalctl podem visualitzar i gestionar els registres del sistema guardats pel sistema de registre systemd . Ens permet consultar els logs del sistema de manera eficient, filtrar per data, servei o nivell de severitat, i veure missatges d'error, advert\u00e8ncies, entre d'altres. Per exemple, podem filtrar per les prioritats alert : I seguidament, amb la comanda journalctl -u cron , podem veure els registres del servei cron gestionats per systemd . El par\u00e0metre -u indica que es volen mostrar els logs d'un servei espec\u00edfic . En aquest cas, es mostraran els missatges relacionats amb el servei de cron , que gestiona les tasques programades en el sistema: \ud83d\udccc Apartat Addicional: Monitoritzaci\u00f3 Remota de Logs Un apartat addicional que podem implementar \u00e9s la possibilitat d'enviar els logs generats per una m\u00e0quina a una carpeta compartida amb una altra m\u00e0quina. Avantatge: Aix\u00f2 permet una monitoritzaci\u00f3 remota m\u00e9s eficient i centralitzada, facilitant la supervisi\u00f3 i an\u00e0lisi dels registres en temps real. Servidor (Qui envia els logs ) Primer de tot, instal\u00b7larem nfs-kernel-server , ja que la compartici\u00f3 es far\u00e0 a trav\u00e9s de NFS . Seguidament, anirem a l'arrel del nostre directori per crear una carpeta ( logs ) on guardarem tots els logs que ens interessen. A m\u00e9s, assignarem permisos a la carpeta perqu\u00e8, de moment, tothom hi tingui acc\u00e9s. (M\u00e9s endavant, es podrien restringir els permisos a un grup redu\u00eft de persones, com administradors...) . En aquest punt, volem que la carpeta /logs sigui la carpeta compartida entre les m\u00e0quines. Per aquest motiu, anem a /etc/exports per introduir la seg\u00fcent l\u00ednia: Un cop guardats els canvis, reiniciem els serveis per aplicar-los i assegurar-nos que la configuraci\u00f3 s'ha efectuat correctament. Client (Qui rep els logs ) A la m\u00e0quina client, hem d'instal\u00b7lar nfs-common amb la seg\u00fcent comanda: Creem una carpeta a l'arrel anomenada /muntatge i ens desplacem cap a ella. Muntem el directori /logs del servidor al directori /muntatge del client, indicant sempre la IP del servidor : Compartici\u00f3 dels logs Un cop fets els passos anteriors, anem al Server i editem el fitxer 50-default.conf per modificar la l\u00ednia de mail.=alert , indicant que quan es generi aquest log, es guardi a /logs/nfs.log . Punt important: Com que el directori /logs \u00e9s compartit amb el client a trav\u00e9s del directori /muntatge , qualsevol log creat i desat a /logs ser\u00e0 tamb\u00e9 guardat a /muntatge i, per tant, visible al client. A la part superior de la imatge, veiem el client accedint al directori /muntatge , mentre que a la part inferior hi ha el servidor. En aquest punt, al servidor, creem una alerta de mail amb prioritat alert i un missatge. Com podem observar, l'alerta no es reflecteix ni als logs actuals de la m\u00e0quina ni al directori del client, ja que encara no s'ha enviat l'ordre de creaci\u00f3 del log. En aquest punt, acabem d'enviar la comanda per crear el log . Ara, el podem veure als logs de la nostra m\u00e0quina i, si fem un ls -l al client, tamb\u00e9 hi ser\u00e0 visible. Aix\u00ed, podem comprovar que el fitxer amb el log creat ha estat rebut correctament pel client. Comprovaci\u00f3 del fitxer nfs.log del client: Una \u00faltima comprovaci\u00f3 consisteix a crear un log amb prioritat alert i verificar que arriba al client, per\u00f2 no es guarda al fitxer mail.log del servidor, ja que ha de ser enviat al directori compartit /logs . Aix\u00ed, el log es desar\u00e0 en el directori compartit i ser\u00e0 visible tant al servidor com al client, per\u00f2 no al fitxer mail.log . 2. ADMINISTRACI\u00d3 REMOTA (TEAM VIEWER) Primer de tot, des del client, hem d'anar a la web de TeamViewer i descarregar el fitxer. En el meu cas, he descarregat la versi\u00f3 .tar.gz . Podem veure que tenim descarregada l'aplicaci\u00f3 amb el seu executable: Si l'executem i li donem a TeamViewer , ens apareixer\u00e0 una finestra on haurem de fer clic a Acceptar i continuar per poder utilitzar l'aplicaci\u00f3. Seguidament, s'obrir\u00e0 i ens mostrar\u00e0 la seg\u00fcent finestra que indica el nostre ID per connectar un dispositiu que ens controlar\u00e0, aix\u00ed com la contrasenya de connexi\u00f3 corresponent. En aquest punt, hem d'anar a la m\u00e0quina que controlar\u00e0 al client . Accedim a la web de TeamViewer i creem un compte per poder accedir a l'aplicaci\u00f3 web i, aix\u00ed, connectar-nos amb el client. Ara, introdu\u00efm el ID del client a l'apartat de la dreta i fem clic a Connectar per poder visualitzar la m\u00e0quina del client en la nostra. A la m\u00e0quina del client, ens demanar\u00e0 que acceptem els permisos per permetre la connexi\u00f3 d'un dispositiu. Si estem d'acord, fem clic a Acceptar . En aquest punt, ja tindrem connectades les dues m\u00e0quines i podrem veure, al nostre ordinador, la m\u00e0quina del client . Ara, des del nostre ordinador, podem crear els logs necessaris que s'executaran al client . Veiem el seu directori arrel per comprovar que t\u00e9 el directori /logs , on s'emmagatzemen tots els logs que tenim especificats. Crearem un log amb prioritat alert per a mail amb un missatge. Aquest log es guardar\u00e0 al directori /logs si tot funciona correctament. L'enviem, i efectivament es guarda en /logs/nfs.log i no en /var/log/mail.log . Com hem esmentat a les seccions anteriors, aquest log s'enviar\u00e0 a l'altra m\u00e0quina connectada per NFS . Tamb\u00e9, amb journalctl -p alert , podem veure les prioritats alert que s'han executat anteriorment, i aix\u00ed podrem veure la que hem creat als passos anteriors. 3. LLIC\u00c8NCIAMENT Qu\u00e8 s\u00f3n les llic\u00e8ncies? Les llic\u00e8ncies de programes s\u00f3n contractes legals que defineixen els drets i restriccions dels usuaris en l'\u00fas del programari, establerts entre el creador (llicenciador) i l'usuari (llicenciatari). Tipus de llic\u00e8ncies Llic\u00e8ncies privatives Model de negoci: Permeten comercialitzar el programari i obtenir beneficis. Suport i garanties: Inclouen suport t\u00e8cnic i garanties per als usuaris. Limitacions: No permeten personalitzar el programari i depenen d'un \u00fanic prove\u00efdor. Llic\u00e8ncies FOSS Filosofia: Promou la llibertat d'usar, modificar i compartir el programari. Avantatges: Transpar\u00e8ncia, seguretat millorada i llibertat de personalitzaci\u00f3. Desafiaments: Suport t\u00e8cnic informal i possibles problemes de compatibilitat. Altres punts Llic\u00e8ncies duals: Ofereixen versions privatives i FOSS. Consideracions \u00e8tiques: Elecci\u00f3 basada en valors sobre llibertat i col\u00b7laboraci\u00f3. Drets d'autor: Les llic\u00e8ncies FOSS tamb\u00e9 tenen drets d'autor amb restriccions espec\u00edfiques. Com implementar una llic\u00e8ncia en una aplicaci\u00f3? Crec que la millor llicencia per a un programari seri\u00e1 la llic\u00e8ncia EULA (Acord de Llic\u00e8ncia d'Usuari Final) que \u00e9s un contracte legal que defineix els drets i condicions d'\u00fas del programari. Presentaci\u00f3 durant la instal\u00b7laci\u00f3: L' EULA es presenta en el proc\u00e9s d'instal\u00b7laci\u00f3 i s'ha d'acceptar per continuar. Pot ser en format .txt , .rtf , PDF o HTML . Visualitzaci\u00f3 dins de l'aplicaci\u00f3: Es pot consultar des del men\u00fa \"Quant a\" o \"Ajuda\" . Tamb\u00e9 pot estar disponible a la documentaci\u00f3 en l\u00ednia o a la primera execuci\u00f3. Implementaci\u00f3 t\u00e8cnica: Els desenvolupadors utilitzen codi per mostrar l' EULA i registrar l'acceptaci\u00f3. Es poden utilitzar fitxers de registre o enviar la informaci\u00f3 a un servidor. L' EULA es pot firmar digitalment per evitar modificacions. Exemple d'una llic\u00e8ncia EULA Document informatiu que incorpora l' EULA : Finestra d'instal\u00b7laci\u00f3 d'un programari, en aquest cas de TeamViewer , on es mostra el llicenciament corresponent, el qual cal acceptar sempre que es vulgui continuar amb la instal\u00b7laci\u00f3.","title":"Sprint 4"},{"location":"sprint4/#monitoritzacio-connexio-remota-i-llicenciament","text":"Aquest sprint se centra en la monitoritzaci\u00f3 del sistema, la connexi\u00f3 remota i la gesti\u00f3 de llic\u00e8ncies a Linux. La monitoritzaci\u00f3 permet supervisar el rendiment i l'estat dels recursos del sistema, la connexi\u00f3 remota facilita l'administraci\u00f3 segura dels servidors a dist\u00e0ncia, i el llicenciament garanteix el compliment de les pol\u00edtiques d'\u00fas i distribuci\u00f3 del programari.","title":"Monitoritzaci\u00f3, connexi\u00f3 remota i llicenciament"},{"location":"sprint4/#1-monitoritzacio","text":"Els logs s\u00f3n registres del sistema i aplicacions que documenten esdeveniments, errors i activitats per a la monitoritzaci\u00f3 i seguretat. Es gestionen seguint normes com la rotaci\u00f3, classificaci\u00f3 per gravetat i retenci\u00f3 . journalctl permet consultar logs en systemd , amb opcions per veure registres en temps real o filtrar per servei. La seva utilitat principal \u00e9s monitoritzar un servidor, detectar problemes i millorar la seguretat i rendiment . Primer de tot, anem a /var/log , on s'emmagatzemen els logs del sistema i aplicacions a Linux. Cont\u00e9 registres com syslog (esdeveniments), auth.log (autenticaci\u00f3), kern.log (nucli), dmesg (arrencada) i logs de servidors web. \u00c9s clau per diagnosticar problemes i monitoritzar el sistema . Si accedim a logrotate.conf , podem veure que \u00e9s on es configura Logrotate , que gestiona la rotaci\u00f3, compressi\u00f3 i eliminaci\u00f3 autom\u00e0tica dels logs . Permet definir la freq\u00fc\u00e8ncia , el nombre de logs a conservar , la compressi\u00f3 i accions abans/despr\u00e9s de la rotaci\u00f3. Les configuracions espec\u00edfiques es troben a /etc/logrotate.d/ . Si anem a /var/log/ufw.log , trobem que \u00e9s sotm\u00e8s a la rotaci\u00f3 de logs per controlar l'espai en disc. Logrotate arxiva, comprimeix i gestiona els logs antics, mantenint-los organitzats sense saturar el sistema. La configuraci\u00f3 es troba a /etc/logrotate.d/ufw . Si volem veure els registres dels esdeveniments, hem d'anar al syslog , ja que \u00e9s un sistema on es recopila l'informaci\u00f3 del sistema, nucli, serveis i aplicacions. Els logs es poden veure a /var/log/syslog i es poden filtrar per cercar errors o advert\u00e8ncies. En el syslog.conf , trobem la configuraci\u00f3 de syslog , on es defineixen les regles per gestionar els registres d'esdeveniments. Especifica la prioritat dels missatges i la destinaci\u00f3 on s'emmagatzemen, com a fitxers locals o serveis remots. Per aplicar canvis, s'ha de reiniciar el servei rsyslog . Tamb\u00e9 trobem el fitxer 50-default.conf a /etc/logrotate.d/ , que configura la rotaci\u00f3 de logs per a serveis del sistema. Defineix com es gestionen els logs, incloent la freq\u00fc\u00e8ncia de rotaci\u00f3 , la conservaci\u00f3 dels logs antics i la compressi\u00f3 . Aquestes configuracions eviten que els registres d'aquests serveis espec\u00edfics es guardin en l'arxiu de logs especificat. En aquest punt mantenim obert els logs actuals per\u00f2 veurem els canvis a dalt. Seguidament crearem el log . Per crear un log utilitzarem la comanda logger -i -s -p que permet registrar missatges en els logs del sistema amb les seg\u00fcents opcions: -i : Inclou l' ID de proc\u00e9s (PID) al missatge. -s : Mostra el missatge tamb\u00e9 per pantalla . -p : Defineix la prioritat del missatge (categoria i nivell de severitat). Exemple: logger -i -s -p mail.err \"Missatge\" registrar\u00e0 el missatge amb prioritat mail.err , incloent el PID i mostrant-lo a la pantalla. I es pot veure que surt al /var/log/syslog La frase corregida seria: Si accedim als logs de mail.log , trobarem el log que acabem de crear amb el missatge , ja que estava definit que es redirig\u00eds a aquest fitxer de logs. Tamb\u00e9, si es posa mail.=alert al fitxer 50-default.conf , nom\u00e9s es registraran els missatges del servei de mail amb prioritat alert o m\u00e9s alta, indicant situacions que requereixen atenci\u00f3 immediata. Els missatges de menor severitat seran ignorats. Igualment, amb la prioritat crit , els missatges es redireccionaran al /var/log/mail.log . Per fer un exemple, farem el mateix per\u00f2 canviant per a qu\u00e8 totes les prioritats amb *.crit m\u00e9s altes es redireccionin a /var/log/raul.log . Creem un log amb la prioritat emerg i ara, si anem al /var/log/mail.log , veurem que no est\u00e0 aquest log (mirant el seu PID), per\u00f2 si anem a /var/log/raul.log , s\u00ed que el trobarem, ja que \u00e9s de prioritat m\u00e9s alta. Per tindre-ho mes clar podem veure els nivells de prioritats en syslog es classifiquen en 8 nivells de severitat, de m\u00e9s baix a m\u00e9s alt: debug : Informaci\u00f3 detallada \u00fatil per a la depuraci\u00f3. info : Missatges informatius que indiquen el bon funcionament del sistema. notice : Missatges normals, per\u00f2 importants, per a l'operaci\u00f3 del sistema. warning : Advert\u00e8ncies de possibles problemes, per\u00f2 no cr\u00edtiques. err : Errors que poden afectar el funcionament, per\u00f2 no s\u00f3n cr\u00edtics. crit : Condicions cr\u00edtiques que necessiten atenci\u00f3 immediata. alert : Problemes molt greus que requereixen una resposta immediata. emerg : Problemes cr\u00edtics que impliquen una fallada total del sistema. Els missatges amb una prioritat m\u00e9s alta inclouen tamb\u00e9 els de prioritats m\u00e9s baixes. Amb el journalctl podem visualitzar i gestionar els registres del sistema guardats pel sistema de registre systemd . Ens permet consultar els logs del sistema de manera eficient, filtrar per data, servei o nivell de severitat, i veure missatges d'error, advert\u00e8ncies, entre d'altres. Per exemple, podem filtrar per les prioritats alert : I seguidament, amb la comanda journalctl -u cron , podem veure els registres del servei cron gestionats per systemd . El par\u00e0metre -u indica que es volen mostrar els logs d'un servei espec\u00edfic . En aquest cas, es mostraran els missatges relacionats amb el servei de cron , que gestiona les tasques programades en el sistema:","title":"1. MONITORITZACI\u00d3"},{"location":"sprint4/#apartat-addicional-monitoritzacio-remota-de-logs","text":"Un apartat addicional que podem implementar \u00e9s la possibilitat d'enviar els logs generats per una m\u00e0quina a una carpeta compartida amb una altra m\u00e0quina. Avantatge: Aix\u00f2 permet una monitoritzaci\u00f3 remota m\u00e9s eficient i centralitzada, facilitant la supervisi\u00f3 i an\u00e0lisi dels registres en temps real.","title":"\ud83d\udccc Apartat Addicional: Monitoritzaci\u00f3 Remota de Logs"},{"location":"sprint4/#servidor-qui-envia-els-logs","text":"Primer de tot, instal\u00b7larem nfs-kernel-server , ja que la compartici\u00f3 es far\u00e0 a trav\u00e9s de NFS . Seguidament, anirem a l'arrel del nostre directori per crear una carpeta ( logs ) on guardarem tots els logs que ens interessen. A m\u00e9s, assignarem permisos a la carpeta perqu\u00e8, de moment, tothom hi tingui acc\u00e9s. (M\u00e9s endavant, es podrien restringir els permisos a un grup redu\u00eft de persones, com administradors...) . En aquest punt, volem que la carpeta /logs sigui la carpeta compartida entre les m\u00e0quines. Per aquest motiu, anem a /etc/exports per introduir la seg\u00fcent l\u00ednia: Un cop guardats els canvis, reiniciem els serveis per aplicar-los i assegurar-nos que la configuraci\u00f3 s'ha efectuat correctament.","title":"Servidor (Qui envia els logs)"},{"location":"sprint4/#client-qui-rep-els-logs","text":"A la m\u00e0quina client, hem d'instal\u00b7lar nfs-common amb la seg\u00fcent comanda: Creem una carpeta a l'arrel anomenada /muntatge i ens desplacem cap a ella. Muntem el directori /logs del servidor al directori /muntatge del client, indicant sempre la IP del servidor :","title":"Client (Qui rep els logs)"},{"location":"sprint4/#comparticio-dels-logs","text":"Un cop fets els passos anteriors, anem al Server i editem el fitxer 50-default.conf per modificar la l\u00ednia de mail.=alert , indicant que quan es generi aquest log, es guardi a /logs/nfs.log . Punt important: Com que el directori /logs \u00e9s compartit amb el client a trav\u00e9s del directori /muntatge , qualsevol log creat i desat a /logs ser\u00e0 tamb\u00e9 guardat a /muntatge i, per tant, visible al client. A la part superior de la imatge, veiem el client accedint al directori /muntatge , mentre que a la part inferior hi ha el servidor. En aquest punt, al servidor, creem una alerta de mail amb prioritat alert i un missatge. Com podem observar, l'alerta no es reflecteix ni als logs actuals de la m\u00e0quina ni al directori del client, ja que encara no s'ha enviat l'ordre de creaci\u00f3 del log. En aquest punt, acabem d'enviar la comanda per crear el log . Ara, el podem veure als logs de la nostra m\u00e0quina i, si fem un ls -l al client, tamb\u00e9 hi ser\u00e0 visible. Aix\u00ed, podem comprovar que el fitxer amb el log creat ha estat rebut correctament pel client. Comprovaci\u00f3 del fitxer nfs.log del client: Una \u00faltima comprovaci\u00f3 consisteix a crear un log amb prioritat alert i verificar que arriba al client, per\u00f2 no es guarda al fitxer mail.log del servidor, ja que ha de ser enviat al directori compartit /logs . Aix\u00ed, el log es desar\u00e0 en el directori compartit i ser\u00e0 visible tant al servidor com al client, per\u00f2 no al fitxer mail.log .","title":"Compartici\u00f3 dels logs"},{"location":"sprint4/#2-administracio-remota-team-viewer","text":"Primer de tot, des del client, hem d'anar a la web de TeamViewer i descarregar el fitxer. En el meu cas, he descarregat la versi\u00f3 .tar.gz . Podem veure que tenim descarregada l'aplicaci\u00f3 amb el seu executable: Si l'executem i li donem a TeamViewer , ens apareixer\u00e0 una finestra on haurem de fer clic a Acceptar i continuar per poder utilitzar l'aplicaci\u00f3. Seguidament, s'obrir\u00e0 i ens mostrar\u00e0 la seg\u00fcent finestra que indica el nostre ID per connectar un dispositiu que ens controlar\u00e0, aix\u00ed com la contrasenya de connexi\u00f3 corresponent. En aquest punt, hem d'anar a la m\u00e0quina que controlar\u00e0 al client . Accedim a la web de TeamViewer i creem un compte per poder accedir a l'aplicaci\u00f3 web i, aix\u00ed, connectar-nos amb el client. Ara, introdu\u00efm el ID del client a l'apartat de la dreta i fem clic a Connectar per poder visualitzar la m\u00e0quina del client en la nostra. A la m\u00e0quina del client, ens demanar\u00e0 que acceptem els permisos per permetre la connexi\u00f3 d'un dispositiu. Si estem d'acord, fem clic a Acceptar . En aquest punt, ja tindrem connectades les dues m\u00e0quines i podrem veure, al nostre ordinador, la m\u00e0quina del client . Ara, des del nostre ordinador, podem crear els logs necessaris que s'executaran al client . Veiem el seu directori arrel per comprovar que t\u00e9 el directori /logs , on s'emmagatzemen tots els logs que tenim especificats. Crearem un log amb prioritat alert per a mail amb un missatge. Aquest log es guardar\u00e0 al directori /logs si tot funciona correctament. L'enviem, i efectivament es guarda en /logs/nfs.log i no en /var/log/mail.log . Com hem esmentat a les seccions anteriors, aquest log s'enviar\u00e0 a l'altra m\u00e0quina connectada per NFS . Tamb\u00e9, amb journalctl -p alert , podem veure les prioritats alert que s'han executat anteriorment, i aix\u00ed podrem veure la que hem creat als passos anteriors.","title":"2. ADMINISTRACI\u00d3 REMOTA (TEAM VIEWER)"},{"location":"sprint4/#3-llicenciament","text":"","title":"3. LLIC\u00c8NCIAMENT"},{"location":"sprint4/#que-son-les-llicencies","text":"Les llic\u00e8ncies de programes s\u00f3n contractes legals que defineixen els drets i restriccions dels usuaris en l'\u00fas del programari, establerts entre el creador (llicenciador) i l'usuari (llicenciatari).","title":"Qu\u00e8 s\u00f3n les llic\u00e8ncies?"},{"location":"sprint4/#tipus-de-llicencies","text":"","title":"Tipus de llic\u00e8ncies"},{"location":"sprint4/#llicencies-privatives","text":"Model de negoci: Permeten comercialitzar el programari i obtenir beneficis. Suport i garanties: Inclouen suport t\u00e8cnic i garanties per als usuaris. Limitacions: No permeten personalitzar el programari i depenen d'un \u00fanic prove\u00efdor.","title":"Llic\u00e8ncies privatives"},{"location":"sprint4/#llicencies-foss","text":"Filosofia: Promou la llibertat d'usar, modificar i compartir el programari. Avantatges: Transpar\u00e8ncia, seguretat millorada i llibertat de personalitzaci\u00f3. Desafiaments: Suport t\u00e8cnic informal i possibles problemes de compatibilitat.","title":"Llic\u00e8ncies FOSS"},{"location":"sprint4/#altres-punts","text":"Llic\u00e8ncies duals: Ofereixen versions privatives i FOSS. Consideracions \u00e8tiques: Elecci\u00f3 basada en valors sobre llibertat i col\u00b7laboraci\u00f3. Drets d'autor: Les llic\u00e8ncies FOSS tamb\u00e9 tenen drets d'autor amb restriccions espec\u00edfiques.","title":"Altres punts"},{"location":"sprint4/#com-implementar-una-llicencia-en-una-aplicacio","text":"Crec que la millor llicencia per a un programari seri\u00e1 la llic\u00e8ncia EULA (Acord de Llic\u00e8ncia d'Usuari Final) que \u00e9s un contracte legal que defineix els drets i condicions d'\u00fas del programari. Presentaci\u00f3 durant la instal\u00b7laci\u00f3: L' EULA es presenta en el proc\u00e9s d'instal\u00b7laci\u00f3 i s'ha d'acceptar per continuar. Pot ser en format .txt , .rtf , PDF o HTML . Visualitzaci\u00f3 dins de l'aplicaci\u00f3: Es pot consultar des del men\u00fa \"Quant a\" o \"Ajuda\" . Tamb\u00e9 pot estar disponible a la documentaci\u00f3 en l\u00ednia o a la primera execuci\u00f3. Implementaci\u00f3 t\u00e8cnica: Els desenvolupadors utilitzen codi per mostrar l' EULA i registrar l'acceptaci\u00f3. Es poden utilitzar fitxers de registre o enviar la informaci\u00f3 a un servidor. L' EULA es pot firmar digitalment per evitar modificacions.","title":"Com implementar una llic\u00e8ncia en una aplicaci\u00f3?"},{"location":"sprint4/#exemple-duna-llicencia-eula","text":"Document informatiu que incorpora l' EULA : Finestra d'instal\u00b7laci\u00f3 d'un programari, en aquest cas de TeamViewer , on es mostra el llicenciament corresponent, el qual cal acceptar sempre que es vulgui continuar amb la instal\u00b7laci\u00f3.","title":"Exemple d'una llic\u00e8ncia EULA"}]}