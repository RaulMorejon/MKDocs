{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Documentaci\u00f3 de Sistemes inform\u00e0tics Benvinguts, soc Ra\u00fal Morej\u00f3n i en aquesta web trobareu tota la documentaci\u00f3 relacionada amb sistemes inform\u00e0tics. Descripci\u00f3 de l'assignatura En aquesta assignatura, explorarem diversos aspectes dels sistemes inform\u00e0tics, incloent-hi la teoria i la pr\u00e0ctica necess\u00e0ries per al seu bon funcionament. A m\u00e9s, es presentaran diferents projectes que he desenvolupat. \u00a9 Ra\u00fal Morej\u00f3n. Aquest treball est\u00e0 llicenciat sota una Llic\u00e8ncia Creative Commons Atribuci\u00f3 4.0 Internacional . Contacte","title":"Inici"},{"location":"#documentacio-de-sistemes-informatics","text":"Benvinguts, soc Ra\u00fal Morej\u00f3n i en aquesta web trobareu tota la documentaci\u00f3 relacionada amb sistemes inform\u00e0tics.","title":"Documentaci\u00f3 de Sistemes inform\u00e0tics"},{"location":"#descripcio-de-lassignatura","text":"En aquesta assignatura, explorarem diversos aspectes dels sistemes inform\u00e0tics, incloent-hi la teoria i la pr\u00e0ctica necess\u00e0ries per al seu bon funcionament. A m\u00e9s, es presentaran diferents projectes que he desenvolupat. \u00a9 Ra\u00fal Morej\u00f3n. Aquest treball est\u00e0 llicenciat sota una Llic\u00e8ncia Creative Commons Atribuci\u00f3 4.0 Internacional . Contacte","title":"Descripci\u00f3 de l'assignatura"},{"location":"permisos/","text":"Permisos La informaci\u00f3 continguda en aquest lloc web est\u00e0 subjecta a certes condicions d\u00fas i permisos. A continuaci\u00f3, es detallen els aspectes clau relacionats amb l\u00fas de la informaci\u00f3 d'aquest projecte: \u00das Perm\u00e8s \u2705 Consulta: Pots consultar la documentaci\u00f3 per aprendre. Copiar: Podeu copiar parts de la documentaci\u00f3 sempre que s'inclogui l'atribuci\u00f3 corresponent. Modificar: Pots modificar la documentaci\u00f3 per a \u00fas personal o educatiu, per\u00f2 no has de redistribuir les versions modificades sense perm\u00eds. \u00das Prohibit \ud83d\udeab Distribuci\u00f3 Comercial: No es permet la venda de la documentaci\u00f3 o el seu \u00fas en productes comercials. Alteracions Malintencionades: No pots alterar el contingut de la documentaci\u00f3 per difondre informaci\u00f3 incorrecta o maliciosa. Contacte \ud83d\udce8 Si vols obtenir m\u00e9s informaci\u00f3 sobre els permisos no dubtis en contactar per correu: raulmorejon@iesebre.com","title":"Pol\u00edtiques d'\u00fas i contacte"},{"location":"permisos/#permisos","text":"La informaci\u00f3 continguda en aquest lloc web est\u00e0 subjecta a certes condicions d\u00fas i permisos. A continuaci\u00f3, es detallen els aspectes clau relacionats amb l\u00fas de la informaci\u00f3 d'aquest projecte:","title":"Permisos"},{"location":"permisos/#us-permes","text":"Consulta: Pots consultar la documentaci\u00f3 per aprendre. Copiar: Podeu copiar parts de la documentaci\u00f3 sempre que s'inclogui l'atribuci\u00f3 corresponent. Modificar: Pots modificar la documentaci\u00f3 per a \u00fas personal o educatiu, per\u00f2 no has de redistribuir les versions modificades sense perm\u00eds.","title":"\u00das Perm\u00e8s \u2705"},{"location":"permisos/#us-prohibit","text":"Distribuci\u00f3 Comercial: No es permet la venda de la documentaci\u00f3 o el seu \u00fas en productes comercials. Alteracions Malintencionades: No pots alterar el contingut de la documentaci\u00f3 per difondre informaci\u00f3 incorrecta o maliciosa.","title":"\u00das Prohibit \ud83d\udeab"},{"location":"permisos/#contacte","text":"Si vols obtenir m\u00e9s informaci\u00f3 sobre els permisos no dubtis en contactar per correu: raulmorejon@iesebre.com","title":"Contacte \ud83d\udce8"},{"location":"sprint1/","text":"Sprint 1","title":"Sprint 1"},{"location":"sprint1/#sprint-1","text":"","title":"Sprint 1"},{"location":"sprint2/","text":"Gesti\u00f3 de la Informaci\u00f3 del Sistema i Administraci\u00f3 1. Configuraci\u00f3 inicial Primer de tot, s'ha d'instal\u00b7lar Ubuntu Linux en una m\u00e0quina virtual. Per fer la instal\u00b7laci\u00f3, s'ha d'anar a la p\u00e0gina oficial d'Ubuntu per descarregar l'arxiu .ISO . Aquest fitxer cont\u00e9 la imatge necess\u00e0ria per poder instal\u00b7lar Ubuntu en la m\u00e0quina virtual. Descarregar Ubuntu Per descarregar Ubuntu, clica l'enlla\u00e7 i espera que es faci la desc\u00e0rrega autom\u00e0tica de Ubuntu Desktop 24.04.1 LTS . Un cop finalitzada la desc\u00e0rrega, tindr\u00e0s el fitxer .ISO llest per ser utilitzat. Crear la m\u00e0quina virtual amb VirtualBox Despr\u00e9s de la desc\u00e0rrega, cal obrir un programa per crear m\u00e0quines virtuals. En aquest cas, s'utilitzar\u00e0 VirtualBox . Aquesta eina ens permetr\u00e0 crear i gestionar la m\u00e0quina virtual en qu\u00e8 instal\u00b7larem Ubuntu. Un cop instal\u00b7lat VirtualBox al teu ordinador, pots comen\u00e7ar a crear la m\u00e0quina virtual seguint els passos necessaris. Afegir i configurar la m\u00e0quina En aquest apartat es comen\u00e7ar\u00e0 amb la creaci\u00f3 d'una m\u00e0quina virtual utilitzant l'arxiu .ISO descarregat en l'apartat anterior. Tamb\u00e9 es far\u00e0 la configuraci\u00f3 de l'entorn necessari per posar la m\u00e0quina en funcionament. Passos a seguir: Obrim VirtualBox i busquem a la part superior el bot\u00f3 \"Nova\" per comen\u00e7ar el proc\u00e9s de creaci\u00f3 de la m\u00e0quina virtual. En la finestra seg\u00fcent, cal posar el nom de la m\u00e0quina virtual. A la secci\u00f3 \"ISO image\" , seleccionarem ISO descarregat al principi de l'article per configurar la imatge d'instal\u00b7laci\u00f3 de la m\u00e0quina virtual. Un cop seleccionat el fitxer, fem clic a Endavant per continuar. A continuaci\u00f3, cal introduir un nom d'usuari i una contrasenya que compleixi els requisits m\u00ednims de seguretat. Aquesta informaci\u00f3 ser\u00e0 necess\u00e0ria per accedir al sistema operatiu un cop estigui instal\u00b7lat. Ara s'ha de configurar la quantitat de mem\u00f2ria RAM que es vol assignar a la m\u00e0quina virtual. Tamb\u00e9 cal especificar la quantitat de processos de la CPU que es volen utilitzar. Finalment, cal determinar la mida del disc dur virtual per emmagatzemar els fitxers del sistema operatiu i altres dades. Crear i gestionar comptes d'usuari locals Passarem a veure la creaci\u00f3 d'usuaris locals. Per crear-lo s'utilitzar\u00e0 la comanda adduser : Introdu\u00efm una S o premem enter per seguir amb la creaci\u00f3: 2. Processos Els processos en Linux poden ser de dos tipus: en primer pla o en segon pla . Els processos en primer pla interactuen amb l'usuari i bloquegen la terminal fins que finalitzen, mentre que els processos en segon pla poden continuar executant-se mentre l'usuari segueix utilitzant la terminal. A m\u00e9s, els processos poden tenir una prioritat alta o baixa, depenent de la seva import\u00e0ncia o de la configuraci\u00f3 del sistema. Els processos poden estar en diversos estats: Running : El proc\u00e9s s'est\u00e0 executant. Sleeping : El proc\u00e9s est\u00e0 inactiu, esperant una acci\u00f3 externa. Stopped : El proc\u00e9s est\u00e0 aturat. Zombie : El proc\u00e9s ha acabat, per\u00f2 encara apareix a la taula de processos perqu\u00e8 el proc\u00e9s pare no ha llegit el seu estat de sortida. Comandes b\u00e0siques per gestionar els processos A continuaci\u00f3, es mostren algunes de les comandes m\u00e9s utilitzades per gestionar els processos en Linux: ps : Mostra una llista de processos en execuci\u00f3. Per exemple, amb ps aux es mostra una llista completa de tots els processos en execuci\u00f3 amb informaci\u00f3 detallada. top : Mostra informaci\u00f3 en temps real sobre els processos i l'\u00fas de recursos del sistema. Aquesta comanda mostra els processos m\u00e9s pesats en termes d'\u00fas de recursos. kill : Permet enviar una senyal a un proc\u00e9s, habitualment per aturar-lo. Per obtenir el PID (Process ID) del proc\u00e9s que vols aturar, primer pots utilitzar la comanda top . Un cop obtingut el PID, pots utilitzar kill PID per aturar el proc\u00e9s. Per exemple, si utilitzem el PID = 2463 , podem matar el proc\u00e9s amb la comanda seg\u00fcent, la qual tancar\u00e0 el terminal del sistema. bg i fg : Aquests comandaments permeten moure un proc\u00e9s entre el primer pla i el segon pla. Per fer una prova, crearem un proc\u00e9s d'espera de 1000 segons : Seguidament, utilitzarem CTRL + Z per aturar-lo, per\u00f2 sense matar el proc\u00e9s: La comanda bg envia un proc\u00e9s aturat al segon pla. Llavors, utilitzem bg sleep per passar el proc\u00e9s al segon pla: La comanda fg porta un proc\u00e9s del segon pla al primer pla. Per exemple, utilitzem fg per passar el proc\u00e9s creat abans al primer pla: pstree : Mostra els processos en forma d'arbre, mostrant les relacions entre processos. Per veure-ho, utilitzem la comanda pstree al terminal: 3. Instal\u00b7laci\u00f3 de Serveis Essencials Abans d'instal\u00b7lar qualsevol servei, \u00e9s recomanable assegurar-se que el sistema estigui actualitzat. Per aix\u00f2, es far\u00e0 \u00fas de la comanda sudo apt update : Despr\u00e9s, es realitza la comanda sudo apt upgrade : Gesti\u00f3 de Serveis Un cop instal\u00b7lats els serveis, es poden gestionar amb la comanda systemctl . Aquesta comanda permet iniciar, parar o reiniciar serveis. A continuaci\u00f3 es mostra un exemple d'aquesta comanda amb el servei SSH : Tamb\u00e9 podem editar el fitxer de configuraci\u00f3 de SSH , obrint-lo amb la comanda sudo nano /etc/ssh/sshd_config per fer els seg\u00fcents canvis: Desactivar l'acc\u00e9s del root amb PermitRootLogin no : Permetre l'acc\u00e9s per contrasenya amb PasswordAuthentication yes : Comprovar Processos en Execuci\u00f3 Per veure els processos en execuci\u00f3, podem utilitzar comandes com top , que ens mostra els processos en temps real, o podem obtenir una instant\u00e0nia dels processos amb ps aux , com es veu a la captura: Tamb\u00e9 podem cercar i filtrar un proc\u00e9s espec\u00edfic amb la comanda grep : Una comanda m\u00e9s \u00fatil que les anteriors \u00e9s htop , que mostra tots els processos en execuci\u00f3 en temps real, el seu \u00fas de CPU i mem\u00f2ria. La instal\u00b7larem amb sudo apt install htop i la podrem executar: Optimitzar l'\u00das de Recursos Per comprovar l'\u00fas de la mem\u00f2ria i la CPU en temps real, podem utilitzar la comanda vmstat 1 : Per optimitzar l'espai quan l'equip utilitza un disc SSD, podem fer servir la comanda sudo fstrim -v . I per mantenir el sistema optimitzat, \u00e9s recomanable mantenir-lo actualitzat. Actualitzar amb sudo apt update && sudo apt upgrade : Administrar Serveis Actius Segons les Necessitats del Sistema Per identificar els serveis actius, utilitzarem la comanda systemctl : S'ha de revisar quins serveis s'estan executant i determinar si s\u00f3n necessaris. Per aturar serveis innecessaris, utilitzarem la comanda sudo systemctl stop nom_del_servei . Si un servei no \u00e9s necessari a l'inici del sistema, \u00e9s millor deshabilitar-lo amb sudo systemctl disable nom_del_servei . Si es necessita un servei per a una tasca espec\u00edfica, es pot habilitar temporalment amb la comanda sudo systemctl enable nom_del_servei , de manera que s'iniciar\u00e0 autom\u00e0ticament a l'arrencada. 4. Usuaris i Grups Per revisar la llista d'usuaris creats al sistema, anirem al fitxer /etc/passwd : Per eliminar un usuari de qualsevol grup, podem utilitzar la comanda deluser nom_usuari nom_grup : Per crear un grup , utilitzarem la comanda sudo groupadd nom_grup , i despr\u00e9s comprovarem aquest grup amb la comanda getent group | grep nom_grup : Per afegir un usuari a un grup creat o existent, utilitzarem la comanda sudo usermod -aG nom_grup nom_usuari . Aquesta comanda no retorna cap missatge. Despr\u00e9s, farem una comprovaci\u00f3 dels grups als quals pertany l'usuari amb groups nom_usuari : Tamb\u00e9 podem crear un usuari dins d'un grup amb la comanda adduser nom_usuari nom_grup . Despr\u00e9s, comprovarem que al grup sudo tenim dos usuaris: La primera part de la l\u00ednia \u00e9s el nom del grup, seguida d'una \"X\" que indica que no s'utilitza contrasenya per al grup. Despr\u00e9s ve l'identificador del grup i una llista d'usuaris membres del grup. Per canviar la contrasenya d'un usuari, utilitzarem la comanda passwd nom_usuari . Ens demanar\u00e0 una nova contrasenya, mantenint la privacitat de les dades de l'usuari: Al fitxer /etc/passwd , podem trobar informaci\u00f3 b\u00e0sica sobre els comptes d'usuari, com el nom de l'usuari, l'identificador \u00fanic d'usuari (UID), i el directori personal de l'usuari: Al fitxer /etc/shadow es guarden les contrasenyes encriptades de cada usuari. La l\u00ednia de cada usuari cont\u00e9 informaci\u00f3 sobre quan es va canviar la contrasenya per \u00faltima vegada, els dies d'espera per canviar la contrasenya, i altres par\u00e0metres de seguretat: Per crear un sistema personal d'arxius per a un usuari, utilitzarem la comanda mkdir nom_usuari/carpeta . Per\u00f2, per defecte, el directori ser\u00e0 propietat de l'usuari root . Per canviar el propietari i el grup, utilitzarem la comanda chown nom_usuari:nom_grup directori : Per bloquejar un usuari , utilitzarem la comanda usermod -L nom_usuari . A l'arxiu /etc/shadow , l'usuari apareixer\u00e0 amb un ! , indicant que el compte est\u00e0 bloquejat. Per desbloquejar-lo, utilitzarem usermod -U nom_usuari : Per eliminar un usuari , utilitzarem la comanda deluser nom_usuari , per\u00f2 aquesta comanda no eliminar\u00e0 el directori personal de l'usuari. Si volem eliminar tot, incl\u00f2s el directori personal, utilitzarem userdel -r nom_usuari : Per canviar el nom d'usuari , utilitzarem la comanda usermod -l nom_nou nom_usuari . Aquesta comanda no canvia el nom del directori personal. Per aix\u00f2, haurem de fer servir mv directori_antic/ directori_nou/ : Per\u00f2 encara caldr\u00e0 actualitzar el grup al qual pertany l'usuari. Per canviar el nom del grup, utilitzarem la comanda groupmod -n nom_nou nom_grup : Finalment, el nom de l'usuari i el grup hauran estat canviats correctament. Definir pol\u00edtiques de seguretat per a contrasenyes i accessos Per gestionar les pol\u00edtiques de contrasenyes, hem de modificar el fitxer /etc/login.defs : Obrim el fitxer amb sudo nano /etc/login.defs : Modifiquem la l\u00ednia PASS_MAX_DAYS per establir la durada m\u00e0xima de la contrasenya, i altres par\u00e0metres si cal: Tamb\u00e9 podem configurar la qualitat de les contrasenyes, com la longitud m\u00ednima. Per fer-ho, obrim el fitxer /etc/security/pwquality.conf amb sudo nano /etc/security/pwquality.conf : Busquem la l\u00ednia minlen = i establim el n\u00famero m\u00ednim de car\u00e0cters per a la contrasenya: Configuracions de l'inici de sessi\u00f3 Per configurar els arxius de bash en l'inici de sessi\u00f3 d'un usuari, cal accedir a diversos fitxers en el directori de cada usuari. Aquests fitxers estan ocults, aix\u00ed que utilitzarem la comanda ls -la per veure'ls: El fitxer .bash_logout executa ordres quan es tanca una sessi\u00f3 de Bash. El fitxer .bashrc configura l'entorn cada vegada que s'obre una nova terminal de Bash. El fitxer .profile s'executa quan s'inicia una sessi\u00f3 de login, configurant l'entorn global de l'usuari. Si volem aplicar aquestes configuracions a tots els usuaris que es cre\u00efn, hem de modificar aquests fitxers en el directori /etc/skel : Farem les configuracions pertinents als seg\u00fcents fitxers .bash_logout : .bashrc : .profile : 5. Permisos Permisos normals El primer que farem ser\u00e0 crear els tres usuaris seg\u00fcents: Els permisos en Linux es divideixen en tres grups, que s'assignen de la seg\u00fcent manera: Propietari : Els tres primers permisos. Grup propietari : Els tres permisos seg\u00fcents. Altres : Els tres permisos finals. Quan creem un arxiu, aquest comen\u00e7ar\u00e0 amb - , mentre que si es crea un directori, comen\u00e7ar\u00e0 amb d . Permisos en arxius Lletres dels permisos : r : Lectura w : Escriptura (modificaci\u00f3) x : Execuci\u00f3 Creem un grup anomenat ddam i afegim l'usuari prova2 : A continuaci\u00f3, creem una carpeta a /tmp i un fitxer anomenat hola . Si revisem els permisos d'aquesta carpeta, podem veure el seg\u00fcent: Propietari : Permisos totals (lectura, escriptura i execuci\u00f3). Grup : Permisos totals (lectura, escriptura i execuci\u00f3). Altres : Nom\u00e9s permisos de lectura i execuci\u00f3, sense perm\u00eds d'escriptura. Canviar grup amb chgrp El comandament chgrp s'utilitza per canviar el grup d'un directori o fitxer. Si es fa servir amb l'opci\u00f3 -R , el canvi es realitza de manera recursiva, \u00e9s a dir, no nom\u00e9s sobre el fitxer o directori especificat, sin\u00f3 tamb\u00e9 sobre tots els fitxers i subdirectoris dins d'ell. Creem el directori proves i l'assignem al grup ddam : Ara, el directori pertany al grup ddam : Modificar permisos amb chmod El comandament chmod s'utilitza per modificar els permisos dels fitxers i directoris. Els permisos es representen amb n\u00fameros: 7 : Permisos totals (lectura, escriptura, execuci\u00f3). 5 : Permisos de lectura i execuci\u00f3. 0 : Sense permisos. Exemple de com modificar els permisos d'un fitxer o directori: Tamb\u00e9 podem afegir permisos als grups de la seg\u00fcent manera. Per exemple, g+w afegeix el perm\u00eds d'escriptura al grup propietari, i o+r afegeix el perm\u00eds de lectura als \"altres\" usuaris: Quan s'assignen permisos de modificaci\u00f3 i execuci\u00f3, els arxius o directoris es ressalten en color verd: Permisos especials. Podem assignar permisos diferents a un directori o carpeta per a un usuari. Per exemple, podem configurar-los perqu\u00e8 cadasc\u00fa pugui esborrar nom\u00e9s els fitxers que ha creat, per\u00f2 no els dels altres. Per aconseguir-ho, farem servir el Sticky Bit . Creaci\u00f3 de la carpeta i el fitxer Creem una carpeta anomenada pelis i un fitxer anomenat script.sh dins d'aquesta carpeta: Assignem permisos d'execuci\u00f3 al fitxer script.sh , per tal que sigui executable pels usuaris que tinguin els permisos adequats: Afegim el perm\u00eds setuid (u+s) a l'script. Aquest perm\u00eds fa que l'script sigui executat per diversos usuaris, per\u00f2 amb els permisos del propietari del fitxer. Quan s'aplica aquest perm\u00eds, el fitxer canviar\u00e0 de color a vermell per indicar que el perm\u00eds ha estat afegit: El bit 4 indica que quan s'executi el fitxer, s'executar\u00e0 amb els permisos del propietari i no amb els del usuari que l'est\u00e0 executant. Aix\u00f2 assegura que l'script s'executi amb els privilegis necessaris per dur a terme les accions que requereix: Afegim el Sticky Bit (t) a la carpeta pelis . Aquest perm\u00eds fa que tots els usuaris poden veure el contingut de la carpeta, per\u00f2 nom\u00e9s podran eliminar els fitxers que han creat ells mateixos. Aix\u00f2 evita que un usuari pugui esborrar fitxers creats per altres usuaris dins del mateix directori: Creem dos fitxers dins de la carpeta pelis i comprovem el comportament amb diferents usuaris. Cada usuari nom\u00e9s pot veure els fitxers, per\u00f2 no pot eliminar els fitxers creats per altres usuaris, nom\u00e9s els que ha creat ell mateix: Permisos ACLs Amb l'ordre getfacl podem veure els permisos dividits per grups i si hi ha algun perm\u00eds especial aqu\u00ed el podreu veure: Pr\u00e8viament hem creat l'usuari proves3 i ho hem ficat al grup ddam i l'hi afegim permisos especials amb setfcal , sense permisos en aquest cas, que t\u00e9 m\u00e9s prioritat que el perm\u00eds de l'usuari que ja tenia . Per veure'ls de nou fem servir la comanda getfacl i a la segona l\u00ednia surt aquest perm\u00eds especial. Si teniu permisos especials es mostra amb el + al final dels diversos permisos. setfacl -m user:nom_usuari:--- fixer.txt setfacl -m group:nom_usuari:--- carpeta setfacl -b fitxer/carpeta Confirmem que l'usuari prova3 no t\u00e9 permisos de cap tipus ja que no deixa ni entrar a la carpeta: Restablim els permisos especials: 6. Particions Estructura de l'informaci\u00f3 La estructura de l'informaci\u00f3 es refereix a com es distribueix i s'emmagatzema la informaci\u00f3 dins d'un sistema d'emmagatzematge, com un disc dur o una mem\u00f2ria. En aquest context, hem de tenir en compte dos conceptes importants: la fragmentaci\u00f3 interna i la fragmentaci\u00f3 externa . Mida de sector i mida de bloc Mida de sector : El sector \u00e9s la unitat m\u00e9s petita d'emmagatzematge en un disc o sistema d'arxius. \u00c9s una porci\u00f3 del disc on es poden llegir o escriure dades. Normalment, els sectors tenen una mida de 512 bytes, tot i que tamb\u00e9 poden ser de 4 KB en discs m\u00e9s moderns. Mida de bloc : El bloc \u00e9s una unitat d'emmagatzematge l\u00f2gica utilitzada pel sistema d'arxius. Normalment, un bloc \u00e9s m\u00e9s gran que un sector i la seva mida pot variar depenent del sistema d'arxius (per exemple, 4 KB, 8 KB, etc.). Els arxius es divideixen en blocs per al seu emmagatzematge. Fragmentaci\u00f3 interna La fragmentaci\u00f3 interna es produeix quan un arxiu petit no omple completament el bloc d'emmagatzematge assignat. Per exemple, si un bloc \u00e9s de 4 KB per\u00f2 un arxiu nom\u00e9s ocupa 1 KB, els 3 KB restants del bloc es queden desaprofitats, cosa que provoca un \u00fas ineficient de l'espai. Soluci\u00f3 : Per evitar la fragmentaci\u00f3 interna, es podria fer que els blocs fossin m\u00e9s petits, cosa que permetria aprofitar millor l'espai. Tanmateix, fer els blocs m\u00e9s petits tamb\u00e9 t\u00e9 inconvenients, ja que podria comportar una major quantitat de blocs que cal llegir i escriure, la qual cosa podria fer que el sistema fos m\u00e9s lent. A m\u00e9s, quan es suprimeix un arxiu, els blocs buits s'han de gestionar, la qual cosa pot disminuir l'efici\u00e8ncia general. Fragmentaci\u00f3 externa La fragmentaci\u00f3 externa es produeix quan un arxiu es divideix en diversos blocs dispersos per tot el sistema d'emmagatzematge, en lloc d'emmagatzemar-se de manera contigua. Aix\u00f2 passa quan els arxius es guarden en blocs diferents sense un ordre espec\u00edfic, el que pot alentir l'acc\u00e9s a l'arxiu, ja que el sistema ha de buscar els blocs en diferents parts del disc. Soluci\u00f3 : La desfragmentaci\u00f3 \u00e9s la t\u00e8cnica utilitzada per resoldre aquest problema. Consisteix a reorganitzar els blocs dels arxius de manera que s'emmagatzemin de forma contigua, millorant aix\u00ed la velocitat d'acc\u00e9s. Amb les eines de desfragmentaci\u00f3, es pot analitzar i reorganitzar el disc per minimitzar la fragmentaci\u00f3 externa i millorar el rendiment general. Estructura F\u00edsica Mec\u00e0nica : En discos durs tradicionals (HDD), l'estructura f\u00edsica \u00e9s mec\u00e0nica, amb components m\u00f2bils com discs magn\u00e8tics i bra\u00e7os d'acc\u00e9s que es mouen per llegir i escriure dades. Els HDD solen ser m\u00e9s lents a causa d'aquestes parts m\u00f2bils. S\u00f2lida : En discos de mem\u00f2ria s\u00f2lida (SSD), l'estructura \u00e9s electr\u00f2nica, sense parts m\u00f2bils, utilitzant mem\u00f2ria flash per emmagatzemar dades. Els SSD tenen velocitats d'acc\u00e9s molt m\u00e9s r\u00e0pides que els HDD, ja que no depenen de components mec\u00e0nics. Estructura L\u00f2gica GPT (GUID Partition Table) : \u00c9s un sistema modern per gestionar particions, amb suport per a discos de m\u00e9s de 2 TB i fins a 128 particions. GPT \u00e9s m\u00e9s fiable i flexible que MBR, i \u00e9s \u00e0mpliament utilitzat en sistemes modernes. MBR (Master Boot Record) : \u00c9s un sistema antic de 32 bits, amb limitacions de capacitat i nombre de particions (fins a 2 TB i 4 particions). Tot i que encara es fa servir en alguns sistemes m\u00e9s antics, GPT \u00e9s el sistema preferit en dispositius moderns. Per veure quina estructura l\u00f2gia tenim el que es fara sera executar la comanda gdisk /dev/sda : Per llistar els discs i particions, farem \u00fas de la comanda fdisk . Podrem veure tots els sectors amb un tamany de 512 bytes , que \u00e9s la unitat m\u00ednima f\u00edsica on es guarden les dades. Tamany del Bloc Seguidament, observarem el tamany actual del bloc , que per defecte \u00e9s de 4096 bytes . Aquest tamany es pot canviar depenent de l'\u00fas. Les dades es guarden en 8 sectors . Tamany del Fitxer en el Sistema A continuaci\u00f3, podem veure que un fitxer ocupa m\u00e9s en el sistema operatiu del que pesa el propi fitxer, ja que el bloc t\u00e9 un tamany m\u00ednim assignat. Creem el fitxer hola amb el seu contingut, i amb les opcions -b veiem el tamany del propi document, mentre que amb -sh veiem el que ocupa en el sistema. Visualitzaci\u00f3 de l'\u00das d'Espai Amb la comanda df -T podem veure l'unitat d'emmagatzematge i totes les parts que estan en \u00fas: Llistar Dispositius Connectats Per veure tots els dispositius connectats al teu sistema, incloent discs i particions, farem \u00fas de la comanda lsblk : Primer de tot, per crear una nova partici\u00f3, farem \u00fas de sudo fdisk /dev/sda , sent sda l'identificador del teu disc: Seguidament, haurem d'escriure n i pressionar Enter per crear la nova partici\u00f3. El sistema ens preguntar\u00e0 si volem crear una partici\u00f3 prim\u00e0ria (p) o estesa (e) . En aquest cas, seleccionarem una partici\u00f3 prim\u00e0ria (p) . Ara, especificarem el n\u00famero de partici\u00f3, o podem utilitzar el n\u00famero suggerit per defecte. Premem Enter per acceptar el valor per defecte del primer sector i, tot seguit, definirem la mida de la partici\u00f3 en GB , per exemple, +20GB . Tamb\u00e9 podem pressionar Enter per assignar tota la capacitat disponible al disc. Per verificar la nova partici\u00f3, haurem d'escriure p per llistar les particions i assegurar-nos que la nova partici\u00f3 s'ha creat correctament. Per guardar els canvis, escrivim w i pressionem Enter . Aix\u00f2 escriur\u00e0 la nova taula de particions i sortir\u00e0 de fdisk . Finalment, per crear un sistema d'arxius en la nova partici\u00f3: sudo mkfs.ext4 /dev/sda3 . Tipus de formateig Format de alt nivell (r\u00e0pid) : Elimina el sistema de fitxers existent, per\u00f2 no borra els arxius . Crea una nova estructura del sistema de fitxers, per\u00f2 les dades poden ser recuperades mitjan\u00e7ant eines de recuperaci\u00f3. \u00c9s el m\u00e9s r\u00e0pid i generalment utilitzat quan volem reutilitzar un dispositiu d'emmagatzematge sense perdre dades de manera permanent immediata. Format normal : Elimina el sistema de fitxers i marca els sectors defectuosos . Els arxius desapareixen, per\u00f2 encara poden ser recuperats fins que es sobreescriguin amb nous fitxers. Aquest tipus de format \u00e9s \u00fatil quan el dispositiu pot tenir problemes de seguretat o corrupci\u00f3 i volem netejar la unitat. Format de baix nivell (lent) : Borra totes les dades de manera exhaustiva, incloent-hi l\u2019estructura f\u00edsica del disc. El disc es restaura al seu estat inicial, com si fos nou. \u00c9s el proc\u00e9s m\u00e9s lent i permanent, ja que les dades es perden de forma irreversible. Es recomana per a situacions on la seguretat \u00e9s crucial, ja que assegura la destrucci\u00f3 de dades de manera completa. Qu\u00e8 \u00e9s un sistema de fitxers? Un sistema de fitxers \u00e9s un conjunt de mecanismes que organitza, gestiona i emmagatzema fitxers en un dispositiu d'emmagatzematge com un disc dur, SSD o dispositius de mem\u00f2ria extra\u00efble. Un sistema de fitxers defineix la manera en qu\u00e8 es guarden les dades, com s'hi accedeix, i com es gestionen els noms i permisos dels fitxers. Aquests sistemes determinen com els arxius s\u00f3n organitzats en el disc, com s\u00f3n identificats, llegits, escrits, i gestionats, aix\u00ed com la manera en qu\u00e8 es gestionen els permisos d'acc\u00e9s i la seguretat de les dades. Exemples comuns de sistemes de fitxers : ext4 : Sistema de fitxers usat habitualment en distribucions de Linux, conegut per la seva estabilitat i efici\u00e8ncia. NTFS : Sistema de fitxers propietari de Microsoft, utilitzat en la majoria dels sistemes Windows, amb suport per a arxius grans i seguretat avan\u00e7ada. FAT32 : Un sistema m\u00e9s antic, compatible amb molts dispositius i sistemes operatius, per\u00f2 amb limitacions, com la mida m\u00e0xima d'arxiu de 4 GB. Btrfs : Un sistema de fitxers de nova generaci\u00f3 per a Linux, orientat a la gesti\u00f3 avan\u00e7ada de dades i a la integritat dels arxius. XFS : Un sistema de fitxers altament escalable i de rendiment elevat, utilitzat principalment en entorns de servidor. Apuntadors i gesti\u00f3 dels fitxers Inode : Cada fitxer en un sistema de fitxers t\u00e9 un inode associat. L'inode emmagatzema tota la informaci\u00f3 del fitxer, com ara els permisos, la mida, les dates de creaci\u00f3 i modificaci\u00f3, aix\u00ed com la ubicaci\u00f3 f\u00edsica de les dades en el disc. Important : L'inode no cont\u00e9 el nom del fitxer. El nom del fitxer es guarda en un directori que apunta a un inode espec\u00edfic. Directoris : Els directoris s\u00f3n estructures de dades especials que actuen com a taules de mapeig. Vinculen els noms dels fitxers amb els seus respectius inodes . En lloc de contenir les dades reals dels fitxers, els directoris contenen enlla\u00e7os (apuntadors) als inodes que representen cada fitxer. Aix\u00f2 permet accedir al fitxer a trav\u00e9s del seu nom. Apuntadors a blocs de dades : Els inodes contenen apuntadors que referencien els blocs de dades on es desa el contingut real del fitxer. Els blocs de dades s\u00f3n les unitats f\u00edsiques d'emmagatzematge on es guarden les dades. Quan un fitxer \u00e9s petit, pot ser emmagatzemat en un \u00fanic bloc. Tanmateix, per a fitxers m\u00e9s grans, es poden utilitzar apuntadors dobles o triples : Apuntadors simples : Apunten directament als blocs de dades. Apuntadors dobles : Apunten a blocs que, al seu torn, contenen m\u00e9s apuntadors a blocs de dades. Apuntadors triples : Apunten a blocs que contenen apuntadors dobles, oferint una capa addicional de refer\u00e8ncies per a fitxers molt grans. Creaci\u00f3 de particions Primer de tot, cal saber que EXT4 \u00e9s un sistema de fitxers utilitzat principalment en Linux. Aquest sistema de fitxers millora la gesti\u00f3 de particions mitjan\u00e7ant diverses caracter\u00edstiques importants com ara: seguretat de registres de canvis , que permet mantenir un registre dels canvis realitzats al sistema de fitxers, facilitant la recuperaci\u00f3 en cas de fallades; suport per a fitxers i particions m\u00e9s grans , permetent gestionar volums de dades molt m\u00e9s grans que altres sistemes de fitxers com FAT32; millora de l'organitzaci\u00f3 i reducci\u00f3 de la fragmentaci\u00f3 , la qual cosa redueix la fragmentaci\u00f3 i millora la velocitat d'acc\u00e9s als arxius; m\u00e9s r\u00e0pid i compatible amb versions anteriors , sent m\u00e9s eficient i mantenint compatibilitat amb versions antigues del sistema operatiu Linux; i fiabilitat i adequaci\u00f3 per a grans volums de dades , ja que \u00e9s un sistema robust i ideal per gestionar grans quantitats de dades. Per llistar totes les particions disponibles en el sistema, utilitzarem la comanda fdisk -l . Aquesta comanda mostrar\u00e0 totes les particions creades en els discs del sistema. Haurem de buscar una partici\u00f3 que hem creat pr\u00e8viament amb una mida de 2 GB. Una vegada provat el disc i sabent el seu nom, entrarem dins d'ell amb fdisk /dev/sdb : En aquest punt farem la Creaci\u00f3 d'una partici\u00f3 : Per crear la partici\u00f3, haurem d'introduir la lletra n , de new . Seguidament, el sistema ens far\u00e0 escollir entre una partici\u00f3 prim\u00e0ria o estesa . La difer\u00e8ncia principal \u00e9s la seg\u00fcent: La partici\u00f3 prim\u00e0ria es pot utilitzar directament per emmagatzemar dades o un sistema operatiu. La partici\u00f3 estesa serveix per crear m\u00faltiples particions l\u00f2giques dins d'ella. En el sistema MBR, es poden tenir fins a 4 particions prim\u00e0ries, per\u00f2 nom\u00e9s una partici\u00f3 estesa, que pot contenir diverses particions l\u00f2giques. En aquest cas, farem enter per escollir el valor predeterminat, que ser\u00e0 la partici\u00f3 prim\u00e0ria. En el nombre de particions, farem tamb\u00e9 \u00fas del valor predeterminat, que ser\u00e0 una sola partici\u00f3. Arribem a la part on hem d'escollir la mida de la partici\u00f3. El valor predeterminat \u00e9s una mica m\u00e9s de 4 milions de sectors, aix\u00ed que crearem una partici\u00f3 de la meitat, \u00e9s a dir, 2 milions de sectors . Finalment, introdu\u00efm w per guardar els canvis. Per verificar que la partici\u00f3 s'ha creat correctament, utilitzem fdisk -l i veiem el disc sdb de 2GB i la partici\u00f3 sdb1 : Amb la comanda mkfs.ext4 -b 2048 /dev/sdb1 el que estarem fent \u00e9s especificar la mida del bloc quan es crea un sistema de fitxers EXT4 en la partici\u00f3. En aquest cas, li estem indicant una mida de 2048 bytes , la qual \u00e9s \u00fatil per a arxius petits perqu\u00e8 permet un \u00fas m\u00e9s eficient de l'espai i redueix la fragmentaci\u00f3 interna. No obstant aix\u00f2, per arxius grans, podria ser menys eficient en termes de rendiment, ja que es necessiten m\u00e9s operacions per llegir o escriure els arxius. Comprovem la mida del bloc fent un grep del bloc de la nostra partici\u00f3 i veiem size = 2048 : Muntatge de particions El muntatge de particions \u00e9s el proc\u00e9s mitjan\u00e7ant el qual el sistema operatiu associa una partici\u00f3 o dispositiu d'emmagatzematge a un directori del sistema de fitxers, permetent accedir-hi i gestionar els arxius. Per muntar una partici\u00f3 es fa servir la comanda mount , i per desmuntar-la s'utilitza umount . Muntar una partici\u00f3 \u00e9s necessari abans de poder treballar amb els seus arxius al sistema. Tenim dues maneres de muntar una partici\u00f3: De forma temporal , \u00e9s a dir, que quan l'equip es reinicia, s'ha de tornar a muntar la partici\u00f3. De forma definitiva , una vegada muntada la partici\u00f3 ja no es \"perd\" aquest muntatge ni quan l'equip es reinicia. Muntatge temporal Primer de tot, creem un directori que s'anomenar\u00e0 particio1 . Farem el muntatge de la partici\u00f3 dins del directori que hem creat amb la comanda mount -t ext4 <partici\u00f3> <directori> . Algunes opcions de permisos que accepta aquesta comanda s\u00f3n les seg\u00fcents: -o rw : Muntatge en mode lectura-escriptura. -o ro : Muntatge en mode nom\u00e9s lectura. -o noatime : No actualitza el temps d'acc\u00e9s als fitxers, millorant el rendiment. -o uid=<id_usuari>, gid=<id_grup> : Assigna un usuari i grup espec\u00edfics als fitxers. -o noexec : Impedeix l'execuci\u00f3 de fitxers executables. -o umask=<mascara> : Controla els permisos per defecte dels fitxers creats. Aquestes opcions permeten personalitzar com es muntar\u00e0 la partici\u00f3 segons les necessitats del sistema. Podem veure que, una vegada muntada la partici\u00f3, en el directori creat han aparegut fitxers, i all\u00e0 mateix creem un fitxer de prova . Si la desmuntem amb la comanda umount , tots els fitxers no es mostren. No s'han eliminat, simplement la partici\u00f3 no est\u00e0 muntada i no apareixeran fins que es torni a muntar: Finalment , per veure que aquest muntatge \u00e9s temporal, el que s'ha de fer \u00e9s muntar la partici\u00f3 com ja s'ha explicat a dalt i reiniciar l'equip. Quan es torni a iniciar, hem de fer un ls del directori particio1 i veurem el directori buit, ja que s'ha desmuntat la partici\u00f3: Muntatge definitiu Per muntar la partici\u00f3 de forma definitiva, cal editar el fitxer de configuraci\u00f3 /etc/fstab , que cont\u00e9 informaci\u00f3 sobre les particions i dispositius d'emmagatzematge. Aquest fitxer especifica com i on s'han de muntar autom\u00e0ticament durant l'arrencada del sistema. Fem un nano /etc/fstab per editar aquest fitxer. Exemple d'una l\u00ednia : /dev/sdb1 /home.... ext4 rw 0 1 /dev/sdb1 : Aquesta ser\u00e0 la partici\u00f3 que es vol muntar. /home.... : \u00c9s el directori on es vol muntar el dispositiu. ext4 : \u00c9s el tipus de sistema de fitxers. rw : Indica els permisos que es poden atorgar, com escriptura, lectura o execuci\u00f3. 1 o 0 : Aquest valor especifica en quin ordre el sistema de fitxers ha de ser verificat durant l'inici. El valor 1 indica que aquest sistema de fitxers ha de ser verificat primer. Si fos 0 , el sistema de fitxers NO es verifica durant l'arrencada. Dins del fitxer, afegim la seg\u00fcent l\u00ednia per al nostre cas i la guardem: Reiniciem el sistema. Un cop reiniciat, anem al directori particio1 per comprovar que la partici\u00f3 segueix muntada correctament, ja que podem veure el seu contingut: En aquest punt ja tindrem muntada la partici\u00f3 de forma definitiva. Carpetes Compartides Les carpetes compartides s\u00f3n directoris configurats perqu\u00e8 altres usuaris o dispositius de la xarxa hi puguin accedir, facilitant l'intercanvi de fitxers i la col\u00b7laboraci\u00f3. Proc\u00e9s per compartir una carpeta: Primer de tot, s'ha de crear un disc en la m\u00e0quina virtual que ser\u00e0 de 3 GB. En aquest cas, el disc es dir\u00e0 sdc : Seguidament, amb la comanda fdisk /dev/sdc , crearem la primera partici\u00f3 del disc afegit anteriorment: Disc amb la seva partici\u00f3: EXT4 Seguidament, s'haur\u00e0 de formatejar la partici\u00f3 sdc1 amb el sistema de fitxers ext4 : Comanda: mkfs.ext4 /dev/sdc1 Mirem la IP de la nostra m\u00e0quina virtual i tamb\u00e9 del nostre ordinador f\u00edsic (client) amb la comanda ip a . IP de la m\u00e0quina virtual : 192.168.201.204 IP de l'ordinador f\u00edsic (client) : 192.168.122.1 Veiem que estan connectades a la mateixa xarxa IP, aix\u00ed podrem fer la compartici\u00f3 de carpetes. En aquest punt comprovem que la m\u00e0quina virtual t\u00e9 la xarxa establerta com a Adaptador pont . Seguidament, creem una carpeta al directori /var amb el nom de particio2 i canviem els permisos d'aquesta carpeta a chown nobody:nogroup , que canvia el propietari d'un fitxer o directori a l'usuari nobody i al grup nogroup , utilitzats per recursos sense associaci\u00f3 espec\u00edfica a usuaris o grups. Editarem l'arxiu /etc/fstab per canviar la direcci\u00f3 a /var/particio2 per deixar muntada la partici\u00f3: Quan haguem editat el fitxer, farem un reboot de la m\u00e0quina virtual per assegurar-nos que la partici\u00f3 quedi muntada correctament. Despr\u00e9s, farem la instal\u00b7laci\u00f3 de Samba i Nautilus , tot i que finalment nom\u00e9s farem \u00fas de Samba : Samba \u00e9s un conjunt de programes que permeten compartir arxius i recursos entre sistemes Linux i Windows. Ara farem la instal\u00b7laci\u00f3 de SMB Client , que \u00e9s una eina de l\u00ednia de comandes que permet accedir i gestionar recursos compartits en una xarxa mitjan\u00e7ant el protocol SMB. Instal\u00b7laci\u00f3 de smbclient : Canviarem els permisos per als usuaris de Samba : Donarem perm\u00eds 1777 , que concedeix permisos de lectura, escriptura i execuci\u00f3 per a tots els usuaris, amb la restricci\u00f3 que nom\u00e9s el propietari dels fitxers pot eliminar-los. Afegirem al grup sambashare a l'usuari root , que ser\u00e0 qui pugui accedir a les carpetes configurades al fitxer smb.conf . Creem un usuari de prova anomenat gina : L'afegim al grup de Samba : Ara li posem una contrasenya a l'usuari perqu\u00e8 pugui accedir al Samba . En aquest cas, la contrasenya ser\u00e0 ginagina : Un cop configurat l'usuari i els permisos, anirem al fitxer /etc/samba/smb.conf : Dins del fitxer, afegirem les seg\u00fcents l\u00ednies d'informaci\u00f3 que a continuaci\u00f3 s'explicaran: Explicaci\u00f3 de cada l\u00ednia afegida : path : Defineix la ruta local on es troba el recurs compartit. browseable : Controla si el recurs \u00e9s visible a la xarxa. read only : Permet nom\u00e9s lectura si est\u00e0 configurat com a yes . writeable : Habilita l'escriptura al recurs compartit si est\u00e0 configurat com a yes . guest ok : Permet acc\u00e9s sense autenticaci\u00f3 si est\u00e0 configurat com a yes . read list : Especifica usuaris o grups amb acc\u00e9s de nom\u00e9s lectura. write list : Defineix usuaris o grups amb permisos d'escriptura. create mask : Configura els permisos predeterminats per a fitxers nous. directory mask : Estableix els permisos predeterminats per a directoris nous. Comprovem la IP de la nostra m\u00e0quina virtual: Introdu\u00efm aquesta IP de la m\u00e0quina virtual i ens dirigim a Fitxers del Client . A la barra lateral esquerra, a baix de tot, hi ha una secci\u00f3 on posa Altres ubicacions . Si hi fem clic, apareixer\u00e0 un buscador a la part inferior i hem de posar la seg\u00fcent adre\u00e7a: Un cop fet tot aix\u00f2, el resultat ser\u00e0 que en el Client veurem la carpeta compartida que pertany a la M\u00e0quina Virtual : NTFS NTFS (New Technology File System) \u00e9s un sistema de fitxers desenvolupat per Microsoft per a sistemes operatius Windows. Ofereix suport per a grans volums de dades, alta integritat i seguretat de les dades. Permet una r\u00e0pida cerca de fitxers, compressi\u00f3 de fitxers, i seguretat a nivell de fitxers. NTFS tamb\u00e9 gestiona permisos d'acc\u00e9s i encripta fitxers per protegir dades sensibles. El primer pas ser\u00e0 afegir un nou disc de 3 GB. En aquest cas, ser\u00e0 el disc sdf . Un cop afegit el nou disc a la m\u00e0quina virtual, crearem una partici\u00f3 dins del disc anomenada sdf1 : Comprovaci\u00f3 del disc amb la seva partici\u00f3: Seguidament, farem la instal\u00b7laci\u00f3 de NTFS amb la comanda sudo apt install ntfs-3g : En cas de no tenir instal\u00b7lat Samba , l'instal\u00b7larem amb les seg\u00fcents comandes: sudo apt-get update<br> sudo apt-get install samba En aquest cas, ja el tenim instal\u00b7lat de fer-lo servir abans: Ara crearem una carpeta que volem compartir m\u00e9s endavant. Aquesta carpeta es dir\u00e0 ntfs_l_w . La crearem dins del directori /var : Seguidament, donarem permisos al nou directori: Muntar la partici\u00f3 Primer de tot, amb la seg\u00fcent comanda: sudo mkfs.ntfs -f /dev/sdf1 , el que farem ser\u00e0 formatejar la partici\u00f3 amb el sistema de fitxers NTFS . Despr\u00e9s, muntem la partici\u00f3 de manera temporal per comprovar que funciona correctament: Seguidament, creem un fitxer dins de la partici\u00f3 a /var/ntfs_l_w amb la comanda nano nom_fitxer.txt , que ens servir\u00e0 per veure m\u00e9s f\u00e0cilment si la partici\u00f3 est\u00e0 muntada correctament. En aquest punt, ja muntarem la partici\u00f3 sdf de manera definitiva. Aix\u00ed que editarem el fitxer /etc/fstab amb el sistema de fitxers NTFS : Quan haguem editat el fitxer, farem un reboot de la nostra m\u00e0quina virtual per tal que la partici\u00f3 quedi muntada correctament. Despr\u00e9s, comprovem que a la direcci\u00f3 on s'ha muntat trobem el fitxer creat anteriorment. Un cop configurats l'usuari i els permisos, entrarem al fitxer /etc/samba/smb.conf : Dins del fitxer, afegirem la seg\u00fcent configuraci\u00f3: [ntfs_l_w] path = /var/ntfs_l_w public = yes writable = yes browsable = yes guest ok = yes re ad list = gina write list = gina create mask = 0744 directory mask = 0755 Seguidament reiniciem samba amb sudo systemctl restart smbd i mirem el seu estat amb la comanda sudo systemctl status smbd Accedir Comprovem que els dos dispositius (amb Linux i Windows ) estiguin connectats a la mateixa xarxa. IP de la m\u00e0quina amb Linux : IP del Windows : Finalment, hem d'anar a la nostra m\u00e0quina amb Windows i accedir a l'apartat Este equipo . A dalt al buscador, hem d'introduir la direcci\u00f3 IP seguida del nom de la carpeta, com es mostra a continuaci\u00f3: I finalment, accedirem a la carpeta que hav\u00edem compartit des de la nostra m\u00e0quina Linux, veient el fitxer creat anteriorment. 7. C\u00f2pies de Seguretat Una c\u00f2pia de seguretat \u00e9s una duplicaci\u00f3 dels fitxers o dades importants d\u2019un sistema, amb l'objectiu de protegir-los davant p\u00e8rdues, errors humans, fallades de maquinari o ciberatacs. La c\u00f2pia ha d\u2019estar en almenys dos suports diferents per evitar p\u00e8rdues si un suport falla, per exemple en dos discs. Un RAID combina diverses unitats d'emmagatzematge per augmentar la fiabilitat, el rendiment i la capacitat d'emmagatzematge, proporcionant redund\u00e0ncia contra fallades d'unitats i millorant la velocitat d'acc\u00e9s a les dades. Pol\u00edtiques de c\u00f2pies de seguretat Les pol\u00edtiques estableixen com es realitzaran les c\u00f2pies per garantir la seguretat i efici\u00e8ncia. Les tres t\u00e8cniques m\u00e9s comuns s\u00f3n: Completes Una c\u00f2pia de seguretat Completa crea una c\u00f2pia de tots els fitxers i dades seleccionades. Es sol utilitzar per c\u00f2pies setmanals o mensuals. Avantatges : Cont\u00e9 totes les dades en un sol conjunt i \u00e9s m\u00e9s senzilla i r\u00e0pida de restaurar, ja que nom\u00e9s es necessita la darrera c\u00f2pia completa. Desavantatges : \u00c9s lenta de fer, ja que requereix m\u00e9s temps i espai d'emmagatzematge. Diferencials Una c\u00f2pia Diferencial crea una c\u00f2pia dels canvis efectuats des de l'\u00faltima c\u00f2pia completa realitzada. Es sol utilitzar per c\u00f2pies intermitents, di\u00e0ries o cada pocs dies. Avantatges : M\u00e9s r\u00e0pida i lleugera que una c\u00f2pia completa, i per restaurar, nom\u00e9s cal la darrera c\u00f2pia completa i l'\u00faltima c\u00f2pia diferencial. Desavantatges : Amb el temps, pot augmentar de mida, ja que inclou tots els canvis acumulats des de l'\u00faltima c\u00f2pia completa. Incrementals Una c\u00f2pia Incremental crea una c\u00f2pia dels canvis realitzats des de l\u2019\u00faltima c\u00f2pia (sigui completa o incremental). El seu \u00fas \u00e9s per c\u00f2pies freq\u00fcents en entorns on el temps d'execuci\u00f3 \u00e9s cr\u00edtic. Avantatges : \u00c9s la t\u00e8cnica m\u00e9s r\u00e0pida i requereix menys espai. Desavantatges : La restauraci\u00f3 \u00e9s m\u00e9s lenta i complexa, ja que cal l'\u00faltima c\u00f2pia completa i totes les c\u00f2pies incrementals pr\u00e8vies. En cas que una c\u00f2pia incremental es perdi o es corrompi, pot afectar la restauraci\u00f3. Resum de comparativa Tipus Velocitat de c\u00f2pia Espai requerit Facilitat de restauraci\u00f3 Requisits per restaurar Completa Lenta Alt Alta Nom\u00e9s la darrera c\u00f2pia completa Diferencial Moderada Moderat Mitjana Completa + darrera diferencial Incremental R\u00e0pida Baix Baixa Completa + totes les incrementals pr\u00e8vies Programes amb interf\u00edcie Utilitzarem el programa de c\u00f2pies amb interf\u00edcie gr\u00e0fica D\u00e9j\u00e0 Dup D\u00e9j\u00e0 Dup Primer de tot el descarregarem amb les seguents comandes: sudo apt update sudo apt install deja-dup Comprovaci\u00f3 de la instal\u00b7laci\u00f3 L'aplicaci\u00f3 \"Respaldos\" que es veu al sistema Linux \u00e9s una interf\u00edcie gr\u00e0fica per a Deja Dup , que \u00e9s una eina de c\u00f2pia de seguretat per a sistemes GNOME. Copies En iniciar el programa, primer de tot hem de crear la primera c\u00f2pia, que ser\u00e0 una c\u00f2pia completa de tot all\u00f2 que es vulgui guardar. Per aix\u00f2, seleccionarem la primera opci\u00f3: Cree su primer respaldo . Ens demanar\u00e0 que indiquem quines carpetes volem afegir a la c\u00f2pia de seguretat i quines volen ser ignorades, com podria ser la de la brossa: En la seg\u00fcent finestra, haurem de triar on volem guardar la c\u00f2pia, que pot ser un disc extern, un servidor de xarxa o un servei en n\u00favol com Google Drive. En aquest cas, es guardar\u00e0 en una carpeta local: L'\u00faltim pas abans de fer la c\u00f2pia ser\u00e0 afegir una contrasenya per poder restaurar els arxius: D\u00e9j\u00e0 Dup realitza c\u00f2pies de seguretat autom\u00e0tiques utilitzant c\u00f2pies completes , diferencials i incrementals sense necessitat d'intervenci\u00f3 manual. Quan es fa la primera c\u00f2pia, D\u00e9j\u00e0 Dup realitza una c\u00f2pia completa de tots els fitxers seleccionats. A partir de la segona c\u00f2pia, el programa fa c\u00f2pies incrementals , copiant nom\u00e9s els fitxers que han canviat des de l'\u00faltima c\u00f2pia, ja sigui completa o incremental. Quan es fa una c\u00f2pia diferencial , D\u00e9j\u00e0 Dup copia els fitxers modificats des de la darrera c\u00f2pia completa , ignorant les c\u00f2pies incrementals. Aquest sistema autom\u00e0tic permet optimitzar l'espai, ja que nom\u00e9s es copien els canvis, sense necessitat que l'usuari configuri manualment el tipus de c\u00f2pia. Tamb\u00e9 podrem triar cada quant volem que es realitzi la c\u00f2pia de seguretat, en cas que les tinguem automatitzades. Restaurar Per poder fer una restauraci\u00f3 de les c\u00f2pies de seguretat, el que hem de fer \u00e9s anar a l'apartat Restaurar del men\u00fa superior de l'aplicaci\u00f3. Seguidament, hem de seleccionar les carpetes/arxius que volem restaurar i, una vegada seleccionats, donarem clic al bot\u00f3 de Restaurar . Escollirem on volem fer la restauraci\u00f3, en la ubicaci\u00f3 original o en una altra ubicaci\u00f3. I ja estaria feta; tindr\u00edem de nou tot el contingut de manera correcta. Comandes: CP, RSYNC, DD Per fer les c\u00f2pies de seguretat, el primer que es far\u00e0 ser\u00e0 crear dos discos a la m\u00e0quina virtual que siguin de 1GB cadascun. En el nostre cas, tenim els discos sdd i sde : El que hem de fer seguidament \u00e9s crear una partici\u00f3 per a cada disc del tamany corresponent i, finalment, formatejar les particions amb el sistema de fitxers ext4 : Particions creades: Formateig de sdd1 : Formateig de sde1 Un cop tenim les dues particions, anem a /var i creem una carpeta anomenada copia_dades , que ser\u00e0 on rebrem els fitxers de la c\u00f2pia. Tamb\u00e9 muntarem la partici\u00f3 sdd1 al directori d'aquesta carpeta que acabem de crear: Ara anirem a Documentos i all\u00ed crearem un fitxer de prova i una carpeta com podem veure a continuaci\u00f3: CP En aquest punt, amb CP , farem servir la comanda sudo cp -R /directori_que_volem_copiar /directori_on_copiar . Per\u00f2 en l'exemple ens faltava crear la carpeta raul dins de la carpeta copia_dades . Aix\u00ed que creem aquesta carpeta i despr\u00e9s fem servir la comanda per fer la c\u00f2pia: En aquest moment ja tenim una c\u00f2pia realitzada amb \u00e8xit i de manera correcta. Per\u00f2 si ara creem un fitxer nou i eliminem el que tenim anomenat adeu , el que veurem \u00e9s que, al fer de nou la c\u00f2pia, no s'actualitza. El que passa \u00e9s que amb CP es fa una c\u00f2pia i, en cas que es canvi\u00ef alguna cosa, nom\u00e9s afegir\u00e0 el que \u00e9s nou, per\u00f2 mai eliminar\u00e0 res en el moment de fer la c\u00f2pia, aix\u00ed que la carpeta on s'ha fet la c\u00f2pia quedar\u00e0 desactualitzada: RSYNC Ara provem amb la comanda de c\u00f2pia RSYNC , i el que podem apreciar \u00e9s que s'est\u00e0 eliminant al directori final l'arxiu que hav\u00edem eliminat de la carpeta origen, quedant aix\u00ed actualitzada la c\u00f2pia final: Amb RSYNC aconseguim que es faci una c\u00f2pia de manera intel\u00b7ligent, ja que nom\u00e9s es copiaran les modificacions. Tamb\u00e9 es pot fer entre m\u00e0quines remotes via SSH . La comanda de RSYNC pot portar els seg\u00fcents atributs: -a per mantenir els permisos -v per obtenir informaci\u00f3 dels processos --delete per eliminar els canvis que no hi ha DD Amb DD farem una c\u00f2pia de seguretat, per\u00f2 en aquest cas ser\u00e0 entre particions, entre la partici\u00f3 sdd i sde . Aquesta comanda no est\u00e0 dissenyada per fer c\u00f2pies de fitxers comuns, sin\u00f3 que treballa a nivell de bloc, clonant discs o particions, incloent estructures de metadades. Tamb\u00e9 es pot utilitzar per sobrescriure de manera segura dispositius abans de fer un formateig. Cal fer servir DD amb precauci\u00f3 per evitar la p\u00e8rdua irreparable de dades. La comanda sudo dd if=/dev/sdd1 of=/dev/sde1 ... ens diu que es far\u00e0 una c\u00f2pia de seguretat des de la partici\u00f3 sdd1 cap a la sde1 . Comprovem que els hash siguin iguals en les dues particions per confirmar que la c\u00f2pia s'ha realitzat amb \u00e8xit. I en cas que vulguem borrar una partici\u00f3 de manera segura abans de formatejar-la, el que farem ser\u00e0 sobreescriure la partici\u00f3 amb ceros per borrar el seu contingut: 8. Automatitzaci\u00f3 Introducci\u00f3 En els sistemes operatius amb Linux, l\u2019automatitzaci\u00f3 de tasques \u00e9s essencial per garantir el manteniment del sistema i l'execuci\u00f3 d'accions repetitives. Dues eines destacades per aquest prop\u00f2sit s\u00f3n Cron i Anacron , que permeten programar l'execuci\u00f3 de processos i scripts de manera autom\u00e0tica. Encara que comparteixen la mateixa finalitat, tenen caracter\u00edstiques diferents que les fan adequades per a tasques espec\u00edfics. A continuaci\u00f3 es mostra les difer\u00e8ncies entre Cron i Anacron : Difer\u00e8ncies entre Cron i Anacron Caracter\u00edstica Cron Anacron Funci\u00f3 principal Executar tasques programades a intervals regulars o a hores concretes. Garantir que les tasques pendents s'executin quan el sistema s'enc\u00e9n, encara que estigu\u00e9s apagat. Requisit de sistema Nom\u00e9s funciona si l'ordinador est\u00e0 enc\u00e8s a l'hora programada. Executa tasques programades tan bon punt el sistema es posa en marxa si estaven pendents. Usuaris t\u00edpics Tasques d\u2019usuaris o administradors que necessiten precisi\u00f3 temporal. Tasques d\u2019administradors per al manteniment general del sistema (nivell global). Fitxers de configuraci\u00f3 - /etc/crontab per a tasques globals. - crontab -e per a usuaris espec\u00edfics. - /etc/anacrontab per a configuraci\u00f3 de tasques retardades. Freq\u00fc\u00e8ncia m\u00ednima Minuts (es pot programar per executar-se cada minut). Dies (dissenyat per a tasques amb menys freq\u00fc\u00e8ncia). Flexibilitat amb apagat No pot recuperar tasques perdudes si el sistema estava apagat en el moment previst. Pot detectar tasques no completades i executar-les quan el sistema es reinicia. Cron en detall Execuci\u00f3 precisa : Utilitza un format d\u2019hora i data molt concret (minut, hora, dia del mes, mes, dia de la setmana) per programar tasques. Configuraci\u00f3 : Fitxer global: /etc/crontab . Per a usuaris espec\u00edfics: crontab -e (modifica el crontab de l\u2019usuari que executa la comanda). Ubicaci\u00f3 dels scripts : cron.hourly , cron.daily , cron.weekly , cron.monthly s\u00f3n carpetes dins /etc/cron.* on es poden posar scripts per executar-se a intervals regulars. Anacron en detall Execuci\u00f3 flexible : Ideal per tasques que no necessiten precisi\u00f3 per\u00f2 han de garantir-se (com actualitzacions del sistema o c\u00f2pies de seguretat). Configuraci\u00f3 : Utilitza el fitxer /etc/anacrontab per definir les tasques. Cada tasca especifica: Per\u00edode de temps (en dies). Nom de la tasca . Comanda per executar. Dissenyat per sistemes que no estan sempre encesos : Assegura l'execuci\u00f3 fins i tot en port\u00e0tils o sistemes que s\u2019apaguen amb freq\u00fc\u00e8ncia. Cron \u00e9s perfecte per tasques amb un horari exacte en sistemes que estan sempre operatius. I Anacron \u00e9s ideal per a tasques que no corren presa per\u00f2 han de ser executades en algun moment, independentment de si el sistema estava apagat. Part Pr\u00e0ctica En aquest apartat es posar\u00e0 en pr\u00e0ctica el Cron i l' Anacron per fer l'automatitzaci\u00f3 de la compressi\u00f3 d'un directori i que sigui guardat a l'Escriptori. Creaci\u00f3 i Execuci\u00f3 d'un Script Primer de tot s'ha de crear un script, en aquest cas nano copia.sh , on donarem l'ordre que un directori sigui comprimit i guardat en una ubicaci\u00f3 espec\u00edfica. Dins del fitxer hem de posar la data, que estar\u00e0 a la primera l\u00ednia del codi, i guardar\u00e0 el moment en qu\u00e8 es fa \u00fas del Script . Seguidament introdu\u00efm la comanda que comen\u00e7a amb \"/home/...gz\" , que \u00e9s on es guardar\u00e0 i amb el nom que tindr\u00e0 la compressi\u00f3, seguit del directori que es vol comprimir, \"/home/../Documentos\" . Una vegada configurat el fitxer, sortim i guardem. En aquest moment hem de canviar els permisos del fitxer copia.sh perqu\u00e8 tothom tingui permisos d'execuci\u00f3 amb chmod +x copia.sh : Ara ja es podria executar el Script , aix\u00ed que fem ./copia.sh i observem el seu resultat: Trobem que ha generat el comprimit i l'ha guardat a l' Escriptori . Tamb\u00e9 podem veure que el nom del comprimit \u00e9s el que li hav\u00edem posat, amb, a m\u00e9s, uns n\u00fameros que representen la data del moment de la creaci\u00f3. Automatitzaci\u00f3 amb Cron Per fer una automatitzaci\u00f3 amb Cron el primer que s'ha de fer \u00e9s anar al fitxer /etc/crontab per afegir la nostra tasca de l'Script anterior. Afegirem una l\u00ednia seguint l'ordre de dades establert. Primer de tot s'ha d'introduir Minut i Hora del moment que es vol que s'executi la tasca. Seguidament aniran el Dia i Mes de l'any i el n\u00famero del dia de la setmana, sent Diumenge = 0 . Finalment indiquem el nom de l' Usuari i on es troba l' Script . Una vegada guardats els canvis, esperem que sigui l'hora en qu\u00e8 es realitzar\u00e0 la tasca per comprovar que s'obt\u00e9 el resultat esperat. I finalment obtenim el resultat, creant aix\u00ed el seg\u00fcent comprimit: Ara tornem a modificar el /etc/crontab perqu\u00e8 es torni a executar l'Script, per\u00f2 ara tancant la m\u00e0quina virtual i esperant un minut m\u00e9s de l'hora a qu\u00e8 volem que s'executi l' Script per veure si es far\u00e0 en tornar a iniciar la m\u00e0quina virtual. L\u00ednia modificada: Una vegada iniciada la m\u00e0quina virtual, esperem i veiem que no s'executa res ja que amb el Cron no s'executar\u00e0 si la m\u00e0quina ha estat apagada. Llavors hem de passar al seg\u00fcent m\u00e8tode. Automatitzaci\u00f3 amb Anacron Despr\u00e9s de veure com s'automatitzava amb Cron , passem a veure les automatitzacions amb Anacron , que ens permetran fer tasques malgrat que l'ordinador hagi estat apagat, ja que les executar\u00e0 un cop estigui enc\u00e8s. Si anem al fitxer /etc/anacrontab , podem veure en una l\u00ednia que el que fa \u00e9s executar el cron.daily , que \u00e9s el Cron que s'executar\u00e0 cada dia i s'executar\u00e0 5 minuts despr\u00e9s d'encendre l'ordinador. Llavors, el que farem despr\u00e9s de saber aix\u00f2 ser\u00e0 anar al /etc/crontab i comentar la l\u00ednia que vam afegir en la secci\u00f3 anterior. Ara hem de moure l' Script des del nostre /home fins al cron.daily de la seg\u00fcent manera i comprovar que est\u00e0 en aquest directori: Quan la movem al cron.daily l'hem de cambiar el nom a copia : D'aquesta manera, cada dia quan s'inici\u00ef l'ordinador, s'executar\u00e0 l'automatitzaci\u00f3 quan passi el temps establert al fitxer del Anacron , solucionant aix\u00ed el problema que aportava el Cron . Finalment, per a aquesta prova hem modificat el temps en qu\u00e8 s'executar\u00e0 el Daily una vegada iniciat el sistema. En aquest cas, el baixem a 1 minut: Ara reiniciem la m\u00e0quina i despr\u00e9s comprovem que al minut d'haver-se iniciat s'executa la tasca i apareix el comprimit a l'Escriptori. Per veure si l'automatitzaci\u00f3 s'ha processat, el que hem de fer \u00e9s fer una visualitzaci\u00f3 del fitxer cron.daily . En cas que s'hagi executat, trobarem en n\u00fameros el moment exacte d'aquesta execuci\u00f3. Finalment es crea el nostre comprimit i al cron.daily veiem el moment de l'execuci\u00f3:","title":"Sprint 2"},{"location":"sprint2/#gestio-de-la-informacio-del-sistema-i-administracio","text":"","title":"Gesti\u00f3 de la Informaci\u00f3 del Sistema i Administraci\u00f3"},{"location":"sprint2/#1-configuracio-inicial","text":"Primer de tot, s'ha d'instal\u00b7lar Ubuntu Linux en una m\u00e0quina virtual. Per fer la instal\u00b7laci\u00f3, s'ha d'anar a la p\u00e0gina oficial d'Ubuntu per descarregar l'arxiu .ISO . Aquest fitxer cont\u00e9 la imatge necess\u00e0ria per poder instal\u00b7lar Ubuntu en la m\u00e0quina virtual.","title":"1. Configuraci\u00f3 inicial"},{"location":"sprint2/#descarregar-ubuntu","text":"Per descarregar Ubuntu, clica l'enlla\u00e7 i espera que es faci la desc\u00e0rrega autom\u00e0tica de Ubuntu Desktop 24.04.1 LTS . Un cop finalitzada la desc\u00e0rrega, tindr\u00e0s el fitxer .ISO llest per ser utilitzat.","title":"Descarregar Ubuntu"},{"location":"sprint2/#crear-la-maquina-virtual-amb-virtualbox","text":"Despr\u00e9s de la desc\u00e0rrega, cal obrir un programa per crear m\u00e0quines virtuals. En aquest cas, s'utilitzar\u00e0 VirtualBox . Aquesta eina ens permetr\u00e0 crear i gestionar la m\u00e0quina virtual en qu\u00e8 instal\u00b7larem Ubuntu. Un cop instal\u00b7lat VirtualBox al teu ordinador, pots comen\u00e7ar a crear la m\u00e0quina virtual seguint els passos necessaris.","title":"Crear la m\u00e0quina virtual amb VirtualBox"},{"location":"sprint2/#afegir-i-configurar-la-maquina","text":"En aquest apartat es comen\u00e7ar\u00e0 amb la creaci\u00f3 d'una m\u00e0quina virtual utilitzant l'arxiu .ISO descarregat en l'apartat anterior. Tamb\u00e9 es far\u00e0 la configuraci\u00f3 de l'entorn necessari per posar la m\u00e0quina en funcionament. Passos a seguir: Obrim VirtualBox i busquem a la part superior el bot\u00f3 \"Nova\" per comen\u00e7ar el proc\u00e9s de creaci\u00f3 de la m\u00e0quina virtual. En la finestra seg\u00fcent, cal posar el nom de la m\u00e0quina virtual. A la secci\u00f3 \"ISO image\" , seleccionarem ISO descarregat al principi de l'article per configurar la imatge d'instal\u00b7laci\u00f3 de la m\u00e0quina virtual. Un cop seleccionat el fitxer, fem clic a Endavant per continuar. A continuaci\u00f3, cal introduir un nom d'usuari i una contrasenya que compleixi els requisits m\u00ednims de seguretat. Aquesta informaci\u00f3 ser\u00e0 necess\u00e0ria per accedir al sistema operatiu un cop estigui instal\u00b7lat. Ara s'ha de configurar la quantitat de mem\u00f2ria RAM que es vol assignar a la m\u00e0quina virtual. Tamb\u00e9 cal especificar la quantitat de processos de la CPU que es volen utilitzar. Finalment, cal determinar la mida del disc dur virtual per emmagatzemar els fitxers del sistema operatiu i altres dades.","title":"Afegir i configurar la m\u00e0quina"},{"location":"sprint2/#crear-i-gestionar-comptes-dusuari-locals","text":"Passarem a veure la creaci\u00f3 d'usuaris locals. Per crear-lo s'utilitzar\u00e0 la comanda adduser : Introdu\u00efm una S o premem enter per seguir amb la creaci\u00f3:","title":"Crear i gestionar comptes d'usuari locals"},{"location":"sprint2/#2-processos","text":"Els processos en Linux poden ser de dos tipus: en primer pla o en segon pla . Els processos en primer pla interactuen amb l'usuari i bloquegen la terminal fins que finalitzen, mentre que els processos en segon pla poden continuar executant-se mentre l'usuari segueix utilitzant la terminal. A m\u00e9s, els processos poden tenir una prioritat alta o baixa, depenent de la seva import\u00e0ncia o de la configuraci\u00f3 del sistema. Els processos poden estar en diversos estats: Running : El proc\u00e9s s'est\u00e0 executant. Sleeping : El proc\u00e9s est\u00e0 inactiu, esperant una acci\u00f3 externa. Stopped : El proc\u00e9s est\u00e0 aturat. Zombie : El proc\u00e9s ha acabat, per\u00f2 encara apareix a la taula de processos perqu\u00e8 el proc\u00e9s pare no ha llegit el seu estat de sortida.","title":"2. Processos"},{"location":"sprint2/#comandes-basiques-per-gestionar-els-processos","text":"A continuaci\u00f3, es mostren algunes de les comandes m\u00e9s utilitzades per gestionar els processos en Linux: ps : Mostra una llista de processos en execuci\u00f3. Per exemple, amb ps aux es mostra una llista completa de tots els processos en execuci\u00f3 amb informaci\u00f3 detallada. top : Mostra informaci\u00f3 en temps real sobre els processos i l'\u00fas de recursos del sistema. Aquesta comanda mostra els processos m\u00e9s pesats en termes d'\u00fas de recursos. kill : Permet enviar una senyal a un proc\u00e9s, habitualment per aturar-lo. Per obtenir el PID (Process ID) del proc\u00e9s que vols aturar, primer pots utilitzar la comanda top . Un cop obtingut el PID, pots utilitzar kill PID per aturar el proc\u00e9s. Per exemple, si utilitzem el PID = 2463 , podem matar el proc\u00e9s amb la comanda seg\u00fcent, la qual tancar\u00e0 el terminal del sistema. bg i fg : Aquests comandaments permeten moure un proc\u00e9s entre el primer pla i el segon pla. Per fer una prova, crearem un proc\u00e9s d'espera de 1000 segons : Seguidament, utilitzarem CTRL + Z per aturar-lo, per\u00f2 sense matar el proc\u00e9s: La comanda bg envia un proc\u00e9s aturat al segon pla. Llavors, utilitzem bg sleep per passar el proc\u00e9s al segon pla: La comanda fg porta un proc\u00e9s del segon pla al primer pla. Per exemple, utilitzem fg per passar el proc\u00e9s creat abans al primer pla: pstree : Mostra els processos en forma d'arbre, mostrant les relacions entre processos. Per veure-ho, utilitzem la comanda pstree al terminal:","title":"Comandes b\u00e0siques per gestionar els processos"},{"location":"sprint2/#3-installacio-de-serveis-essencials","text":"Abans d'instal\u00b7lar qualsevol servei, \u00e9s recomanable assegurar-se que el sistema estigui actualitzat. Per aix\u00f2, es far\u00e0 \u00fas de la comanda sudo apt update : Despr\u00e9s, es realitza la comanda sudo apt upgrade :","title":"3. Instal\u00b7laci\u00f3 de Serveis Essencials"},{"location":"sprint2/#gestio-de-serveis","text":"Un cop instal\u00b7lats els serveis, es poden gestionar amb la comanda systemctl . Aquesta comanda permet iniciar, parar o reiniciar serveis. A continuaci\u00f3 es mostra un exemple d'aquesta comanda amb el servei SSH : Tamb\u00e9 podem editar el fitxer de configuraci\u00f3 de SSH , obrint-lo amb la comanda sudo nano /etc/ssh/sshd_config per fer els seg\u00fcents canvis: Desactivar l'acc\u00e9s del root amb PermitRootLogin no : Permetre l'acc\u00e9s per contrasenya amb PasswordAuthentication yes :","title":"Gesti\u00f3 de Serveis"},{"location":"sprint2/#comprovar-processos-en-execucio","text":"Per veure els processos en execuci\u00f3, podem utilitzar comandes com top , que ens mostra els processos en temps real, o podem obtenir una instant\u00e0nia dels processos amb ps aux , com es veu a la captura: Tamb\u00e9 podem cercar i filtrar un proc\u00e9s espec\u00edfic amb la comanda grep : Una comanda m\u00e9s \u00fatil que les anteriors \u00e9s htop , que mostra tots els processos en execuci\u00f3 en temps real, el seu \u00fas de CPU i mem\u00f2ria. La instal\u00b7larem amb sudo apt install htop i la podrem executar:","title":"Comprovar Processos en Execuci\u00f3"},{"location":"sprint2/#optimitzar-lus-de-recursos","text":"Per comprovar l'\u00fas de la mem\u00f2ria i la CPU en temps real, podem utilitzar la comanda vmstat 1 : Per optimitzar l'espai quan l'equip utilitza un disc SSD, podem fer servir la comanda sudo fstrim -v . I per mantenir el sistema optimitzat, \u00e9s recomanable mantenir-lo actualitzat. Actualitzar amb sudo apt update && sudo apt upgrade :","title":"Optimitzar l'\u00das de Recursos"},{"location":"sprint2/#administrar-serveis-actius-segons-les-necessitats-del-sistema","text":"Per identificar els serveis actius, utilitzarem la comanda systemctl : S'ha de revisar quins serveis s'estan executant i determinar si s\u00f3n necessaris. Per aturar serveis innecessaris, utilitzarem la comanda sudo systemctl stop nom_del_servei . Si un servei no \u00e9s necessari a l'inici del sistema, \u00e9s millor deshabilitar-lo amb sudo systemctl disable nom_del_servei . Si es necessita un servei per a una tasca espec\u00edfica, es pot habilitar temporalment amb la comanda sudo systemctl enable nom_del_servei , de manera que s'iniciar\u00e0 autom\u00e0ticament a l'arrencada.","title":"Administrar Serveis Actius Segons les Necessitats del Sistema"},{"location":"sprint2/#4-usuaris-i-grups","text":"Per revisar la llista d'usuaris creats al sistema, anirem al fitxer /etc/passwd : Per eliminar un usuari de qualsevol grup, podem utilitzar la comanda deluser nom_usuari nom_grup : Per crear un grup , utilitzarem la comanda sudo groupadd nom_grup , i despr\u00e9s comprovarem aquest grup amb la comanda getent group | grep nom_grup : Per afegir un usuari a un grup creat o existent, utilitzarem la comanda sudo usermod -aG nom_grup nom_usuari . Aquesta comanda no retorna cap missatge. Despr\u00e9s, farem una comprovaci\u00f3 dels grups als quals pertany l'usuari amb groups nom_usuari : Tamb\u00e9 podem crear un usuari dins d'un grup amb la comanda adduser nom_usuari nom_grup . Despr\u00e9s, comprovarem que al grup sudo tenim dos usuaris: La primera part de la l\u00ednia \u00e9s el nom del grup, seguida d'una \"X\" que indica que no s'utilitza contrasenya per al grup. Despr\u00e9s ve l'identificador del grup i una llista d'usuaris membres del grup. Per canviar la contrasenya d'un usuari, utilitzarem la comanda passwd nom_usuari . Ens demanar\u00e0 una nova contrasenya, mantenint la privacitat de les dades de l'usuari: Al fitxer /etc/passwd , podem trobar informaci\u00f3 b\u00e0sica sobre els comptes d'usuari, com el nom de l'usuari, l'identificador \u00fanic d'usuari (UID), i el directori personal de l'usuari: Al fitxer /etc/shadow es guarden les contrasenyes encriptades de cada usuari. La l\u00ednia de cada usuari cont\u00e9 informaci\u00f3 sobre quan es va canviar la contrasenya per \u00faltima vegada, els dies d'espera per canviar la contrasenya, i altres par\u00e0metres de seguretat: Per crear un sistema personal d'arxius per a un usuari, utilitzarem la comanda mkdir nom_usuari/carpeta . Per\u00f2, per defecte, el directori ser\u00e0 propietat de l'usuari root . Per canviar el propietari i el grup, utilitzarem la comanda chown nom_usuari:nom_grup directori : Per bloquejar un usuari , utilitzarem la comanda usermod -L nom_usuari . A l'arxiu /etc/shadow , l'usuari apareixer\u00e0 amb un ! , indicant que el compte est\u00e0 bloquejat. Per desbloquejar-lo, utilitzarem usermod -U nom_usuari : Per eliminar un usuari , utilitzarem la comanda deluser nom_usuari , per\u00f2 aquesta comanda no eliminar\u00e0 el directori personal de l'usuari. Si volem eliminar tot, incl\u00f2s el directori personal, utilitzarem userdel -r nom_usuari : Per canviar el nom d'usuari , utilitzarem la comanda usermod -l nom_nou nom_usuari . Aquesta comanda no canvia el nom del directori personal. Per aix\u00f2, haurem de fer servir mv directori_antic/ directori_nou/ : Per\u00f2 encara caldr\u00e0 actualitzar el grup al qual pertany l'usuari. Per canviar el nom del grup, utilitzarem la comanda groupmod -n nom_nou nom_grup : Finalment, el nom de l'usuari i el grup hauran estat canviats correctament.","title":"4. Usuaris i Grups"},{"location":"sprint2/#definir-politiques-de-seguretat-per-a-contrasenyes-i-accessos","text":"Per gestionar les pol\u00edtiques de contrasenyes, hem de modificar el fitxer /etc/login.defs : Obrim el fitxer amb sudo nano /etc/login.defs : Modifiquem la l\u00ednia PASS_MAX_DAYS per establir la durada m\u00e0xima de la contrasenya, i altres par\u00e0metres si cal: Tamb\u00e9 podem configurar la qualitat de les contrasenyes, com la longitud m\u00ednima. Per fer-ho, obrim el fitxer /etc/security/pwquality.conf amb sudo nano /etc/security/pwquality.conf : Busquem la l\u00ednia minlen = i establim el n\u00famero m\u00ednim de car\u00e0cters per a la contrasenya:","title":"Definir pol\u00edtiques de seguretat per a contrasenyes i accessos"},{"location":"sprint2/#configuracions-de-linici-de-sessio","text":"Per configurar els arxius de bash en l'inici de sessi\u00f3 d'un usuari, cal accedir a diversos fitxers en el directori de cada usuari. Aquests fitxers estan ocults, aix\u00ed que utilitzarem la comanda ls -la per veure'ls: El fitxer .bash_logout executa ordres quan es tanca una sessi\u00f3 de Bash. El fitxer .bashrc configura l'entorn cada vegada que s'obre una nova terminal de Bash. El fitxer .profile s'executa quan s'inicia una sessi\u00f3 de login, configurant l'entorn global de l'usuari. Si volem aplicar aquestes configuracions a tots els usuaris que es cre\u00efn, hem de modificar aquests fitxers en el directori /etc/skel : Farem les configuracions pertinents als seg\u00fcents fitxers .bash_logout : .bashrc : .profile :","title":"Configuracions de l'inici de sessi\u00f3"},{"location":"sprint2/#5-permisos","text":"","title":"5. Permisos"},{"location":"sprint2/#permisos-normals","text":"El primer que farem ser\u00e0 crear els tres usuaris seg\u00fcents: Els permisos en Linux es divideixen en tres grups, que s'assignen de la seg\u00fcent manera: Propietari : Els tres primers permisos. Grup propietari : Els tres permisos seg\u00fcents. Altres : Els tres permisos finals. Quan creem un arxiu, aquest comen\u00e7ar\u00e0 amb - , mentre que si es crea un directori, comen\u00e7ar\u00e0 amb d .","title":"Permisos normals"},{"location":"sprint2/#permisos-en-arxius","text":"Lletres dels permisos : r : Lectura w : Escriptura (modificaci\u00f3) x : Execuci\u00f3 Creem un grup anomenat ddam i afegim l'usuari prova2 : A continuaci\u00f3, creem una carpeta a /tmp i un fitxer anomenat hola . Si revisem els permisos d'aquesta carpeta, podem veure el seg\u00fcent: Propietari : Permisos totals (lectura, escriptura i execuci\u00f3). Grup : Permisos totals (lectura, escriptura i execuci\u00f3). Altres : Nom\u00e9s permisos de lectura i execuci\u00f3, sense perm\u00eds d'escriptura.","title":"Permisos en arxius"},{"location":"sprint2/#canviar-grup-amb-chgrp","text":"El comandament chgrp s'utilitza per canviar el grup d'un directori o fitxer. Si es fa servir amb l'opci\u00f3 -R , el canvi es realitza de manera recursiva, \u00e9s a dir, no nom\u00e9s sobre el fitxer o directori especificat, sin\u00f3 tamb\u00e9 sobre tots els fitxers i subdirectoris dins d'ell. Creem el directori proves i l'assignem al grup ddam : Ara, el directori pertany al grup ddam :","title":"Canviar grup amb chgrp"},{"location":"sprint2/#modificar-permisos-amb-chmod","text":"El comandament chmod s'utilitza per modificar els permisos dels fitxers i directoris. Els permisos es representen amb n\u00fameros: 7 : Permisos totals (lectura, escriptura, execuci\u00f3). 5 : Permisos de lectura i execuci\u00f3. 0 : Sense permisos. Exemple de com modificar els permisos d'un fitxer o directori: Tamb\u00e9 podem afegir permisos als grups de la seg\u00fcent manera. Per exemple, g+w afegeix el perm\u00eds d'escriptura al grup propietari, i o+r afegeix el perm\u00eds de lectura als \"altres\" usuaris: Quan s'assignen permisos de modificaci\u00f3 i execuci\u00f3, els arxius o directoris es ressalten en color verd:","title":"Modificar permisos amb chmod"},{"location":"sprint2/#permisos-especials","text":"Podem assignar permisos diferents a un directori o carpeta per a un usuari. Per exemple, podem configurar-los perqu\u00e8 cadasc\u00fa pugui esborrar nom\u00e9s els fitxers que ha creat, per\u00f2 no els dels altres. Per aconseguir-ho, farem servir el Sticky Bit .","title":"Permisos especials."},{"location":"sprint2/#creacio-de-la-carpeta-i-el-fitxer","text":"Creem una carpeta anomenada pelis i un fitxer anomenat script.sh dins d'aquesta carpeta: Assignem permisos d'execuci\u00f3 al fitxer script.sh , per tal que sigui executable pels usuaris que tinguin els permisos adequats: Afegim el perm\u00eds setuid (u+s) a l'script. Aquest perm\u00eds fa que l'script sigui executat per diversos usuaris, per\u00f2 amb els permisos del propietari del fitxer. Quan s'aplica aquest perm\u00eds, el fitxer canviar\u00e0 de color a vermell per indicar que el perm\u00eds ha estat afegit: El bit 4 indica que quan s'executi el fitxer, s'executar\u00e0 amb els permisos del propietari i no amb els del usuari que l'est\u00e0 executant. Aix\u00f2 assegura que l'script s'executi amb els privilegis necessaris per dur a terme les accions que requereix: Afegim el Sticky Bit (t) a la carpeta pelis . Aquest perm\u00eds fa que tots els usuaris poden veure el contingut de la carpeta, per\u00f2 nom\u00e9s podran eliminar els fitxers que han creat ells mateixos. Aix\u00f2 evita que un usuari pugui esborrar fitxers creats per altres usuaris dins del mateix directori: Creem dos fitxers dins de la carpeta pelis i comprovem el comportament amb diferents usuaris. Cada usuari nom\u00e9s pot veure els fitxers, per\u00f2 no pot eliminar els fitxers creats per altres usuaris, nom\u00e9s els que ha creat ell mateix:","title":"Creaci\u00f3 de la carpeta i el fitxer"},{"location":"sprint2/#permisos-acls","text":"Amb l'ordre getfacl podem veure els permisos dividits per grups i si hi ha algun perm\u00eds especial aqu\u00ed el podreu veure: Pr\u00e8viament hem creat l'usuari proves3 i ho hem ficat al grup ddam i l'hi afegim permisos especials amb setfcal , sense permisos en aquest cas, que t\u00e9 m\u00e9s prioritat que el perm\u00eds de l'usuari que ja tenia . Per veure'ls de nou fem servir la comanda getfacl i a la segona l\u00ednia surt aquest perm\u00eds especial. Si teniu permisos especials es mostra amb el + al final dels diversos permisos. setfacl -m user:nom_usuari:--- fixer.txt setfacl -m group:nom_usuari:--- carpeta setfacl -b fitxer/carpeta Confirmem que l'usuari prova3 no t\u00e9 permisos de cap tipus ja que no deixa ni entrar a la carpeta: Restablim els permisos especials:","title":"Permisos ACLs"},{"location":"sprint2/#6-particions","text":"","title":"6. Particions"},{"location":"sprint2/#estructura-de-linformacio","text":"La estructura de l'informaci\u00f3 es refereix a com es distribueix i s'emmagatzema la informaci\u00f3 dins d'un sistema d'emmagatzematge, com un disc dur o una mem\u00f2ria. En aquest context, hem de tenir en compte dos conceptes importants: la fragmentaci\u00f3 interna i la fragmentaci\u00f3 externa .","title":"Estructura de l'informaci\u00f3"},{"location":"sprint2/#mida-de-sector-i-mida-de-bloc","text":"Mida de sector : El sector \u00e9s la unitat m\u00e9s petita d'emmagatzematge en un disc o sistema d'arxius. \u00c9s una porci\u00f3 del disc on es poden llegir o escriure dades. Normalment, els sectors tenen una mida de 512 bytes, tot i que tamb\u00e9 poden ser de 4 KB en discs m\u00e9s moderns. Mida de bloc : El bloc \u00e9s una unitat d'emmagatzematge l\u00f2gica utilitzada pel sistema d'arxius. Normalment, un bloc \u00e9s m\u00e9s gran que un sector i la seva mida pot variar depenent del sistema d'arxius (per exemple, 4 KB, 8 KB, etc.). Els arxius es divideixen en blocs per al seu emmagatzematge.","title":"Mida de sector i mida de bloc"},{"location":"sprint2/#fragmentacio-interna","text":"La fragmentaci\u00f3 interna es produeix quan un arxiu petit no omple completament el bloc d'emmagatzematge assignat. Per exemple, si un bloc \u00e9s de 4 KB per\u00f2 un arxiu nom\u00e9s ocupa 1 KB, els 3 KB restants del bloc es queden desaprofitats, cosa que provoca un \u00fas ineficient de l'espai. Soluci\u00f3 : Per evitar la fragmentaci\u00f3 interna, es podria fer que els blocs fossin m\u00e9s petits, cosa que permetria aprofitar millor l'espai. Tanmateix, fer els blocs m\u00e9s petits tamb\u00e9 t\u00e9 inconvenients, ja que podria comportar una major quantitat de blocs que cal llegir i escriure, la qual cosa podria fer que el sistema fos m\u00e9s lent. A m\u00e9s, quan es suprimeix un arxiu, els blocs buits s'han de gestionar, la qual cosa pot disminuir l'efici\u00e8ncia general.","title":"Fragmentaci\u00f3 interna"},{"location":"sprint2/#fragmentacio-externa","text":"La fragmentaci\u00f3 externa es produeix quan un arxiu es divideix en diversos blocs dispersos per tot el sistema d'emmagatzematge, en lloc d'emmagatzemar-se de manera contigua. Aix\u00f2 passa quan els arxius es guarden en blocs diferents sense un ordre espec\u00edfic, el que pot alentir l'acc\u00e9s a l'arxiu, ja que el sistema ha de buscar els blocs en diferents parts del disc. Soluci\u00f3 : La desfragmentaci\u00f3 \u00e9s la t\u00e8cnica utilitzada per resoldre aquest problema. Consisteix a reorganitzar els blocs dels arxius de manera que s'emmagatzemin de forma contigua, millorant aix\u00ed la velocitat d'acc\u00e9s. Amb les eines de desfragmentaci\u00f3, es pot analitzar i reorganitzar el disc per minimitzar la fragmentaci\u00f3 externa i millorar el rendiment general.","title":"Fragmentaci\u00f3 externa"},{"location":"sprint2/#estructura-fisica","text":"Mec\u00e0nica : En discos durs tradicionals (HDD), l'estructura f\u00edsica \u00e9s mec\u00e0nica, amb components m\u00f2bils com discs magn\u00e8tics i bra\u00e7os d'acc\u00e9s que es mouen per llegir i escriure dades. Els HDD solen ser m\u00e9s lents a causa d'aquestes parts m\u00f2bils. S\u00f2lida : En discos de mem\u00f2ria s\u00f2lida (SSD), l'estructura \u00e9s electr\u00f2nica, sense parts m\u00f2bils, utilitzant mem\u00f2ria flash per emmagatzemar dades. Els SSD tenen velocitats d'acc\u00e9s molt m\u00e9s r\u00e0pides que els HDD, ja que no depenen de components mec\u00e0nics.","title":"Estructura F\u00edsica"},{"location":"sprint2/#estructura-logica","text":"GPT (GUID Partition Table) : \u00c9s un sistema modern per gestionar particions, amb suport per a discos de m\u00e9s de 2 TB i fins a 128 particions. GPT \u00e9s m\u00e9s fiable i flexible que MBR, i \u00e9s \u00e0mpliament utilitzat en sistemes modernes. MBR (Master Boot Record) : \u00c9s un sistema antic de 32 bits, amb limitacions de capacitat i nombre de particions (fins a 2 TB i 4 particions). Tot i que encara es fa servir en alguns sistemes m\u00e9s antics, GPT \u00e9s el sistema preferit en dispositius moderns. Per veure quina estructura l\u00f2gia tenim el que es fara sera executar la comanda gdisk /dev/sda : Per llistar els discs i particions, farem \u00fas de la comanda fdisk . Podrem veure tots els sectors amb un tamany de 512 bytes , que \u00e9s la unitat m\u00ednima f\u00edsica on es guarden les dades.","title":"Estructura L\u00f2gica"},{"location":"sprint2/#tamany-del-bloc","text":"Seguidament, observarem el tamany actual del bloc , que per defecte \u00e9s de 4096 bytes . Aquest tamany es pot canviar depenent de l'\u00fas. Les dades es guarden en 8 sectors .","title":"Tamany del Bloc"},{"location":"sprint2/#tamany-del-fitxer-en-el-sistema","text":"A continuaci\u00f3, podem veure que un fitxer ocupa m\u00e9s en el sistema operatiu del que pesa el propi fitxer, ja que el bloc t\u00e9 un tamany m\u00ednim assignat. Creem el fitxer hola amb el seu contingut, i amb les opcions -b veiem el tamany del propi document, mentre que amb -sh veiem el que ocupa en el sistema.","title":"Tamany del Fitxer en el Sistema"},{"location":"sprint2/#visualitzacio-de-lus-despai","text":"Amb la comanda df -T podem veure l'unitat d'emmagatzematge i totes les parts que estan en \u00fas:","title":"Visualitzaci\u00f3 de l'\u00das d'Espai"},{"location":"sprint2/#llistar-dispositius-connectats","text":"Per veure tots els dispositius connectats al teu sistema, incloent discs i particions, farem \u00fas de la comanda lsblk : Primer de tot, per crear una nova partici\u00f3, farem \u00fas de sudo fdisk /dev/sda , sent sda l'identificador del teu disc: Seguidament, haurem d'escriure n i pressionar Enter per crear la nova partici\u00f3. El sistema ens preguntar\u00e0 si volem crear una partici\u00f3 prim\u00e0ria (p) o estesa (e) . En aquest cas, seleccionarem una partici\u00f3 prim\u00e0ria (p) . Ara, especificarem el n\u00famero de partici\u00f3, o podem utilitzar el n\u00famero suggerit per defecte. Premem Enter per acceptar el valor per defecte del primer sector i, tot seguit, definirem la mida de la partici\u00f3 en GB , per exemple, +20GB . Tamb\u00e9 podem pressionar Enter per assignar tota la capacitat disponible al disc. Per verificar la nova partici\u00f3, haurem d'escriure p per llistar les particions i assegurar-nos que la nova partici\u00f3 s'ha creat correctament. Per guardar els canvis, escrivim w i pressionem Enter . Aix\u00f2 escriur\u00e0 la nova taula de particions i sortir\u00e0 de fdisk . Finalment, per crear un sistema d'arxius en la nova partici\u00f3: sudo mkfs.ext4 /dev/sda3 .","title":"Llistar Dispositius Connectats"},{"location":"sprint2/#tipus-de-formateig","text":"Format de alt nivell (r\u00e0pid) : Elimina el sistema de fitxers existent, per\u00f2 no borra els arxius . Crea una nova estructura del sistema de fitxers, per\u00f2 les dades poden ser recuperades mitjan\u00e7ant eines de recuperaci\u00f3. \u00c9s el m\u00e9s r\u00e0pid i generalment utilitzat quan volem reutilitzar un dispositiu d'emmagatzematge sense perdre dades de manera permanent immediata. Format normal : Elimina el sistema de fitxers i marca els sectors defectuosos . Els arxius desapareixen, per\u00f2 encara poden ser recuperats fins que es sobreescriguin amb nous fitxers. Aquest tipus de format \u00e9s \u00fatil quan el dispositiu pot tenir problemes de seguretat o corrupci\u00f3 i volem netejar la unitat. Format de baix nivell (lent) : Borra totes les dades de manera exhaustiva, incloent-hi l\u2019estructura f\u00edsica del disc. El disc es restaura al seu estat inicial, com si fos nou. \u00c9s el proc\u00e9s m\u00e9s lent i permanent, ja que les dades es perden de forma irreversible. Es recomana per a situacions on la seguretat \u00e9s crucial, ja que assegura la destrucci\u00f3 de dades de manera completa.","title":"Tipus de formateig"},{"location":"sprint2/#que-es-un-sistema-de-fitxers","text":"Un sistema de fitxers \u00e9s un conjunt de mecanismes que organitza, gestiona i emmagatzema fitxers en un dispositiu d'emmagatzematge com un disc dur, SSD o dispositius de mem\u00f2ria extra\u00efble. Un sistema de fitxers defineix la manera en qu\u00e8 es guarden les dades, com s'hi accedeix, i com es gestionen els noms i permisos dels fitxers. Aquests sistemes determinen com els arxius s\u00f3n organitzats en el disc, com s\u00f3n identificats, llegits, escrits, i gestionats, aix\u00ed com la manera en qu\u00e8 es gestionen els permisos d'acc\u00e9s i la seguretat de les dades. Exemples comuns de sistemes de fitxers : ext4 : Sistema de fitxers usat habitualment en distribucions de Linux, conegut per la seva estabilitat i efici\u00e8ncia. NTFS : Sistema de fitxers propietari de Microsoft, utilitzat en la majoria dels sistemes Windows, amb suport per a arxius grans i seguretat avan\u00e7ada. FAT32 : Un sistema m\u00e9s antic, compatible amb molts dispositius i sistemes operatius, per\u00f2 amb limitacions, com la mida m\u00e0xima d'arxiu de 4 GB. Btrfs : Un sistema de fitxers de nova generaci\u00f3 per a Linux, orientat a la gesti\u00f3 avan\u00e7ada de dades i a la integritat dels arxius. XFS : Un sistema de fitxers altament escalable i de rendiment elevat, utilitzat principalment en entorns de servidor.","title":"Qu\u00e8 \u00e9s un sistema de fitxers?"},{"location":"sprint2/#apuntadors-i-gestio-dels-fitxers","text":"Inode : Cada fitxer en un sistema de fitxers t\u00e9 un inode associat. L'inode emmagatzema tota la informaci\u00f3 del fitxer, com ara els permisos, la mida, les dates de creaci\u00f3 i modificaci\u00f3, aix\u00ed com la ubicaci\u00f3 f\u00edsica de les dades en el disc. Important : L'inode no cont\u00e9 el nom del fitxer. El nom del fitxer es guarda en un directori que apunta a un inode espec\u00edfic. Directoris : Els directoris s\u00f3n estructures de dades especials que actuen com a taules de mapeig. Vinculen els noms dels fitxers amb els seus respectius inodes . En lloc de contenir les dades reals dels fitxers, els directoris contenen enlla\u00e7os (apuntadors) als inodes que representen cada fitxer. Aix\u00f2 permet accedir al fitxer a trav\u00e9s del seu nom. Apuntadors a blocs de dades : Els inodes contenen apuntadors que referencien els blocs de dades on es desa el contingut real del fitxer. Els blocs de dades s\u00f3n les unitats f\u00edsiques d'emmagatzematge on es guarden les dades. Quan un fitxer \u00e9s petit, pot ser emmagatzemat en un \u00fanic bloc. Tanmateix, per a fitxers m\u00e9s grans, es poden utilitzar apuntadors dobles o triples : Apuntadors simples : Apunten directament als blocs de dades. Apuntadors dobles : Apunten a blocs que, al seu torn, contenen m\u00e9s apuntadors a blocs de dades. Apuntadors triples : Apunten a blocs que contenen apuntadors dobles, oferint una capa addicional de refer\u00e8ncies per a fitxers molt grans.","title":"Apuntadors i gesti\u00f3 dels fitxers"},{"location":"sprint2/#creacio-de-particions","text":"Primer de tot, cal saber que EXT4 \u00e9s un sistema de fitxers utilitzat principalment en Linux. Aquest sistema de fitxers millora la gesti\u00f3 de particions mitjan\u00e7ant diverses caracter\u00edstiques importants com ara: seguretat de registres de canvis , que permet mantenir un registre dels canvis realitzats al sistema de fitxers, facilitant la recuperaci\u00f3 en cas de fallades; suport per a fitxers i particions m\u00e9s grans , permetent gestionar volums de dades molt m\u00e9s grans que altres sistemes de fitxers com FAT32; millora de l'organitzaci\u00f3 i reducci\u00f3 de la fragmentaci\u00f3 , la qual cosa redueix la fragmentaci\u00f3 i millora la velocitat d'acc\u00e9s als arxius; m\u00e9s r\u00e0pid i compatible amb versions anteriors , sent m\u00e9s eficient i mantenint compatibilitat amb versions antigues del sistema operatiu Linux; i fiabilitat i adequaci\u00f3 per a grans volums de dades , ja que \u00e9s un sistema robust i ideal per gestionar grans quantitats de dades. Per llistar totes les particions disponibles en el sistema, utilitzarem la comanda fdisk -l . Aquesta comanda mostrar\u00e0 totes les particions creades en els discs del sistema. Haurem de buscar una partici\u00f3 que hem creat pr\u00e8viament amb una mida de 2 GB. Una vegada provat el disc i sabent el seu nom, entrarem dins d'ell amb fdisk /dev/sdb :","title":"Creaci\u00f3 de particions"},{"location":"sprint2/#en-aquest-punt-farem-la-creacio-duna-particio","text":"Per crear la partici\u00f3, haurem d'introduir la lletra n , de new . Seguidament, el sistema ens far\u00e0 escollir entre una partici\u00f3 prim\u00e0ria o estesa . La difer\u00e8ncia principal \u00e9s la seg\u00fcent: La partici\u00f3 prim\u00e0ria es pot utilitzar directament per emmagatzemar dades o un sistema operatiu. La partici\u00f3 estesa serveix per crear m\u00faltiples particions l\u00f2giques dins d'ella. En el sistema MBR, es poden tenir fins a 4 particions prim\u00e0ries, per\u00f2 nom\u00e9s una partici\u00f3 estesa, que pot contenir diverses particions l\u00f2giques. En aquest cas, farem enter per escollir el valor predeterminat, que ser\u00e0 la partici\u00f3 prim\u00e0ria. En el nombre de particions, farem tamb\u00e9 \u00fas del valor predeterminat, que ser\u00e0 una sola partici\u00f3. Arribem a la part on hem d'escollir la mida de la partici\u00f3. El valor predeterminat \u00e9s una mica m\u00e9s de 4 milions de sectors, aix\u00ed que crearem una partici\u00f3 de la meitat, \u00e9s a dir, 2 milions de sectors . Finalment, introdu\u00efm w per guardar els canvis. Per verificar que la partici\u00f3 s'ha creat correctament, utilitzem fdisk -l i veiem el disc sdb de 2GB i la partici\u00f3 sdb1 : Amb la comanda mkfs.ext4 -b 2048 /dev/sdb1 el que estarem fent \u00e9s especificar la mida del bloc quan es crea un sistema de fitxers EXT4 en la partici\u00f3. En aquest cas, li estem indicant una mida de 2048 bytes , la qual \u00e9s \u00fatil per a arxius petits perqu\u00e8 permet un \u00fas m\u00e9s eficient de l'espai i redueix la fragmentaci\u00f3 interna. No obstant aix\u00f2, per arxius grans, podria ser menys eficient en termes de rendiment, ja que es necessiten m\u00e9s operacions per llegir o escriure els arxius. Comprovem la mida del bloc fent un grep del bloc de la nostra partici\u00f3 i veiem size = 2048 :","title":"En aquest punt farem la Creaci\u00f3 d'una partici\u00f3:"},{"location":"sprint2/#muntatge-de-particions","text":"El muntatge de particions \u00e9s el proc\u00e9s mitjan\u00e7ant el qual el sistema operatiu associa una partici\u00f3 o dispositiu d'emmagatzematge a un directori del sistema de fitxers, permetent accedir-hi i gestionar els arxius. Per muntar una partici\u00f3 es fa servir la comanda mount , i per desmuntar-la s'utilitza umount . Muntar una partici\u00f3 \u00e9s necessari abans de poder treballar amb els seus arxius al sistema. Tenim dues maneres de muntar una partici\u00f3: De forma temporal , \u00e9s a dir, que quan l'equip es reinicia, s'ha de tornar a muntar la partici\u00f3. De forma definitiva , una vegada muntada la partici\u00f3 ja no es \"perd\" aquest muntatge ni quan l'equip es reinicia.","title":"Muntatge de particions"},{"location":"sprint2/#muntatge-temporal","text":"Primer de tot, creem un directori que s'anomenar\u00e0 particio1 . Farem el muntatge de la partici\u00f3 dins del directori que hem creat amb la comanda mount -t ext4 <partici\u00f3> <directori> . Algunes opcions de permisos que accepta aquesta comanda s\u00f3n les seg\u00fcents: -o rw : Muntatge en mode lectura-escriptura. -o ro : Muntatge en mode nom\u00e9s lectura. -o noatime : No actualitza el temps d'acc\u00e9s als fitxers, millorant el rendiment. -o uid=<id_usuari>, gid=<id_grup> : Assigna un usuari i grup espec\u00edfics als fitxers. -o noexec : Impedeix l'execuci\u00f3 de fitxers executables. -o umask=<mascara> : Controla els permisos per defecte dels fitxers creats. Aquestes opcions permeten personalitzar com es muntar\u00e0 la partici\u00f3 segons les necessitats del sistema. Podem veure que, una vegada muntada la partici\u00f3, en el directori creat han aparegut fitxers, i all\u00e0 mateix creem un fitxer de prova . Si la desmuntem amb la comanda umount , tots els fitxers no es mostren. No s'han eliminat, simplement la partici\u00f3 no est\u00e0 muntada i no apareixeran fins que es torni a muntar: Finalment , per veure que aquest muntatge \u00e9s temporal, el que s'ha de fer \u00e9s muntar la partici\u00f3 com ja s'ha explicat a dalt i reiniciar l'equip. Quan es torni a iniciar, hem de fer un ls del directori particio1 i veurem el directori buit, ja que s'ha desmuntat la partici\u00f3:","title":"Muntatge temporal"},{"location":"sprint2/#muntatge-definitiu","text":"Per muntar la partici\u00f3 de forma definitiva, cal editar el fitxer de configuraci\u00f3 /etc/fstab , que cont\u00e9 informaci\u00f3 sobre les particions i dispositius d'emmagatzematge. Aquest fitxer especifica com i on s'han de muntar autom\u00e0ticament durant l'arrencada del sistema. Fem un nano /etc/fstab per editar aquest fitxer. Exemple d'una l\u00ednia : /dev/sdb1 /home.... ext4 rw 0 1 /dev/sdb1 : Aquesta ser\u00e0 la partici\u00f3 que es vol muntar. /home.... : \u00c9s el directori on es vol muntar el dispositiu. ext4 : \u00c9s el tipus de sistema de fitxers. rw : Indica els permisos que es poden atorgar, com escriptura, lectura o execuci\u00f3. 1 o 0 : Aquest valor especifica en quin ordre el sistema de fitxers ha de ser verificat durant l'inici. El valor 1 indica que aquest sistema de fitxers ha de ser verificat primer. Si fos 0 , el sistema de fitxers NO es verifica durant l'arrencada. Dins del fitxer, afegim la seg\u00fcent l\u00ednia per al nostre cas i la guardem: Reiniciem el sistema. Un cop reiniciat, anem al directori particio1 per comprovar que la partici\u00f3 segueix muntada correctament, ja que podem veure el seu contingut: En aquest punt ja tindrem muntada la partici\u00f3 de forma definitiva.","title":"Muntatge definitiu"},{"location":"sprint2/#carpetes-compartides","text":"Les carpetes compartides s\u00f3n directoris configurats perqu\u00e8 altres usuaris o dispositius de la xarxa hi puguin accedir, facilitant l'intercanvi de fitxers i la col\u00b7laboraci\u00f3.","title":"Carpetes Compartides"},{"location":"sprint2/#proces-per-compartir-una-carpeta","text":"Primer de tot, s'ha de crear un disc en la m\u00e0quina virtual que ser\u00e0 de 3 GB. En aquest cas, el disc es dir\u00e0 sdc : Seguidament, amb la comanda fdisk /dev/sdc , crearem la primera partici\u00f3 del disc afegit anteriorment: Disc amb la seva partici\u00f3:","title":"Proc\u00e9s per compartir una carpeta:"},{"location":"sprint2/#ext4","text":"Seguidament, s'haur\u00e0 de formatejar la partici\u00f3 sdc1 amb el sistema de fitxers ext4 : Comanda: mkfs.ext4 /dev/sdc1 Mirem la IP de la nostra m\u00e0quina virtual i tamb\u00e9 del nostre ordinador f\u00edsic (client) amb la comanda ip a . IP de la m\u00e0quina virtual : 192.168.201.204 IP de l'ordinador f\u00edsic (client) : 192.168.122.1 Veiem que estan connectades a la mateixa xarxa IP, aix\u00ed podrem fer la compartici\u00f3 de carpetes. En aquest punt comprovem que la m\u00e0quina virtual t\u00e9 la xarxa establerta com a Adaptador pont . Seguidament, creem una carpeta al directori /var amb el nom de particio2 i canviem els permisos d'aquesta carpeta a chown nobody:nogroup , que canvia el propietari d'un fitxer o directori a l'usuari nobody i al grup nogroup , utilitzats per recursos sense associaci\u00f3 espec\u00edfica a usuaris o grups. Editarem l'arxiu /etc/fstab per canviar la direcci\u00f3 a /var/particio2 per deixar muntada la partici\u00f3: Quan haguem editat el fitxer, farem un reboot de la m\u00e0quina virtual per assegurar-nos que la partici\u00f3 quedi muntada correctament. Despr\u00e9s, farem la instal\u00b7laci\u00f3 de Samba i Nautilus , tot i que finalment nom\u00e9s farem \u00fas de Samba : Samba \u00e9s un conjunt de programes que permeten compartir arxius i recursos entre sistemes Linux i Windows. Ara farem la instal\u00b7laci\u00f3 de SMB Client , que \u00e9s una eina de l\u00ednia de comandes que permet accedir i gestionar recursos compartits en una xarxa mitjan\u00e7ant el protocol SMB. Instal\u00b7laci\u00f3 de smbclient : Canviarem els permisos per als usuaris de Samba : Donarem perm\u00eds 1777 , que concedeix permisos de lectura, escriptura i execuci\u00f3 per a tots els usuaris, amb la restricci\u00f3 que nom\u00e9s el propietari dels fitxers pot eliminar-los. Afegirem al grup sambashare a l'usuari root , que ser\u00e0 qui pugui accedir a les carpetes configurades al fitxer smb.conf . Creem un usuari de prova anomenat gina : L'afegim al grup de Samba : Ara li posem una contrasenya a l'usuari perqu\u00e8 pugui accedir al Samba . En aquest cas, la contrasenya ser\u00e0 ginagina : Un cop configurat l'usuari i els permisos, anirem al fitxer /etc/samba/smb.conf : Dins del fitxer, afegirem les seg\u00fcents l\u00ednies d'informaci\u00f3 que a continuaci\u00f3 s'explicaran: Explicaci\u00f3 de cada l\u00ednia afegida : path : Defineix la ruta local on es troba el recurs compartit. browseable : Controla si el recurs \u00e9s visible a la xarxa. read only : Permet nom\u00e9s lectura si est\u00e0 configurat com a yes . writeable : Habilita l'escriptura al recurs compartit si est\u00e0 configurat com a yes . guest ok : Permet acc\u00e9s sense autenticaci\u00f3 si est\u00e0 configurat com a yes . read list : Especifica usuaris o grups amb acc\u00e9s de nom\u00e9s lectura. write list : Defineix usuaris o grups amb permisos d'escriptura. create mask : Configura els permisos predeterminats per a fitxers nous. directory mask : Estableix els permisos predeterminats per a directoris nous. Comprovem la IP de la nostra m\u00e0quina virtual: Introdu\u00efm aquesta IP de la m\u00e0quina virtual i ens dirigim a Fitxers del Client . A la barra lateral esquerra, a baix de tot, hi ha una secci\u00f3 on posa Altres ubicacions . Si hi fem clic, apareixer\u00e0 un buscador a la part inferior i hem de posar la seg\u00fcent adre\u00e7a: Un cop fet tot aix\u00f2, el resultat ser\u00e0 que en el Client veurem la carpeta compartida que pertany a la M\u00e0quina Virtual :","title":"EXT4"},{"location":"sprint2/#ntfs","text":"NTFS (New Technology File System) \u00e9s un sistema de fitxers desenvolupat per Microsoft per a sistemes operatius Windows. Ofereix suport per a grans volums de dades, alta integritat i seguretat de les dades. Permet una r\u00e0pida cerca de fitxers, compressi\u00f3 de fitxers, i seguretat a nivell de fitxers. NTFS tamb\u00e9 gestiona permisos d'acc\u00e9s i encripta fitxers per protegir dades sensibles. El primer pas ser\u00e0 afegir un nou disc de 3 GB. En aquest cas, ser\u00e0 el disc sdf . Un cop afegit el nou disc a la m\u00e0quina virtual, crearem una partici\u00f3 dins del disc anomenada sdf1 : Comprovaci\u00f3 del disc amb la seva partici\u00f3: Seguidament, farem la instal\u00b7laci\u00f3 de NTFS amb la comanda sudo apt install ntfs-3g : En cas de no tenir instal\u00b7lat Samba , l'instal\u00b7larem amb les seg\u00fcents comandes: sudo apt-get update<br> sudo apt-get install samba En aquest cas, ja el tenim instal\u00b7lat de fer-lo servir abans: Ara crearem una carpeta que volem compartir m\u00e9s endavant. Aquesta carpeta es dir\u00e0 ntfs_l_w . La crearem dins del directori /var : Seguidament, donarem permisos al nou directori:","title":"NTFS"},{"location":"sprint2/#muntar-la-particio","text":"Primer de tot, amb la seg\u00fcent comanda: sudo mkfs.ntfs -f /dev/sdf1 , el que farem ser\u00e0 formatejar la partici\u00f3 amb el sistema de fitxers NTFS . Despr\u00e9s, muntem la partici\u00f3 de manera temporal per comprovar que funciona correctament: Seguidament, creem un fitxer dins de la partici\u00f3 a /var/ntfs_l_w amb la comanda nano nom_fitxer.txt , que ens servir\u00e0 per veure m\u00e9s f\u00e0cilment si la partici\u00f3 est\u00e0 muntada correctament. En aquest punt, ja muntarem la partici\u00f3 sdf de manera definitiva. Aix\u00ed que editarem el fitxer /etc/fstab amb el sistema de fitxers NTFS : Quan haguem editat el fitxer, farem un reboot de la nostra m\u00e0quina virtual per tal que la partici\u00f3 quedi muntada correctament. Despr\u00e9s, comprovem que a la direcci\u00f3 on s'ha muntat trobem el fitxer creat anteriorment. Un cop configurats l'usuari i els permisos, entrarem al fitxer /etc/samba/smb.conf : Dins del fitxer, afegirem la seg\u00fcent configuraci\u00f3: [ntfs_l_w] path = /var/ntfs_l_w public = yes writable = yes browsable = yes guest ok = yes re ad list = gina write list = gina create mask = 0744 directory mask = 0755 Seguidament reiniciem samba amb sudo systemctl restart smbd i mirem el seu estat amb la comanda sudo systemctl status smbd","title":"Muntar la partici\u00f3"},{"location":"sprint2/#accedir","text":"Comprovem que els dos dispositius (amb Linux i Windows ) estiguin connectats a la mateixa xarxa. IP de la m\u00e0quina amb Linux : IP del Windows : Finalment, hem d'anar a la nostra m\u00e0quina amb Windows i accedir a l'apartat Este equipo . A dalt al buscador, hem d'introduir la direcci\u00f3 IP seguida del nom de la carpeta, com es mostra a continuaci\u00f3: I finalment, accedirem a la carpeta que hav\u00edem compartit des de la nostra m\u00e0quina Linux, veient el fitxer creat anteriorment.","title":"Accedir"},{"location":"sprint2/#7-copies-de-seguretat","text":"Una c\u00f2pia de seguretat \u00e9s una duplicaci\u00f3 dels fitxers o dades importants d\u2019un sistema, amb l'objectiu de protegir-los davant p\u00e8rdues, errors humans, fallades de maquinari o ciberatacs. La c\u00f2pia ha d\u2019estar en almenys dos suports diferents per evitar p\u00e8rdues si un suport falla, per exemple en dos discs. Un RAID combina diverses unitats d'emmagatzematge per augmentar la fiabilitat, el rendiment i la capacitat d'emmagatzematge, proporcionant redund\u00e0ncia contra fallades d'unitats i millorant la velocitat d'acc\u00e9s a les dades.","title":"7. C\u00f2pies de Seguretat"},{"location":"sprint2/#politiques-de-copies-de-seguretat","text":"Les pol\u00edtiques estableixen com es realitzaran les c\u00f2pies per garantir la seguretat i efici\u00e8ncia. Les tres t\u00e8cniques m\u00e9s comuns s\u00f3n:","title":"Pol\u00edtiques de c\u00f2pies de seguretat"},{"location":"sprint2/#completes","text":"Una c\u00f2pia de seguretat Completa crea una c\u00f2pia de tots els fitxers i dades seleccionades. Es sol utilitzar per c\u00f2pies setmanals o mensuals. Avantatges : Cont\u00e9 totes les dades en un sol conjunt i \u00e9s m\u00e9s senzilla i r\u00e0pida de restaurar, ja que nom\u00e9s es necessita la darrera c\u00f2pia completa. Desavantatges : \u00c9s lenta de fer, ja que requereix m\u00e9s temps i espai d'emmagatzematge.","title":"Completes"},{"location":"sprint2/#diferencials","text":"Una c\u00f2pia Diferencial crea una c\u00f2pia dels canvis efectuats des de l'\u00faltima c\u00f2pia completa realitzada. Es sol utilitzar per c\u00f2pies intermitents, di\u00e0ries o cada pocs dies. Avantatges : M\u00e9s r\u00e0pida i lleugera que una c\u00f2pia completa, i per restaurar, nom\u00e9s cal la darrera c\u00f2pia completa i l'\u00faltima c\u00f2pia diferencial. Desavantatges : Amb el temps, pot augmentar de mida, ja que inclou tots els canvis acumulats des de l'\u00faltima c\u00f2pia completa.","title":"Diferencials"},{"location":"sprint2/#incrementals","text":"Una c\u00f2pia Incremental crea una c\u00f2pia dels canvis realitzats des de l\u2019\u00faltima c\u00f2pia (sigui completa o incremental). El seu \u00fas \u00e9s per c\u00f2pies freq\u00fcents en entorns on el temps d'execuci\u00f3 \u00e9s cr\u00edtic. Avantatges : \u00c9s la t\u00e8cnica m\u00e9s r\u00e0pida i requereix menys espai. Desavantatges : La restauraci\u00f3 \u00e9s m\u00e9s lenta i complexa, ja que cal l'\u00faltima c\u00f2pia completa i totes les c\u00f2pies incrementals pr\u00e8vies. En cas que una c\u00f2pia incremental es perdi o es corrompi, pot afectar la restauraci\u00f3.","title":"Incrementals"},{"location":"sprint2/#resum-de-comparativa","text":"Tipus Velocitat de c\u00f2pia Espai requerit Facilitat de restauraci\u00f3 Requisits per restaurar Completa Lenta Alt Alta Nom\u00e9s la darrera c\u00f2pia completa Diferencial Moderada Moderat Mitjana Completa + darrera diferencial Incremental R\u00e0pida Baix Baixa Completa + totes les incrementals pr\u00e8vies","title":"Resum de comparativa"},{"location":"sprint2/#programes-amb-interficie","text":"Utilitzarem el programa de c\u00f2pies amb interf\u00edcie gr\u00e0fica D\u00e9j\u00e0 Dup","title":"Programes amb interf\u00edcie"},{"location":"sprint2/#deja-dup","text":"Primer de tot el descarregarem amb les seguents comandes: sudo apt update sudo apt install deja-dup","title":"D\u00e9j\u00e0 Dup"},{"location":"sprint2/#comprovacio-de-la-installacio","text":"L'aplicaci\u00f3 \"Respaldos\" que es veu al sistema Linux \u00e9s una interf\u00edcie gr\u00e0fica per a Deja Dup , que \u00e9s una eina de c\u00f2pia de seguretat per a sistemes GNOME.","title":"Comprovaci\u00f3 de la instal\u00b7laci\u00f3"},{"location":"sprint2/#copies","text":"En iniciar el programa, primer de tot hem de crear la primera c\u00f2pia, que ser\u00e0 una c\u00f2pia completa de tot all\u00f2 que es vulgui guardar. Per aix\u00f2, seleccionarem la primera opci\u00f3: Cree su primer respaldo . Ens demanar\u00e0 que indiquem quines carpetes volem afegir a la c\u00f2pia de seguretat i quines volen ser ignorades, com podria ser la de la brossa: En la seg\u00fcent finestra, haurem de triar on volem guardar la c\u00f2pia, que pot ser un disc extern, un servidor de xarxa o un servei en n\u00favol com Google Drive. En aquest cas, es guardar\u00e0 en una carpeta local: L'\u00faltim pas abans de fer la c\u00f2pia ser\u00e0 afegir una contrasenya per poder restaurar els arxius: D\u00e9j\u00e0 Dup realitza c\u00f2pies de seguretat autom\u00e0tiques utilitzant c\u00f2pies completes , diferencials i incrementals sense necessitat d'intervenci\u00f3 manual. Quan es fa la primera c\u00f2pia, D\u00e9j\u00e0 Dup realitza una c\u00f2pia completa de tots els fitxers seleccionats. A partir de la segona c\u00f2pia, el programa fa c\u00f2pies incrementals , copiant nom\u00e9s els fitxers que han canviat des de l'\u00faltima c\u00f2pia, ja sigui completa o incremental. Quan es fa una c\u00f2pia diferencial , D\u00e9j\u00e0 Dup copia els fitxers modificats des de la darrera c\u00f2pia completa , ignorant les c\u00f2pies incrementals. Aquest sistema autom\u00e0tic permet optimitzar l'espai, ja que nom\u00e9s es copien els canvis, sense necessitat que l'usuari configuri manualment el tipus de c\u00f2pia. Tamb\u00e9 podrem triar cada quant volem que es realitzi la c\u00f2pia de seguretat, en cas que les tinguem automatitzades.","title":"Copies"},{"location":"sprint2/#restaurar","text":"Per poder fer una restauraci\u00f3 de les c\u00f2pies de seguretat, el que hem de fer \u00e9s anar a l'apartat Restaurar del men\u00fa superior de l'aplicaci\u00f3. Seguidament, hem de seleccionar les carpetes/arxius que volem restaurar i, una vegada seleccionats, donarem clic al bot\u00f3 de Restaurar . Escollirem on volem fer la restauraci\u00f3, en la ubicaci\u00f3 original o en una altra ubicaci\u00f3. I ja estaria feta; tindr\u00edem de nou tot el contingut de manera correcta.","title":"Restaurar"},{"location":"sprint2/#comandes-cp-rsync-dd","text":"Per fer les c\u00f2pies de seguretat, el primer que es far\u00e0 ser\u00e0 crear dos discos a la m\u00e0quina virtual que siguin de 1GB cadascun. En el nostre cas, tenim els discos sdd i sde : El que hem de fer seguidament \u00e9s crear una partici\u00f3 per a cada disc del tamany corresponent i, finalment, formatejar les particions amb el sistema de fitxers ext4 : Particions creades: Formateig de sdd1 : Formateig de sde1 Un cop tenim les dues particions, anem a /var i creem una carpeta anomenada copia_dades , que ser\u00e0 on rebrem els fitxers de la c\u00f2pia. Tamb\u00e9 muntarem la partici\u00f3 sdd1 al directori d'aquesta carpeta que acabem de crear: Ara anirem a Documentos i all\u00ed crearem un fitxer de prova i una carpeta com podem veure a continuaci\u00f3:","title":"Comandes: CP, RSYNC, DD"},{"location":"sprint2/#cp","text":"En aquest punt, amb CP , farem servir la comanda sudo cp -R /directori_que_volem_copiar /directori_on_copiar . Per\u00f2 en l'exemple ens faltava crear la carpeta raul dins de la carpeta copia_dades . Aix\u00ed que creem aquesta carpeta i despr\u00e9s fem servir la comanda per fer la c\u00f2pia: En aquest moment ja tenim una c\u00f2pia realitzada amb \u00e8xit i de manera correcta. Per\u00f2 si ara creem un fitxer nou i eliminem el que tenim anomenat adeu , el que veurem \u00e9s que, al fer de nou la c\u00f2pia, no s'actualitza. El que passa \u00e9s que amb CP es fa una c\u00f2pia i, en cas que es canvi\u00ef alguna cosa, nom\u00e9s afegir\u00e0 el que \u00e9s nou, per\u00f2 mai eliminar\u00e0 res en el moment de fer la c\u00f2pia, aix\u00ed que la carpeta on s'ha fet la c\u00f2pia quedar\u00e0 desactualitzada:","title":"CP"},{"location":"sprint2/#rsync","text":"Ara provem amb la comanda de c\u00f2pia RSYNC , i el que podem apreciar \u00e9s que s'est\u00e0 eliminant al directori final l'arxiu que hav\u00edem eliminat de la carpeta origen, quedant aix\u00ed actualitzada la c\u00f2pia final: Amb RSYNC aconseguim que es faci una c\u00f2pia de manera intel\u00b7ligent, ja que nom\u00e9s es copiaran les modificacions. Tamb\u00e9 es pot fer entre m\u00e0quines remotes via SSH . La comanda de RSYNC pot portar els seg\u00fcents atributs: -a per mantenir els permisos -v per obtenir informaci\u00f3 dels processos --delete per eliminar els canvis que no hi ha","title":"RSYNC"},{"location":"sprint2/#dd","text":"Amb DD farem una c\u00f2pia de seguretat, per\u00f2 en aquest cas ser\u00e0 entre particions, entre la partici\u00f3 sdd i sde . Aquesta comanda no est\u00e0 dissenyada per fer c\u00f2pies de fitxers comuns, sin\u00f3 que treballa a nivell de bloc, clonant discs o particions, incloent estructures de metadades. Tamb\u00e9 es pot utilitzar per sobrescriure de manera segura dispositius abans de fer un formateig. Cal fer servir DD amb precauci\u00f3 per evitar la p\u00e8rdua irreparable de dades. La comanda sudo dd if=/dev/sdd1 of=/dev/sde1 ... ens diu que es far\u00e0 una c\u00f2pia de seguretat des de la partici\u00f3 sdd1 cap a la sde1 . Comprovem que els hash siguin iguals en les dues particions per confirmar que la c\u00f2pia s'ha realitzat amb \u00e8xit. I en cas que vulguem borrar una partici\u00f3 de manera segura abans de formatejar-la, el que farem ser\u00e0 sobreescriure la partici\u00f3 amb ceros per borrar el seu contingut:","title":"DD"},{"location":"sprint2/#8-automatitzacio","text":"","title":"8. Automatitzaci\u00f3"},{"location":"sprint2/#introduccio","text":"En els sistemes operatius amb Linux, l\u2019automatitzaci\u00f3 de tasques \u00e9s essencial per garantir el manteniment del sistema i l'execuci\u00f3 d'accions repetitives. Dues eines destacades per aquest prop\u00f2sit s\u00f3n Cron i Anacron , que permeten programar l'execuci\u00f3 de processos i scripts de manera autom\u00e0tica. Encara que comparteixen la mateixa finalitat, tenen caracter\u00edstiques diferents que les fan adequades per a tasques espec\u00edfics. A continuaci\u00f3 es mostra les difer\u00e8ncies entre Cron i Anacron :","title":"Introducci\u00f3"},{"location":"sprint2/#diferencies-entre-cron-i-anacron","text":"Caracter\u00edstica Cron Anacron Funci\u00f3 principal Executar tasques programades a intervals regulars o a hores concretes. Garantir que les tasques pendents s'executin quan el sistema s'enc\u00e9n, encara que estigu\u00e9s apagat. Requisit de sistema Nom\u00e9s funciona si l'ordinador est\u00e0 enc\u00e8s a l'hora programada. Executa tasques programades tan bon punt el sistema es posa en marxa si estaven pendents. Usuaris t\u00edpics Tasques d\u2019usuaris o administradors que necessiten precisi\u00f3 temporal. Tasques d\u2019administradors per al manteniment general del sistema (nivell global). Fitxers de configuraci\u00f3 - /etc/crontab per a tasques globals. - crontab -e per a usuaris espec\u00edfics. - /etc/anacrontab per a configuraci\u00f3 de tasques retardades. Freq\u00fc\u00e8ncia m\u00ednima Minuts (es pot programar per executar-se cada minut). Dies (dissenyat per a tasques amb menys freq\u00fc\u00e8ncia). Flexibilitat amb apagat No pot recuperar tasques perdudes si el sistema estava apagat en el moment previst. Pot detectar tasques no completades i executar-les quan el sistema es reinicia.","title":"Difer\u00e8ncies entre Cron i Anacron"},{"location":"sprint2/#cron-en-detall","text":"Execuci\u00f3 precisa : Utilitza un format d\u2019hora i data molt concret (minut, hora, dia del mes, mes, dia de la setmana) per programar tasques. Configuraci\u00f3 : Fitxer global: /etc/crontab . Per a usuaris espec\u00edfics: crontab -e (modifica el crontab de l\u2019usuari que executa la comanda). Ubicaci\u00f3 dels scripts : cron.hourly , cron.daily , cron.weekly , cron.monthly s\u00f3n carpetes dins /etc/cron.* on es poden posar scripts per executar-se a intervals regulars.","title":"Cron en detall"},{"location":"sprint2/#anacron-en-detall","text":"Execuci\u00f3 flexible : Ideal per tasques que no necessiten precisi\u00f3 per\u00f2 han de garantir-se (com actualitzacions del sistema o c\u00f2pies de seguretat). Configuraci\u00f3 : Utilitza el fitxer /etc/anacrontab per definir les tasques. Cada tasca especifica: Per\u00edode de temps (en dies). Nom de la tasca . Comanda per executar. Dissenyat per sistemes que no estan sempre encesos : Assegura l'execuci\u00f3 fins i tot en port\u00e0tils o sistemes que s\u2019apaguen amb freq\u00fc\u00e8ncia. Cron \u00e9s perfecte per tasques amb un horari exacte en sistemes que estan sempre operatius. I Anacron \u00e9s ideal per a tasques que no corren presa per\u00f2 han de ser executades en algun moment, independentment de si el sistema estava apagat.","title":"Anacron en detall"},{"location":"sprint2/#part-practica","text":"En aquest apartat es posar\u00e0 en pr\u00e0ctica el Cron i l' Anacron per fer l'automatitzaci\u00f3 de la compressi\u00f3 d'un directori i que sigui guardat a l'Escriptori.","title":"Part Pr\u00e0ctica"},{"location":"sprint2/#creacio-i-execucio-dun-script","text":"Primer de tot s'ha de crear un script, en aquest cas nano copia.sh , on donarem l'ordre que un directori sigui comprimit i guardat en una ubicaci\u00f3 espec\u00edfica. Dins del fitxer hem de posar la data, que estar\u00e0 a la primera l\u00ednia del codi, i guardar\u00e0 el moment en qu\u00e8 es fa \u00fas del Script . Seguidament introdu\u00efm la comanda que comen\u00e7a amb \"/home/...gz\" , que \u00e9s on es guardar\u00e0 i amb el nom que tindr\u00e0 la compressi\u00f3, seguit del directori que es vol comprimir, \"/home/../Documentos\" . Una vegada configurat el fitxer, sortim i guardem. En aquest moment hem de canviar els permisos del fitxer copia.sh perqu\u00e8 tothom tingui permisos d'execuci\u00f3 amb chmod +x copia.sh : Ara ja es podria executar el Script , aix\u00ed que fem ./copia.sh i observem el seu resultat: Trobem que ha generat el comprimit i l'ha guardat a l' Escriptori . Tamb\u00e9 podem veure que el nom del comprimit \u00e9s el que li hav\u00edem posat, amb, a m\u00e9s, uns n\u00fameros que representen la data del moment de la creaci\u00f3.","title":"Creaci\u00f3 i Execuci\u00f3 d'un Script"},{"location":"sprint2/#automatitzacio-amb-cron","text":"Per fer una automatitzaci\u00f3 amb Cron el primer que s'ha de fer \u00e9s anar al fitxer /etc/crontab per afegir la nostra tasca de l'Script anterior. Afegirem una l\u00ednia seguint l'ordre de dades establert. Primer de tot s'ha d'introduir Minut i Hora del moment que es vol que s'executi la tasca. Seguidament aniran el Dia i Mes de l'any i el n\u00famero del dia de la setmana, sent Diumenge = 0 . Finalment indiquem el nom de l' Usuari i on es troba l' Script . Una vegada guardats els canvis, esperem que sigui l'hora en qu\u00e8 es realitzar\u00e0 la tasca per comprovar que s'obt\u00e9 el resultat esperat. I finalment obtenim el resultat, creant aix\u00ed el seg\u00fcent comprimit: Ara tornem a modificar el /etc/crontab perqu\u00e8 es torni a executar l'Script, per\u00f2 ara tancant la m\u00e0quina virtual i esperant un minut m\u00e9s de l'hora a qu\u00e8 volem que s'executi l' Script per veure si es far\u00e0 en tornar a iniciar la m\u00e0quina virtual. L\u00ednia modificada: Una vegada iniciada la m\u00e0quina virtual, esperem i veiem que no s'executa res ja que amb el Cron no s'executar\u00e0 si la m\u00e0quina ha estat apagada. Llavors hem de passar al seg\u00fcent m\u00e8tode.","title":"Automatitzaci\u00f3 amb Cron"},{"location":"sprint2/#automatitzacio-amb-anacron","text":"Despr\u00e9s de veure com s'automatitzava amb Cron , passem a veure les automatitzacions amb Anacron , que ens permetran fer tasques malgrat que l'ordinador hagi estat apagat, ja que les executar\u00e0 un cop estigui enc\u00e8s. Si anem al fitxer /etc/anacrontab , podem veure en una l\u00ednia que el que fa \u00e9s executar el cron.daily , que \u00e9s el Cron que s'executar\u00e0 cada dia i s'executar\u00e0 5 minuts despr\u00e9s d'encendre l'ordinador. Llavors, el que farem despr\u00e9s de saber aix\u00f2 ser\u00e0 anar al /etc/crontab i comentar la l\u00ednia que vam afegir en la secci\u00f3 anterior. Ara hem de moure l' Script des del nostre /home fins al cron.daily de la seg\u00fcent manera i comprovar que est\u00e0 en aquest directori: Quan la movem al cron.daily l'hem de cambiar el nom a copia : D'aquesta manera, cada dia quan s'inici\u00ef l'ordinador, s'executar\u00e0 l'automatitzaci\u00f3 quan passi el temps establert al fitxer del Anacron , solucionant aix\u00ed el problema que aportava el Cron . Finalment, per a aquesta prova hem modificat el temps en qu\u00e8 s'executar\u00e0 el Daily una vegada iniciat el sistema. En aquest cas, el baixem a 1 minut: Ara reiniciem la m\u00e0quina i despr\u00e9s comprovem que al minut d'haver-se iniciat s'executa la tasca i apareix el comprimit a l'Escriptori. Per veure si l'automatitzaci\u00f3 s'ha processat, el que hem de fer \u00e9s fer una visualitzaci\u00f3 del fitxer cron.daily . En cas que s'hagi executat, trobarem en n\u00fameros el moment exacte d'aquesta execuci\u00f3. Finalment es crea el nostre comprimit i al cron.daily veiem el moment de l'execuci\u00f3:","title":"Automatitzaci\u00f3 amb Anacron"},{"location":"sprint3/","text":"Gesti\u00f3 de Dominis i Accessos La Gesti\u00f3 de Dominis i Accessos \u00e9s el proc\u00e9s d\u2019administrar els permisos i els drets d'acc\u00e9s dels usuaris a recursos i sistemes dins d\u2019un domini, assegurant la seguretat i el control de la informaci\u00f3. Inclou la creaci\u00f3, modificaci\u00f3 i eliminaci\u00f3 d\u2019usuaris, aix\u00ed com la definici\u00f3 de pol\u00edtiques d'autoritzaci\u00f3. Tamb\u00e9 hem de saber que una Unitat Organitzativa (UO) \u00e9s una estructura l\u00f2gica per organitzar i gestionar usuaris, grups, recursos i permisos, sovint vinculada a dominis o serveis com LDAP. Aquesta agrupaci\u00f3 facilita l'administraci\u00f3 centralitzada i el control d'acc\u00e9s en entorns corporatius. 1. Instal\u00b7laci\u00f3 del domini LDAP Primer de tot, el que caldran seran dues m\u00e0quines virtuals amb Ubuntu Desktop . Una s'encarregar\u00e0 de ser el servidor i l'altra actuar\u00e0 com a client . Una vegada tenim les dues m\u00e0quines, configurem la xarxa de cada una en Xarxa NAT . Per comen\u00e7ar, anirem a la m\u00e0quina virtual que far\u00e0 com a Servidor , i mirarem la seva IP amb ip a : La nostra IP en aquest cas ser\u00e0 10.0.2.15 en el Servidor . A continuaci\u00f3, configurem la xarxa del nostre sistema de la seg\u00fcent manera: Per comprovar la connexi\u00f3, utilitzem la comanda ping amb el DNS que \u00e9s 8.8.8.8 : Despr\u00e9s de tot, anem al fitxer /etc/hosts on introduirem la nostra IP d'abans seguida del nostre host name i domini de la seg\u00fcent manera: Instal\u00b7laci\u00f3 de Slapd Fem \u00fas de apt install slapd ldap-utils per instal\u00b7lar el paquet i primerament ens portar\u00e0 a la seg\u00fcent finestra: En aquesta finestra hem d'introduir la contrasenya que ens permet entrar a slapd com a administrador. Li donem a Aceptar i en la seg\u00fcent finestra que ens surt confirmem la contrasenya introdu\u00efda: Un altre cop donem a Aceptar i finalment, si tot va b\u00e9, tindrem la instal\u00b7laci\u00f3 finalitzada amb \u00e8xit. Un cop fet el pas anterior, executem la comanda slapcat i ens mostrar\u00e0 una s\u00e8rie d'informaci\u00f3 que \u00e9s tota aquella referent a LDAP , que s'utilitza per accedir i gestionar informaci\u00f3 en serveis de directoris, com usuaris i recursos dins d'una xarxa. Seguidament, hem de tenir una s\u00e8rie d'arxius que hem descarregat amb antelaci\u00f3. En aquest cas els tenim ja en un comprimit ZIP a la carpeta Descargas , aix\u00ed que anem i el descomprimim al directori de la seg\u00fcent manera: Obtenim cinc fitxers dels quals un \u00e9s el fitxer base , que en LDAP cont\u00e9 la configuraci\u00f3 inicial d\u2019un domini o directori. Es fa servir per inicialitzar la base de dades LDAP abans d'afegir-hi m\u00e9s dades. Es pot fer pel fitxer base o, com veurem a continuaci\u00f3, per comandes. Configuraci\u00f3 de Slapd Ara configurem el servei LDAP amb la comanda dpkg-reconfigure slapd : Primer de tot s'obrir\u00e0 una finestra on hem de seleccionar l'opci\u00f3 de NO per continuar amb la configuraci\u00f3. Seguidament hem d'introduir el nom que hav\u00edem posat del nostre host amb el domini del DNS , en aquest cas ser\u00e0 raul.cat , i donem a Aceptar . En una altra finestra ens demanen el Nom de l'organitzaci\u00f3 que estem creant, i en aquest cas ser\u00e0 igual que abans: raul.cat : En la seg\u00fcent finestra que ens sortir\u00e0 ens demanaran la contrasenya de l'administrador per accedir al directori LDAP : Confirmaci\u00f3 de la contrasenya: En la nova finestra que sortir\u00e0 a continuaci\u00f3 hem de donar a l'opci\u00f3 de SI : I finalment, en l'\u00faltima finestra hem de seleccionar l'opci\u00f3 de SI : I ja tindr\u00edem creat el directori de LDAP amb totes les configuracions. Ara tornem a utilitzar la comanda slapcat i veiem que respecte al d'abans ara s'han actualitzat els noms de l'organitzaci\u00f3 i el domini. Breument, la informaci\u00f3 vol dir el seg\u00fcent: dn: dc=hostname,dc=domini : Identificador \u00fanic de l'entrada LDAP. objectClass: top : Classe d'objecte b\u00e0sica per a totes les entrades. objectClass: domain : Indica que l'entrada \u00e9s un domini LDAP. dc: exemple : Component del domini ( exemple ) dins de l'arbre LDAP. Configuraci\u00f3 dels fitxers .ldif En aquest moment anirem configurant els fitxers que hav\u00edem descarregat abans. Aquests fitxers es troben al directori Descargas i contenen la configuraci\u00f3 inicial d\u2019un domini o directori del LDAP . Fitxer uo.ldif Aquest fitxer inclou una entrada per definir la UO (ou=Users) i una altra per cada usuari amb atributs. Aix\u00f2 s'utilitza per gestionar estructures i comptes del servidor LDAP. En el apartat de dc posem el nom del host , i en dc posem el domini. ou seria la Unitat Organitzativa Fitxer grup.ldif El fitxer grup.ldif \u00e9s un fitxer en format LDIF utilitzat per definir i gestionar grups dins d'un directori LDAP. Aquest fitxer pot contenir les definicions de grups, incloent-hi els seus noms, membres i altres atributs relacionats. PosixAccount representa comptes d'usuari i es fa servir per a la informaci\u00f3 d'usuaris individuals. PosixGroup representa grups d'usuaris, amb atributs com cn , gidNumber i memberUid per definir els membres del grup. S'utilitza per agrupar usuaris en un mateix grup. Els usuaris poden estar associats a un grup a trav\u00e9s del gidNumber i els membres de cada grup es llisten amb memberUid . Igual que en el fitxer anterior, posarem el nostre host corresponent i el domini. Tamb\u00e9 posarem el nom del memberUid que ser\u00e0 alu1 : Fitxer usu.ldif Finalment, editarem el fitxer usu.ldif que s'utilitza per definir un compte d'usuari en un directori LDAP, incloent-hi atributs com uid , homeDirectory , userPassword i altres informaci\u00f3 relacionada amb el compte. El que s'ha de canviar \u00e9s el host i el domini pel nostre. I si es vol, es pot canviar la contrasenya en userPassword : Una vegada hem editat tots els fitxers anteriors, hem d'executar la comanda ldapadd -c -x -D \"cn=admin,dc=raul,dc=cat\" -W -f uo.ldif S'utilitza per afegir entrades a un directori LDAP i es divideix en les seg\u00fcents parts: ldapadd : \u00c9s l'eina per afegir entrades al directori LDAP. -c : Mant\u00e9 les sortides d'errors en pantalla, mostrant m\u00e9s informaci\u00f3 de la comanda. -x : Utilitza un mode simplificat de connexi\u00f3 sense autenticaci\u00f3 de seguretat. -D \"cn=admin,dc=raul,dc=cat\" : Especifica el DN de l'usuari que s'autentica, en aquest cas, un usuari admin. -W : Demana la contrasenya per a l'usuari cn=admin . -f uo.ldif : Indica el fitxer que cont\u00e9 les dades a afegir al directori. I despr\u00e9s d'utilitzar la comanda anterior s'afegeix totes les dades al directori. Seguidament fem el mateix per als altres dos fitxers: Ara s\u00ed, ja tindr\u00edem tota la informaci\u00f3 agregada tant d'usuaris, grups com l'estructura. Finalment fem \u00fas de la comanda slapcat per veure que les entrades de la base de dades del directori han canviat, i s'ha afegit la informaci\u00f3 corresponent als fitxers anteriors. 2. Unir equips al domini En aquest punt hem d'anar a una altra m\u00e0quina virtual sense tancar la que tenim que fa com a server . Obrim la m\u00e0quina virtual que actua com a client i mirem la seva IP amb ip a . Seguidament comprovem que tenim connexi\u00f3 amb el Server fent un ping 10.0.2.15 , que \u00e9s la IP del server. Podem veure que s\u00ed tenim connexi\u00f3. Instal\u00b7laci\u00f3 de nscd Fem la instal\u00b7laci\u00f3 del paquet nscd que emmagatzema en mem\u00f2ria les consultes a serveis de noms per millorar el rendiment i reduir la c\u00e0rrega del sistema. Instal\u00b7laci\u00f3 de libnss-ldap Tamb\u00e9 hem de fer la instal\u00b7laci\u00f3 de libnss-ldap que permet la integraci\u00f3 de serveis LDAP amb el sistema de noms de serveis, permetent que els usuaris i grups siguin gestionats a trav\u00e9s d'un servidor LDAP. Quan li donem a S per seguir amb la instal\u00b7laci\u00f3, ens sortir\u00e0 una s\u00e8rie de finestres per configurar. En la primera finestra ens trobem que hem d'introduir la IP del server de la seg\u00fcent manera: En la seg\u00fcent finestra hem de canviar la configuraci\u00f3 de l'autor i posar el nostre hostname seguit de nou del domini de la seg\u00fcent manera: En una nova finestra seleccionem la versi\u00f3 de LDAP m\u00e9s recent, en aquest cas la que ve seleccionada per defecte, que \u00e9s la 3 : I en la seg\u00fcent finestra seleccionem l'opci\u00f3 de SI : Seleccionem l'opci\u00f3 de NO per no requerir un inici de sessi\u00f3 per la base de dades de LDAP : En la seg\u00fcent finestra hem de posar les dades de host i domini per al Admin : Finalment hem d'introduir la contrasenya del LDAP : I despr\u00e9s de tots els passos ja tindr\u00edem feta tota la configuraci\u00f3 de libnss-ldap . En cas que en algun moment vulguem reconfigurar els passos anteriors, el que farem ser\u00e0 executar la comanda dpkg-reconfigure ldap-auth-config i tornarem a la primera finestra d'aquesta configuraci\u00f3: Instal\u00b7laci\u00f3 de libpam-ldap Fem la instal\u00b7laci\u00f3 de libpam-ldap , que \u00e9s una biblioteca que permet autenticar usuaris mitjan\u00e7ant un servidor LDAP, en lloc de fer-ho amb fitxers locals. S'integra amb el sistema PAM per gestionar l'acc\u00e9s als recursos del sistema de manera centralitzada. Aix\u00ed, els usuaris poden accedir a diversos sistemes amb una sola identitat gestionada a LDAP. Configuraci\u00f3 /etc/nsswitch.conf Anirem al fitxer de configuraci\u00f3 /etc/nsswitch.conf , que configura l'ordre en qu\u00e8 el sistema cerca fonts d'informaci\u00f3 per resoldre serveis com usuaris, grups, noms d'amfitri\u00f3, etc. En aquest cas, mirar primer els usuaris creats. En aquest fitxer hem d'agregar compat files en els atributs de passwd , group i gshadow : Configuraci\u00f3 /etc/pam.d/common-password Anem al fitxer /etc/pam.d/common-password , que \u00e9s un fitxer de configuraci\u00f3 que defineix les pol\u00edtiques i els m\u00f2duls relacionats amb la gesti\u00f3 de contrasenyes per als sistemes que utilitzen PAM. Mirem que tinguem posat l' use_authtok ; en versions anteriors no ve posat aix\u00ed que l'haur\u00edem d'agregar: Configuraci\u00f3 /etc/pam.d/common-session Ara haurem d'agregar una l\u00ednia al fitxer /etc/pam.d/common-session , que \u00e9s un fitxer que forma part de la configuraci\u00f3 de PAM. Serveix per definir regles comunes que gestionen l'inici i el tancament de les sessions d'usuari. Afegim la l\u00ednia session optional pam_mkhomedir.so skel=/etc/skel unmask=077 que crea autom\u00e0ticament el directori personal d'un usuari quan inicia sessi\u00f3 per primera vegada, si aquest no existeix. pam_mkhomedir.so : M\u00f2dul que crea directoris personals. skel=/etc/skel : Indica que els fitxers i directoris de /etc/skel s'utilitzen com a plantilla per inicialitzar el directori personal. umask=077 : Estableix permisos restrictius per defecte (nom\u00e9s l'usuari t\u00e9 acc\u00e9s complet al seu directori personal). \u00c9s opcional i nom\u00e9s s'executa si el servei ho permet. Configuraci\u00f3 de 50-ubuntu.conf Anem al fitxer /usr/share/lightdm/lightdm.conf.d/50-ubuntu.conf , que configura LightDM a Ubuntu, definint opcions predeterminades com el greeter i la sessi\u00f3 d'escriptori. Sent greeter la interf\u00edcie gr\u00e0fica que mostra el gestor d'inici de sessi\u00f3 per permetre als usuaris introduir les seves credencials i iniciar sessi\u00f3 al sistema. Dins del fitxer afegim la l\u00ednia greeter-show-manual-login=true , que habilita l'opci\u00f3 per introduir manualment el nom d'usuari i la contrasenya a la pantalla d'inici de sessi\u00f3. Connexi\u00f3 amb un usuari de l'equip Finalment farem una cerca al fitxer passwd de l'usuari alu1 creat durant tot aquest proc\u00e9s. Si el veiem, \u00e9s que els passos anteriors han anat b\u00e9. I podem connectar-nos correctament amb l'usuari creat: Seguidament el que farem ser\u00e0 fer un reboot de la m\u00e0quina i introduirem el nom de l'usuari i la seva contrasenya. Usuari alu1 : Contrasenya alu1 : Home de l'usuari:","title":"Sprint 3"},{"location":"sprint3/#gestio-de-dominis-i-accessos","text":"La Gesti\u00f3 de Dominis i Accessos \u00e9s el proc\u00e9s d\u2019administrar els permisos i els drets d'acc\u00e9s dels usuaris a recursos i sistemes dins d\u2019un domini, assegurant la seguretat i el control de la informaci\u00f3. Inclou la creaci\u00f3, modificaci\u00f3 i eliminaci\u00f3 d\u2019usuaris, aix\u00ed com la definici\u00f3 de pol\u00edtiques d'autoritzaci\u00f3. Tamb\u00e9 hem de saber que una Unitat Organitzativa (UO) \u00e9s una estructura l\u00f2gica per organitzar i gestionar usuaris, grups, recursos i permisos, sovint vinculada a dominis o serveis com LDAP. Aquesta agrupaci\u00f3 facilita l'administraci\u00f3 centralitzada i el control d'acc\u00e9s en entorns corporatius.","title":"Gesti\u00f3 de Dominis i Accessos"},{"location":"sprint3/#1-installacio-del-domini-ldap","text":"Primer de tot, el que caldran seran dues m\u00e0quines virtuals amb Ubuntu Desktop . Una s'encarregar\u00e0 de ser el servidor i l'altra actuar\u00e0 com a client . Una vegada tenim les dues m\u00e0quines, configurem la xarxa de cada una en Xarxa NAT . Per comen\u00e7ar, anirem a la m\u00e0quina virtual que far\u00e0 com a Servidor , i mirarem la seva IP amb ip a : La nostra IP en aquest cas ser\u00e0 10.0.2.15 en el Servidor . A continuaci\u00f3, configurem la xarxa del nostre sistema de la seg\u00fcent manera: Per comprovar la connexi\u00f3, utilitzem la comanda ping amb el DNS que \u00e9s 8.8.8.8 : Despr\u00e9s de tot, anem al fitxer /etc/hosts on introduirem la nostra IP d'abans seguida del nostre host name i domini de la seg\u00fcent manera:","title":"1. Instal\u00b7laci\u00f3 del domini LDAP"},{"location":"sprint3/#installacio-de-slapd","text":"Fem \u00fas de apt install slapd ldap-utils per instal\u00b7lar el paquet i primerament ens portar\u00e0 a la seg\u00fcent finestra: En aquesta finestra hem d'introduir la contrasenya que ens permet entrar a slapd com a administrador. Li donem a Aceptar i en la seg\u00fcent finestra que ens surt confirmem la contrasenya introdu\u00efda: Un altre cop donem a Aceptar i finalment, si tot va b\u00e9, tindrem la instal\u00b7laci\u00f3 finalitzada amb \u00e8xit. Un cop fet el pas anterior, executem la comanda slapcat i ens mostrar\u00e0 una s\u00e8rie d'informaci\u00f3 que \u00e9s tota aquella referent a LDAP , que s'utilitza per accedir i gestionar informaci\u00f3 en serveis de directoris, com usuaris i recursos dins d'una xarxa. Seguidament, hem de tenir una s\u00e8rie d'arxius que hem descarregat amb antelaci\u00f3. En aquest cas els tenim ja en un comprimit ZIP a la carpeta Descargas , aix\u00ed que anem i el descomprimim al directori de la seg\u00fcent manera: Obtenim cinc fitxers dels quals un \u00e9s el fitxer base , que en LDAP cont\u00e9 la configuraci\u00f3 inicial d\u2019un domini o directori. Es fa servir per inicialitzar la base de dades LDAP abans d'afegir-hi m\u00e9s dades. Es pot fer pel fitxer base o, com veurem a continuaci\u00f3, per comandes.","title":"Instal\u00b7laci\u00f3 de Slapd"},{"location":"sprint3/#configuracio-de-slapd","text":"Ara configurem el servei LDAP amb la comanda dpkg-reconfigure slapd : Primer de tot s'obrir\u00e0 una finestra on hem de seleccionar l'opci\u00f3 de NO per continuar amb la configuraci\u00f3. Seguidament hem d'introduir el nom que hav\u00edem posat del nostre host amb el domini del DNS , en aquest cas ser\u00e0 raul.cat , i donem a Aceptar . En una altra finestra ens demanen el Nom de l'organitzaci\u00f3 que estem creant, i en aquest cas ser\u00e0 igual que abans: raul.cat : En la seg\u00fcent finestra que ens sortir\u00e0 ens demanaran la contrasenya de l'administrador per accedir al directori LDAP : Confirmaci\u00f3 de la contrasenya: En la nova finestra que sortir\u00e0 a continuaci\u00f3 hem de donar a l'opci\u00f3 de SI : I finalment, en l'\u00faltima finestra hem de seleccionar l'opci\u00f3 de SI : I ja tindr\u00edem creat el directori de LDAP amb totes les configuracions. Ara tornem a utilitzar la comanda slapcat i veiem que respecte al d'abans ara s'han actualitzat els noms de l'organitzaci\u00f3 i el domini. Breument, la informaci\u00f3 vol dir el seg\u00fcent: dn: dc=hostname,dc=domini : Identificador \u00fanic de l'entrada LDAP. objectClass: top : Classe d'objecte b\u00e0sica per a totes les entrades. objectClass: domain : Indica que l'entrada \u00e9s un domini LDAP. dc: exemple : Component del domini ( exemple ) dins de l'arbre LDAP.","title":"Configuraci\u00f3 de Slapd"},{"location":"sprint3/#configuracio-dels-fitxers-ldif","text":"En aquest moment anirem configurant els fitxers que hav\u00edem descarregat abans. Aquests fitxers es troben al directori Descargas i contenen la configuraci\u00f3 inicial d\u2019un domini o directori del LDAP .","title":"Configuraci\u00f3 dels fitxers .ldif"},{"location":"sprint3/#fitxer-uoldif","text":"Aquest fitxer inclou una entrada per definir la UO (ou=Users) i una altra per cada usuari amb atributs. Aix\u00f2 s'utilitza per gestionar estructures i comptes del servidor LDAP. En el apartat de dc posem el nom del host , i en dc posem el domini. ou seria la Unitat Organitzativa","title":"Fitxer uo.ldif"},{"location":"sprint3/#fitxer-grupldif","text":"El fitxer grup.ldif \u00e9s un fitxer en format LDIF utilitzat per definir i gestionar grups dins d'un directori LDAP. Aquest fitxer pot contenir les definicions de grups, incloent-hi els seus noms, membres i altres atributs relacionats. PosixAccount representa comptes d'usuari i es fa servir per a la informaci\u00f3 d'usuaris individuals. PosixGroup representa grups d'usuaris, amb atributs com cn , gidNumber i memberUid per definir els membres del grup. S'utilitza per agrupar usuaris en un mateix grup. Els usuaris poden estar associats a un grup a trav\u00e9s del gidNumber i els membres de cada grup es llisten amb memberUid . Igual que en el fitxer anterior, posarem el nostre host corresponent i el domini. Tamb\u00e9 posarem el nom del memberUid que ser\u00e0 alu1 :","title":"Fitxer grup.ldif"},{"location":"sprint3/#fitxer-usuldif","text":"Finalment, editarem el fitxer usu.ldif que s'utilitza per definir un compte d'usuari en un directori LDAP, incloent-hi atributs com uid , homeDirectory , userPassword i altres informaci\u00f3 relacionada amb el compte. El que s'ha de canviar \u00e9s el host i el domini pel nostre. I si es vol, es pot canviar la contrasenya en userPassword : Una vegada hem editat tots els fitxers anteriors, hem d'executar la comanda ldapadd -c -x -D \"cn=admin,dc=raul,dc=cat\" -W -f uo.ldif S'utilitza per afegir entrades a un directori LDAP i es divideix en les seg\u00fcents parts: ldapadd : \u00c9s l'eina per afegir entrades al directori LDAP. -c : Mant\u00e9 les sortides d'errors en pantalla, mostrant m\u00e9s informaci\u00f3 de la comanda. -x : Utilitza un mode simplificat de connexi\u00f3 sense autenticaci\u00f3 de seguretat. -D \"cn=admin,dc=raul,dc=cat\" : Especifica el DN de l'usuari que s'autentica, en aquest cas, un usuari admin. -W : Demana la contrasenya per a l'usuari cn=admin . -f uo.ldif : Indica el fitxer que cont\u00e9 les dades a afegir al directori. I despr\u00e9s d'utilitzar la comanda anterior s'afegeix totes les dades al directori. Seguidament fem el mateix per als altres dos fitxers: Ara s\u00ed, ja tindr\u00edem tota la informaci\u00f3 agregada tant d'usuaris, grups com l'estructura. Finalment fem \u00fas de la comanda slapcat per veure que les entrades de la base de dades del directori han canviat, i s'ha afegit la informaci\u00f3 corresponent als fitxers anteriors.","title":"Fitxer usu.ldif"},{"location":"sprint3/#2-unir-equips-al-domini","text":"En aquest punt hem d'anar a una altra m\u00e0quina virtual sense tancar la que tenim que fa com a server . Obrim la m\u00e0quina virtual que actua com a client i mirem la seva IP amb ip a . Seguidament comprovem que tenim connexi\u00f3 amb el Server fent un ping 10.0.2.15 , que \u00e9s la IP del server. Podem veure que s\u00ed tenim connexi\u00f3.","title":"2. Unir equips al domini"},{"location":"sprint3/#installacio-de-nscd","text":"Fem la instal\u00b7laci\u00f3 del paquet nscd que emmagatzema en mem\u00f2ria les consultes a serveis de noms per millorar el rendiment i reduir la c\u00e0rrega del sistema.","title":"Instal\u00b7laci\u00f3 de nscd"},{"location":"sprint3/#installacio-de-libnss-ldap","text":"Tamb\u00e9 hem de fer la instal\u00b7laci\u00f3 de libnss-ldap que permet la integraci\u00f3 de serveis LDAP amb el sistema de noms de serveis, permetent que els usuaris i grups siguin gestionats a trav\u00e9s d'un servidor LDAP. Quan li donem a S per seguir amb la instal\u00b7laci\u00f3, ens sortir\u00e0 una s\u00e8rie de finestres per configurar. En la primera finestra ens trobem que hem d'introduir la IP del server de la seg\u00fcent manera: En la seg\u00fcent finestra hem de canviar la configuraci\u00f3 de l'autor i posar el nostre hostname seguit de nou del domini de la seg\u00fcent manera: En una nova finestra seleccionem la versi\u00f3 de LDAP m\u00e9s recent, en aquest cas la que ve seleccionada per defecte, que \u00e9s la 3 : I en la seg\u00fcent finestra seleccionem l'opci\u00f3 de SI : Seleccionem l'opci\u00f3 de NO per no requerir un inici de sessi\u00f3 per la base de dades de LDAP : En la seg\u00fcent finestra hem de posar les dades de host i domini per al Admin : Finalment hem d'introduir la contrasenya del LDAP : I despr\u00e9s de tots els passos ja tindr\u00edem feta tota la configuraci\u00f3 de libnss-ldap . En cas que en algun moment vulguem reconfigurar els passos anteriors, el que farem ser\u00e0 executar la comanda dpkg-reconfigure ldap-auth-config i tornarem a la primera finestra d'aquesta configuraci\u00f3:","title":"Instal\u00b7laci\u00f3 de libnss-ldap"},{"location":"sprint3/#installacio-de-libpam-ldap","text":"Fem la instal\u00b7laci\u00f3 de libpam-ldap , que \u00e9s una biblioteca que permet autenticar usuaris mitjan\u00e7ant un servidor LDAP, en lloc de fer-ho amb fitxers locals. S'integra amb el sistema PAM per gestionar l'acc\u00e9s als recursos del sistema de manera centralitzada. Aix\u00ed, els usuaris poden accedir a diversos sistemes amb una sola identitat gestionada a LDAP.","title":"Instal\u00b7laci\u00f3 de libpam-ldap"},{"location":"sprint3/#configuracio-etcnsswitchconf","text":"Anirem al fitxer de configuraci\u00f3 /etc/nsswitch.conf , que configura l'ordre en qu\u00e8 el sistema cerca fonts d'informaci\u00f3 per resoldre serveis com usuaris, grups, noms d'amfitri\u00f3, etc. En aquest cas, mirar primer els usuaris creats. En aquest fitxer hem d'agregar compat files en els atributs de passwd , group i gshadow :","title":"Configuraci\u00f3 /etc/nsswitch.conf"},{"location":"sprint3/#configuracio-etcpamdcommon-password","text":"Anem al fitxer /etc/pam.d/common-password , que \u00e9s un fitxer de configuraci\u00f3 que defineix les pol\u00edtiques i els m\u00f2duls relacionats amb la gesti\u00f3 de contrasenyes per als sistemes que utilitzen PAM. Mirem que tinguem posat l' use_authtok ; en versions anteriors no ve posat aix\u00ed que l'haur\u00edem d'agregar:","title":"Configuraci\u00f3 /etc/pam.d/common-password"},{"location":"sprint3/#configuracio-etcpamdcommon-session","text":"Ara haurem d'agregar una l\u00ednia al fitxer /etc/pam.d/common-session , que \u00e9s un fitxer que forma part de la configuraci\u00f3 de PAM. Serveix per definir regles comunes que gestionen l'inici i el tancament de les sessions d'usuari. Afegim la l\u00ednia session optional pam_mkhomedir.so skel=/etc/skel unmask=077 que crea autom\u00e0ticament el directori personal d'un usuari quan inicia sessi\u00f3 per primera vegada, si aquest no existeix. pam_mkhomedir.so : M\u00f2dul que crea directoris personals. skel=/etc/skel : Indica que els fitxers i directoris de /etc/skel s'utilitzen com a plantilla per inicialitzar el directori personal. umask=077 : Estableix permisos restrictius per defecte (nom\u00e9s l'usuari t\u00e9 acc\u00e9s complet al seu directori personal). \u00c9s opcional i nom\u00e9s s'executa si el servei ho permet.","title":"Configuraci\u00f3 /etc/pam.d/common-session"},{"location":"sprint3/#configuracio-de-50-ubuntuconf","text":"Anem al fitxer /usr/share/lightdm/lightdm.conf.d/50-ubuntu.conf , que configura LightDM a Ubuntu, definint opcions predeterminades com el greeter i la sessi\u00f3 d'escriptori. Sent greeter la interf\u00edcie gr\u00e0fica que mostra el gestor d'inici de sessi\u00f3 per permetre als usuaris introduir les seves credencials i iniciar sessi\u00f3 al sistema. Dins del fitxer afegim la l\u00ednia greeter-show-manual-login=true , que habilita l'opci\u00f3 per introduir manualment el nom d'usuari i la contrasenya a la pantalla d'inici de sessi\u00f3.","title":"Configuraci\u00f3 de 50-ubuntu.conf"},{"location":"sprint3/#connexio-amb-un-usuari-de-lequip","text":"Finalment farem una cerca al fitxer passwd de l'usuari alu1 creat durant tot aquest proc\u00e9s. Si el veiem, \u00e9s que els passos anteriors han anat b\u00e9. I podem connectar-nos correctament amb l'usuari creat: Seguidament el que farem ser\u00e0 fer un reboot de la m\u00e0quina i introduirem el nom de l'usuari i la seva contrasenya. Usuari alu1 : Contrasenya alu1 : Home de l'usuari:","title":"Connexi\u00f3 amb un usuari de l'equip"},{"location":"sprint4/","text":"","title":"Sprint 4"}]}